{"version":3,"sources":["img/logo.svg","img/dummy-pic.jpg","definitions/polyfills.js","definitions/constants.js","definitions/helpers.js","api/index.js","definitions/auth.js","components/common/CoverImage.jsx","components/Header.jsx","components/common/Contacts.jsx","components/SideBar.jsx","hooks/common.js","store/index.js","components/Page.jsx","components/pages/login/LoginPage.jsx","components/common/UserProfile.jsx","components/pages/account/AccountPage.jsx","data/test_data.js","components/common/ListItem.jsx","components/common/List.jsx","components/ui/ScrollBars.jsx","components/ui/Select.jsx","components/ui/Input.jsx","components/common/Catalog.jsx","components/common/Teacher.jsx","components/pages/teachers/catalog-page/TeachersCatalog.jsx","components/pages/teachers/catalog-page/TeachersCatalogPage.jsx","components/ui/Button.jsx","components/ErrorPage.jsx","components/common/CourseCatalog.jsx","components/common/Course.jsx","components/pages/teachers/teacher-page/TeacherPage.jsx","components/pages/teachers/index.jsx","components/pages/shop/catalog-page/SelectedCoursesTab.jsx","components/pages/shop/catalog-page/ShopCatalogPage.jsx","components/common/CourseOverview.jsx","components/pages/shop/course-page/CoursePriceTab.jsx","components/common/VideoCover.jsx","components/common/Lesson.jsx","components/pages/shop/course-page/CoursePage.jsx","components/pages/shop/index.jsx","components/common/WebinarSchedule.jsx","components/pages/courses/catalog-page/CatalogPage.jsx","components/pages/courses/course-page/CoursePage.jsx","components/ui/Tooltip.jsx","components/ui/LoadingIndicator.jsx","components/ui/File.jsx","components/common/VideoPlayer.jsx","components/common/StableCSSTransition.jsx","components/ui/FileInput.jsx","components/common/NavigationBlocker.jsx","components/pages/courses/lesson-page/HomeworkLoader.jsx","components/pages/courses/lesson-page/LessonView.jsx","components/pages/courses/lesson-page/LessonPage.jsx","components/pages/courses/index.jsx","components/App.jsx","serviceWorker.js","index.js","img/dummy_poster.jpg"],"names":["module","exports","__webpack_require__","p","elementClosest","window","CustomEvent","event","params","bubbles","cancelable","detail","undefined","evt","document","createEvent","initCustomEvent","prototype","Event","ACCOUNT_ROLES","LEARNING_STATUS","learning","finished","daysBetween","date1","date2","date1_ms","Date","getYear","getMonth","getDate","getTime","difference_ms","Math","floor","renderDate","date","options","locale","arguments","length","toLocaleString","Object","assign","day","month","shortDate","hour","minute","getFileExtension","filename","split","pop","downloadFile","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","url","name","blob","link","wrap","_context","prev","next","console","log","navigator","msSaveBlob","fetch","then","r","sent","abrupt","createElement","download","href","MouseEvent","dispatchEvent","stop","_x","_x2","apply","this","API_ROOT","CancelToken","axios","getCancelToken","source","token","cancel","APIRequest","create","baseURL","paramsSerializer","searchParams","URLSearchParams","_","forEach","value","key","Array","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","element","append","err","return","toString","interceptors","request","use","config","Auth","user","_objectSpread","auth","username","uid","password","hash","Cancel","response","data","URL","pathname","map","id","account_id","objectWithoutProperties","_ref2","date_start","date_end","image_link","teacher_id","rest","concat","teacher_ids","status","group","sortBy","_ref3","hometask","lesson","assignment","deadline","description","files","file_link","downloadName","test","_response$data","file","original_file_name","id_file_name","_ref4","_ref4$webinar","webinar","duration","error","toJSON","LOCAL_STORAGE_KEY","AuthEventTypes","login","logout","initVK","VK","init","apiId","process","_this","classCallCheck","eventHandlers","info","localStorage","setItem","JSON","stringify","handler","t0","finish","removeItem","userInfo","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","storedString","getItem","storedData","parse","first_name","last_name","photo","photo_rec","Error","e","eventType","push","filter","func","get","_context2","elementId","Widgets","onAuth","CoverImage","src","className","children","_ref$square","square","_ref$round","round","react_default","style","backgroundImage","Header","props","onMenuButtonClick","sidebar","onClick","logo","alt","Fragment","common_CoverImage","react_router_dom","to","tabIndex","Contacts","_ref$contacts","contacts","vk","fb","ok","ig","Link","activeClassName","SideBar","target","currentTarget","classList","contains","onMenuClose","isAdmin","isModerator","isPupil","accountRoles","includes","React","Component","useTruncate","text","descriptionRef","useRef","_React$useState","useState","readyState","_React$useState2","slicedToArray","isFontLoaded","setFontLoaded","useEffect","addEventListener","handleResize","removeEventListener","handleLoading","current","onResize","useRefValue","initialValue","ref","useCallback","useUpdateEffect","effect","dependencies","isInitialMount","StoreContext","createContext","useShopCatalogStore","useUserCoursesStore","useSubjectsStore","useTeachersStore","useLessonsStore","useWebinarsStore","requests","useSubjects","_React$useContext","useContext","subjects","setSubjects","setters","_React$useState5","_React$useState6","setError","fetchSubjects","_callee2","_subjects","retry","useDiscount","selectedCourses","_React$useState7","_React$useState8","discount","setDiscount","_React$useState9","_React$useState10","_useRefValue","_useRefValue2","getCancel","setCancel","fetchDiscount","_callee3","courses","cancelPrev","_getCancelToken","cancelToken","_discount","_context3","Set","toConsumableArray","coursesIds","useTeachers","_useSubjects","errorLoadingSubjects","reloadSubjects","_React$useContext2","teachers","setTeachers","_React$useState11","_React$useState12","fetchTeachers","_callee4","_teachers","_context4","useShopCatalog","_useSubjects2","_React$useContext3","catalog","setCatalog","_React$useState13","_React$useState14","fetchCatalog","_callee5","_catalog","_context5","shopCatalog","useUserCourses","_useSubjects3","_React$useContext4","userCourses","setUserCourses","_React$useState15","_React$useState16","fetchUserCourses","_callee6","_context6","useLessons","courseId","_React$useContext5","lessons","setLessons","_React$useState17","_React$useState18","fetchLessons","_ref8","_callee7","_lessons","_context7","loadedLessons","store_objectSpread","defineProperty","GlobalStore","_ref12","_useUserAuth","getUser","setUser","_React$useState3","_React$useState4","setUserInfo","getUserInfo","fetchUserInfo","loginCallback","logoutCallback","useLayoutEffect","subscribe","unsubscribe","useUserAuth","_useUserAuth2","_useShopCatalogStore","_useShopCatalogStore2","_useUserCoursesStore","_useUserCoursesStore2","_useSubjectsStore","_useSubjectsStore2","_useTeachersStore","_useTeachersStore2","_useLessonsStore","_useLessonsStore2","_useWebinarsStore","_useWebinarsStore2","webinars","setWebinars","useStoreData","Provider","useUser","_React$useContext8","PageLoadingPlaceholder","PageLink","_ref$arrow","arrow","_ref$forward","forward","PageContent","parentSection","Page_PageLink","BottomTab","stickyProps","lib_default","mode","Page","title","_ref4$checkLogin","checkLogin","location","_useUser","react_router","state","referrer","Helmet","LoginPage","loginWidget","components_Page","UserProfile","about","role","fullName","AccountPage","Page_PageContent","common_UserProfile","lorem","LoremIpsum","daysForward","setDate","poster","SUBJECTS","TEACHERS","vk_info","photo_max_orig","slice","bio","generateSentences","COURSES","subject","i","subject_id","online","generateParagraphs","SHOP_CATALOG","times","j","locked","num","video_link","watchProgress","course","test_data_objectSpread","price","MY_COURSES","subject_name","course_id","course_name","pic","ListItem","preview","subtitle","item","selectable","action","clickCallback","actionCallback","onActionClick","callbackProps","_useTruncate","_useTruncate2","clicked","closest","preventDefault","content","Truncate","lines","List","renderItem","renderProps","flex","index","defaultProps","renderEmpty","renderTrackVertical","renderThumbVertical","renderTrackHorizontal","renderThumbHorizontal","ScrollBars","forwardRef","_ref$hideVerticalScro","hideVerticalScrollbar","_ref$hideHorizontalSc","hideHorizontalScrollbar","react_custom_scrollbars_lib","DropdownIndicator","react_select_esm","SelectContainer","selectProps","hasValue","setValue","Select_objectSpread","isClearable","Option","label","MenuList","innerRef","scrollBar","view","ui_ScrollBars","autoHeight","hideTracksWhenNotNeeded","autoHeightMax","maxHeight","Select","onChange","option","_this2","callback","_this$props","components","_this$props$isClearab","_this$props$isSearcha","isSearchable","placeholder","maxMenuHeight","find","classNamePrefix","menuPlacement","noOptionsMessage","styles","PureComponent","useChangeHandler","inputProp","Input","CheckBox","type","checked","CatalogContext","common_Catalog","Filter","_ref$filterBy","filterBy","_ref$filterBy$subject","filterBySubject","_ref$filterBy$online","filterByOnline","ui_Input","Catalog","renderFunc","listProps","baseUrl","items","Catalog_objectSpread","Body","filterItems","_props$renderProps","history","useHistory","useLocation","search","parseInt","onFilterChange","set","delete","matchingItems","Teacher","_props$teacher","teacher","_props$teacher$vk_inf","teacherSubjects","_props$bio","toLowerCase","join","catalog_page_TeachersCatalog","renderTeacher","otherProps","useMemo","zipObject","subjectsTeachers","reduce","result","values","getMatchingCourses","some","TeachersCatalogPage","_useTeachers","Page_PageLoadingPlaceholder","Button","_ref$active","active","_ref$neutral","neutral","icon","iconAction","_ref$tag","tag","Tag","ErrorPage","errorCode","message","_ref$link","code","number","ui_Button","replace","common_CourseCatalog","renderCourse","Course","_ref$online","_ref$isSelected","isSelected","startsIn","TeacherPage","param_id","match","root","path","_useShopCatalog","minWidth","_teacher$vk_info","teachersCourses","indexOf","profile","components_ErrorPage","Teachers","render","teacher_page_TeacherPage","exact","catalog_page_TeachersCatalogPage","SelectedCourse","onCourseDeselect","onTruncate","onDeselectClick","renderView","SelectedCoursesTab_objectSpread","height","minHeight","SelectedCoursesTab","discountInfo","fullPrice","sumBy","discounted_price","Page_BottomTab","TransitionGroup","CSSTransition","classNames","timeout","SelectedCoursesTab_SelectedCourse","ShopCatalogPage","onCourseSelect","onCourseClick","_useDiscount","has","purchased","catalog_page_SelectedCoursesTab","CourseOverviewContext","common_CourseOverview","total_hours","renderLesson","CoursePriceTab","_React$useContext$cou","VideoCover","cover","_ref$locked","width","Lesson","common_VideoCover","CoursePage","_useLessons","reloadDiscount","course_page_CoursePriceTab","Shop","setSelectedCourses","add","course_page_CoursePage","catalog_page_ShopCatalogPage","WEBINAR_STATE","Webinar","now","getWebinarState","setState","onWebinarStart","timeTillEnd","setTimeout","clearTimeout","isAiring","index_es","renderer","remainingTime","_remainingTime$format","formatted","days","hours","minutes","seconds","completed","onComplete","WebinarSchedule","schedule","WebinarSchedule_Webinar","CatalogPage","_useUserCourses","_useUpcomingWebinars","_React$useContext6","_React$useState23","_React$useState24","fetchWebinars","_callee9","_webinars","_context9","upcoming","loadedWebinars","useUpcomingWebinars","common_WebinarSchedule","_useCourseWebinars","_React$useContext7","_React$useState25","_React$useState26","_ref11","_callee10","_webinars2","_context10","_x3","useCourseWebinars","Tooltip","child","Children","only","position","cloneElement","react","LOADING_STATE","PENDING","LOADING","LOADED","SUCCESS","DONE","REJECTED","ERROR","useLoadingState","loading","rejected","LoadingIndicator","errorMessage","SwitchTransition","appear","ui_Tooltip","File","_ref$file","_ref$error","_ref$rejected","_ref$loading","_ref$done","_ref$deletable","deletable","onDelete","onIndicatorClick","downloadCallback","isUpload","LoadingIndicator_LoadingIndicator","VideoPlayer","frameBorder","allow","allowFullScreen","StableCSSTransition","phase","node","getPrototypeOf","call","appliedClasses","ReactDOM","findDOMNode","FILE_STATUS","FileInputContext","allFilesReady","every","f","meta","isFileReady","getUploadParams","headers","Authorization","btoa","getFileProp","getFilesFromEvent","accept","multiple","disabled","onFiles","maxFiles","extra","chosenFiles","isActive","Preview","_props$fileWithMeta","fileWithMeta","remove","restart","xhr","_props$meta","_props$meta$name","_props$meta$percent","percent","canRemove","getResponse","setResponse","responseText","_JSON$parse","deleteCallback","hasError","startsWith","isRejected","isDone","ui_File","SubmitButton","submitting","hasChanged","onSubmit","isDisabled","submitCallback","common_StableCSSTransition","in","mountOnEnter","unmountOnExit","Layout","input","_ref4$previews","previews","submitButton","dropzoneProps","_ref5","_ref5$preloadedFiles","preloadedFiles","deletePreloadedFile","getCallbackFiles","_ref6","FileInput","_props$initialFiles","initialFiles","_props$inputContent","inputContent","_props$maxFiles","_props$maxSizeBytes","maxSizeBytes","_props$isDisabled","setPreloadedFiles","setChanged","setSubmitting","_useRefValue3","_useRefValue4","getInputFiles","setInputFiles","newPreloadedFiles","handleChangeStatus","_ref7","cloneDeep","handleSubmit","filesToSubmit","returnValue","Promise","react_dropzone_uploader_default","submitButtonContent","onChangeStatus","canCancel","SubmitButtonComponent","LayoutComponent","InputComponent","PreviewComponent","NavigationBlocker","unloadCallback","HomeworkLoader","homework","lessonId","isHomeworkSubmissionClosed","hasChanges","setChanges","method","common_NavigationBlocker","ui_FileInput","LessonView","_ref$lesson","video","common_VideoPlayer","lesson_page_HomeworkLoader","LessonPage","_props$match$params","param_course","param_lesson","_useHomework","_React$useState19","_React$useState20","setHomework","_React$useState21","_React$useState22","fetchHomework","_ref9","_callee8","_homework","_context8","useHomework","selectedLesson","nextVideo","otherLessons","lesson_page_LessonView","MyCourses","lesson_page_LessonPage","courses_course_page_CoursePage","catalog_page_CatalogPage","useLocationChangeEffect","listen","onLocationChange","args","App","useForceTrailingSlash","getPrevPath","setPrevPath","scrollTo","useScrollToTop","_useSideBarState","isSideBarOpened","setSideBar","opened","useSideBarState","_useSideBarState2","toggleSideBar","showSidebar","components_Header","layoutAnimationClassNames","SideBar_SideBar","roles","component","Login","Account","enter","enterActive","enterDone","exit","exitActive","Boolean","hostname","basename","store","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8ef0f79b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.54b51040.svg\";","module.exports = __webpack_public_path__ + \"static/media/dummy-pic.c0547b67.jpg\";","import 'react-app-polyfill/ie11';\r\nimport 'react-app-polyfill/stable';\r\nimport elementClosest  from 'element-closest';\r\n\r\nelementClosest(window);\r\n\r\n//IE doesn't support event constructor\r\n(function () {\r\n    if ( typeof window.CustomEvent === \"function\" ) return false; //If not IE\r\n\r\n    function CustomEvent ( event, params ) {\r\n        params = params || { bubbles: false, cancelable: false, detail: undefined };\r\n        var evt = document.createEvent( 'CustomEvent' );\r\n        evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\r\n        return evt;\r\n    }\r\n\r\n    CustomEvent.prototype = window.Event.prototype;\r\n\r\n    window.CustomEvent = CustomEvent;\r\n})();\r\n","export const ACCOUNT_ROLES = {\r\n  ADMIN: 'ADMIN',\r\n  MODERATOR: 'MODERATOR',\r\n  TEACHER: 'TEACHER',\r\n  HELPER: 'HELPER',\r\n  PUPIL: 'PUPIL'\r\n};\r\n\r\nexport const LEARNING_STATUS = {\r\n  learning: 'learning',\r\n  finished: 'finished'\r\n};\r\n\r\nexport const DEFAULT_LOGIN_REDIRECT = '/shop/';\r\n","export const daysBetween = (date1, date2) => {\r\n    const one_day = 1000 * 60 * 60 * 24;\r\n    const date1_ms = new Date(date1.getYear(), date1.getMonth(), date1.getDate()).getTime();\r\n    const date2_ms = new Date(date2.getYear(), date2.getMonth(), date2.getDate()).getTime();\r\n    const difference_ms = date2_ms - date1_ms;\r\n    return Math.floor(difference_ms / one_day);\r\n};\r\n\r\nexport const renderDate = (date, options, locale='ru') => date.toLocaleString(locale, options);\r\nObject.assign(renderDate, {\r\n    date: {\r\n        day: 'numeric',\r\n        month: 'long'\r\n    },\r\n    shortDate: {\r\n        day: 'numeric',\r\n        month: 'numeric'\r\n    },\r\n    hour: {\r\n        hour: 'numeric',\r\n        minute: 'numeric'\r\n    }\r\n});\r\n\r\nexport const getAuthHeader = (username, password) => ({'Authorization': `Basic ${btoa(username + \":\" + password)}`});\r\n\r\nexport const trimFileExtension = (filename) => filename.replace(/\\.[^/.]+$/, \"\");\r\n\r\nexport const getFileExtension = (filename) => filename.split('.').pop() || '';\r\n\r\nexport const downloadFile = async (url, name) => {\r\n    console.log(url, name);\r\n    // IE10+ : (has Blob, but not a[download] or URL)\r\n    if (navigator.msSaveBlob) {\r\n        let blob = await fetch(url).then(r => r.blob());\r\n        return navigator.msSaveBlob(blob, name);\r\n    }\r\n    else {\r\n        let link = document.createElement('a');\r\n        link.download = name;\r\n        link.href = url;\r\n        // link.target = '_blank';\r\n        let event = new MouseEvent('click');\r\n        link.dispatchEvent(event);\r\n    }\r\n};\r\n","import Auth from 'definitions/auth';\r\nimport _ from 'lodash';\r\nimport axios from 'axios';\r\n// import {handleRequstsWithTestData} from \"./test\";\r\nimport {LEARNING_STATUS} from \"definitions/constants\";\r\nimport {getFileExtension} from \"definitions/helpers\";\r\n\r\nexport const API_ROOT = 'https://egehackbottest.tk';\r\n\r\nconst CancelToken = axios.CancelToken;\r\n\r\nexport const getCancelToken = () => {\r\n    const source = CancelToken.source();\r\n    return {\r\n        token: source.token,\r\n        cancel: source.cancel\r\n    }\r\n};\r\n\r\nconst APIRequest = axios.create({\r\n    baseURL: API_ROOT,\r\n    paramsSerializer: (params) => {\r\n        const searchParams = new URLSearchParams();\r\n        _.forEach(params, (value, key) => {\r\n            if (value instanceof Array) {\r\n                for(let element of value)\r\n                    searchParams.append(key, element);\r\n            } else {\r\n                searchParams.append(key, value);\r\n            }\r\n        });\r\n        return searchParams.toString();\r\n    }\r\n});\r\n\r\nAPIRequest.interceptors.request.use(function (config) {\r\n    if (Auth.user) {\r\n        return {\r\n            auth: {\r\n                username: Auth.user.uid,\r\n                password: Auth.user.hash\r\n            },\r\n            ...config\r\n        }\r\n    }\r\n    else\r\n        throw new axios.Cancel('User not logged in.');\r\n});\r\n\r\n//Interceptors\r\nconst transformData = (response) => {\r\n    const {config, data} = response;\r\n    const url = new URL(config.url);\r\n    switch (true) {\r\n        case url.pathname === '/accounts/teachers':\r\n            return data.map(({account_id: id, ...teacher}) => ({id, ...teacher}));\r\n        case url.pathname === '/courses':\r\n            return data.map(({date_start, date_end, image_link, teacher_id, ...rest}) => ({\r\n                date_start: new Date(date_start),\r\n                date_end: new Date(date_end),\r\n                image_link: `${API_ROOT}${image_link}`,\r\n                teacher_ids: [teacher_id],\r\n                status: config.params.group === 'PERSON' ? LEARNING_STATUS.learning : undefined,\r\n                ...rest\r\n            }));\r\n        case url.pathname === '/lessons':\r\n            return _.sortBy(data, 'num').map(({hometask, ...lesson}) => ({\r\n                ...lesson,\r\n                image_link: `${API_ROOT}${lesson.image_link}`,\r\n                assignment: hometask ? ({\r\n                    deadline: hometask.deadline ? new Date(hometask.deadline) : hometask.deadline,\r\n                    description: hometask.description,\r\n                    files: hometask.file_link ? [\r\n                        {\r\n                            name: \"Задание\",\r\n                            downloadName: `Задание.${getFileExtension(hometask.file_link)}`,\r\n                            url: `${API_ROOT}${hometask.file_link}?disp=attachment`},\r\n                    ] : hometask.file_link,\r\n                }) : hometask\r\n            }));\r\n        case /\\/lessons\\/(.*)\\/homeworks\\/pupil$/.test(url.pathname):\r\n            const {file, date:dateTime, ...rest} = response.data;\r\n            const date = new Date();\r\n            return {\r\n                ...rest,\r\n                date,\r\n                files: [\r\n                    {\r\n                        original_file_name: `Загруженное_решение.${getFileExtension(file)}`,\r\n                        id_file_name: file,\r\n                        file_link: `${API_ROOT}/files/${file}?disp=attachment`\r\n                    }\r\n                ]\r\n            };\r\n        case url.pathname === '/courses/schedule/person':\r\n        case /\\/courses\\/(.*)\\/schedule\\/person$/.test(url.pathname):\r\n            return _.sortBy(data.map(({webinar: {date_start, duration, ...webinar}, image_link, ...rest}) => ({\r\n                date_start: new Date(date_start),\r\n                date_end: new Date(date_start + duration * 1000 * 60),\r\n                duration,\r\n                image_link: `${API_ROOT}${image_link}`,\r\n                ...webinar,\r\n                ...rest\r\n            })), 'date_start');\r\n        default:\r\n            return response.data;\r\n    }\r\n};\r\nconst transformError = (error) => {\r\n    if (!error.toJSON)\r\n        throw error;\r\n    const {config} = error.toJSON();\r\n    const url = new URL(config.url);\r\n    if (error.response && error.response.status === 404) {\r\n        switch (true) {\r\n            case /\\/lessons\\/(.*)\\/homeworks\\/pupil$/.test(url.pathname):\r\n                return ({data: {}});\r\n            default:\r\n                throw error;\r\n        }\r\n    }\r\n    else\r\n        throw error;\r\n};\r\nAPIRequest.interceptors.response.use(transformData, transformError);\r\n\r\n//returns test data for all failed requests\r\n// handleRequstsWithTestData(APIRequest);\r\n\r\nwindow.APIRequest = APIRequest;\r\n\r\nexport default APIRequest;\r\n","/*global VK*/\r\nimport APIRequest from \"api\";\r\n\r\nconst LOCAL_STORAGE_KEY = 'ege-hack-user-data';\r\n\r\nexport const AuthEventTypes = {\r\n    login: 'auth.login',\r\n    logout: 'auth.logout'\r\n};\r\n\r\nconst initVK = true;\r\n\r\nVK.init({apiId: process.env.REACT_APP_VK_APP_ID}, true);\r\n\r\nclass Auth {\r\n    user = null;\r\n\r\n    constructor() {\r\n        try {\r\n            const storedString = localStorage.getItem(LOCAL_STORAGE_KEY);\r\n            if (!storedString) {\r\n                this.user = null;\r\n                return;\r\n            }\r\n            const storedData = JSON.parse(storedString);\r\n            const {uid, first_name, last_name, photo, photo_rec, hash} = storedData;\r\n            if (!(uid && hash))\r\n                throw new Error(`Incomplete data parsed from local storage: ${storedString}`);\r\n            this.user = {uid, first_name, last_name, photo, photo_rec, hash};\r\n        }\r\n        catch (e) {\r\n            console.error('User data can not be recovered', e);\r\n            localStorage.removeItem(LOCAL_STORAGE_KEY);\r\n            this.user = null;\r\n        }\r\n    }\r\n\r\n    eventHandlers = {};\r\n\r\n    login = async (user) => {\r\n        if (!VK)\r\n            return;\r\n        if (!initVK)\r\n            VK.init({apiId: process.env.REACT_APP_VK_APP_ID}, true);\r\n        // user = {\r\n        //     ...user,\r\n        //     uid: 1,\r\n        //     hash: '68ab57e7e70fae3f8f96afc0d85465a9'\r\n        // };\r\n        console.info('Login', user);\r\n        localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(user));\r\n        this.user = user;\r\n        // await this.getUserInfo();\r\n        // if (!this.userInfo)\r\n        //     return;\r\n        for(let handler of (this.eventHandlers[AuthEventTypes.login] || []))\r\n            handler(this.user);\r\n    };\r\n\r\n    logout = () => {\r\n        // VK.Auth.logout((data) => {\r\n            console.info('Logout');\r\n            localStorage.removeItem(LOCAL_STORAGE_KEY);\r\n            this.user = null;\r\n            this.userInfo = null;\r\n            for(let handler of (this.eventHandlers[AuthEventTypes.logout] || []))\r\n                handler();\r\n        // });\r\n    };\r\n\r\n    subscribe(eventType, handler) {\r\n        (this.eventHandlers[eventType] || (this.eventHandlers[eventType] = [])).push(handler);\r\n    }\r\n\r\n    unsubscribe(eventType, handler) {\r\n        this.eventHandlers[eventType] = this.eventHandlers[eventType].filter(func => func !== handler);\r\n    }\r\n\r\n    // subscribe(eventType, handler) {\r\n    //     VK.Observer.subscribe(eventType, handler);\r\n    // }\r\n    //\r\n    // unsubscribe(eventType, handler) {\r\n    //     VK.Observer.unsubscribe(eventType, handler);\r\n    // }\r\n\r\n    getUser() {\r\n        return this.user;\r\n    }\r\n\r\n    async getUserInfo() {\r\n        if (this.userInfo)\r\n            return this.userInfo;\r\n        try {\r\n            this.userInfo = await APIRequest.get('/accounts/info');\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            this.userInfo = null;\r\n        }\r\n        return this.userInfo;\r\n    }\r\n\r\n    loginWidget(elementId) {\r\n        if (!VK)\r\n            return;\r\n        if (!initVK)\r\n            VK.init({apiId: process.env.REACT_APP_VK_APP_ID});\r\n        VK.Widgets.Auth(elementId, {onAuth: this.login});\r\n    }\r\n}\r\n\r\nexport default new Auth();\r\n","import React from 'react';\r\n\r\nconst CoverImage = ({src, className, children, square=false, round=false}) => {\r\n    return (\r\n        <div className={`${className || ''} cover ${square ? 'square-cover' : ''} ${round ? 'round-cover' : ''}`}>\r\n            <div className=\"cover-img\" style={{backgroundImage: `url(${src})`}}/>\r\n            {children}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CoverImage;\r\n","import React from 'react';\r\nimport logo from 'img/logo.svg';\r\nimport Auth from 'definitions/auth';\r\nimport {Link} from 'react-router-dom';\r\nimport CoverImage from \"./common/CoverImage\";\r\n\r\nconst Header = (props) => {\r\n    const {onMenuButtonClick, user, sidebar} = props;\r\n    return (\r\n        <header>\r\n            <div className=\"container-fluid header__container\">\r\n                <div className=\"row\">\r\n                    {sidebar && (\r\n                        <div className=\"col-auto d-lg-none\">\r\n                            <div className=\"nav-btn\" onClick={onMenuButtonClick}>\r\n                                <i className=\"icon-bars\"/>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    <div className=\"col d-flex justify-content-center justify-content-lg-start p-0\">\r\n                        <div className=\"logo-container container d-flex align-items-center justify-content-center m-0\">\r\n                            <img src={logo} className=\"logo\" alt=\"Logo\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-auto d-flex\">\r\n                        <div className=\"user-nav\">\r\n                            {user ? (\r\n                                <React.Fragment>\r\n                                    <div className=\"user-nav__user-name\">{user.first_name} {user.last_name}</div>\r\n                                    {user.photo_rec ? (\r\n                                        <div className=\"nav-btn\">\r\n                                            <CoverImage src={user.photo_rec} round square/>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div className=\"nav-btn\">\r\n                                            <i className=\"icon-profile\"/>\r\n                                        </div>\r\n                                    )}\r\n                                    <div className=\"user-nav__menu-container\">\r\n                                        <div className=\"user-nav__menu\">\r\n                                            <div className=\"user-nav__menu-options\">\r\n                                                <Link to=\"/account/\" className=\"menu-option\">\r\n                                                    <i className=\"icon-profile\"/>Аккаунт\r\n                                                </Link>\r\n                                                <Link to=\"/account/settings/\" className=\"menu-option\">\r\n                                                    <i className=\"icon-settings\"/>Настройки\r\n                                                </Link>\r\n                                                <div\r\n                                                    className=\"menu-option\"\r\n                                                    tabIndex={2}\r\n                                                    onClick={Auth.logout}>\r\n                                                    <i className=\"icon-logout\"/>Выход\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </React.Fragment>\r\n                            ) : (\r\n                                <React.Fragment>\r\n                                    <div className=\"nav-btn\">\r\n                                        <i className=\"icon-profile\"/>\r\n                                    </div>\r\n                                    <div className=\"user-nav__menu-container\">\r\n                                        <div className=\"user-nav__menu\">\r\n                                            <div className=\"user-nav__menu-options\">\r\n                                                <Link to=\"/login/\" className=\"menu-option\">\r\n                                                    <i className=\"icon-login\"/>Войти\r\n                                                </Link>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </React.Fragment>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport default function Contacts({contacts: {vk, fb, ok, ig}}) {\r\n    return (\r\n        <div className=\"social-media font-light-grey\">\r\n            {vk && <a href={vk} className=\"social-media__link\"><i className=\"fab fa-vk vk\"/></a>}\r\n            {fb && <a href={fb} className=\"social-media__link\"><i className=\"fab fa-facebook-f fb\"/></a>}\r\n            {ok && <a href={ok} className=\"social-media__link\"><i className=\"fab fa-odnoklassniki ok\"/></a>}\r\n            {ig && <a href={ig} className=\"social-media__link\"><i className=\"fab fa-instagram ig\"/></a>}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport _ from 'lodash';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Contacts from \"./common/Contacts\";\r\nimport {ACCOUNT_ROLES} from \"definitions/constants\";\r\n\r\nfunction Link(props) {\r\n    return <NavLink className=\"layout__sidebar-menu-link\" activeClassName=\"active\" {...props}/>;\r\n}\r\n\r\nexport default class SideBar extends React.Component{\r\n    onClick = (event) => {\r\n        if (event.target === event.currentTarget || event.target.classList.contains('layout__sidebar-menu-link'))\r\n            this.props.onMenuClose();\r\n    };\r\n\r\n    render() {\r\n        const {accountRoles} = this.props;\r\n        let isAdmin, isModerator, isTeacher, isPupil;\r\n        if (accountRoles === undefined) {\r\n            isAdmin = undefined; isModerator = undefined; isTeacher = undefined; isPupil = undefined;\r\n        }\r\n        else if (accountRoles === null) {\r\n            isAdmin = null; isModerator = null; isTeacher = null; isPupil = null;\r\n        }\r\n        if (accountRoles) {\r\n            isAdmin = _.includes(accountRoles, ACCOUNT_ROLES.ADMIN);\r\n            isModerator = _.includes(accountRoles, ACCOUNT_ROLES.MODERATOR);\r\n            isTeacher = _.includes(accountRoles, ACCOUNT_ROLES.TEACHER);\r\n            isPupil = _.includes(accountRoles, ACCOUNT_ROLES.PUPIL);\r\n        }\r\n        if (accountRoles === null)\r\n            return null;\r\n        return (\r\n            <div className=\"layout__sidebar\" onClick={this.onClick}>\r\n                <div className=\"layout__sidebar-bar\">\r\n                    {accountRoles === undefined ? (\r\n                        <div className=\"layout__sidebar-content\">\r\n                            <div className=\"layout__sidebar-menu ph-item\">\r\n                                <div className=\"layout__sidebar-menu-section\">\r\n                                    <div className=\"layout__sidebar-menu-link\"><div className=\"ph-text\"/></div>\r\n                                    <div className=\"layout__sidebar-menu-link\"><div className=\"ph-text\"/></div>\r\n                                    <div className=\"layout__sidebar-menu-link\"><div className=\"ph-text\"/></div>\r\n                                    <div className=\"layout__sidebar-menu-link\"><div className=\"ph-text\"/></div>\r\n                                    <div className=\"layout__sidebar-menu-link\"><div className=\"ph-text\"/></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"layout__sidebar-content\">\r\n                            <div className=\"layout__sidebar-menu\">\r\n                                {isPupil && (\r\n                                    <div className=\"layout__sidebar-menu-section\">\r\n                                        <Link to=\"/courses/\">Мои курсы</Link>\r\n                                        {/*<Link to=\"/homework/\">Домашняя работа</Link>*/}\r\n                                    </div>\r\n                                )}\r\n                                <div className=\"layout__sidebar-menu-section\">\r\n                                    <Link to=\"/shop/\">Магазин курсов</Link>\r\n                                    <Link to=\"/teachers/\">Преподаватели</Link>\r\n                                    <Link to=\"/about/\">О нас</Link>\r\n                                </div>\r\n                                {(isAdmin || isModerator) && (\r\n                                    <React.Fragment>\r\n                                        <div className=\"layout__sidebar-menu-section\">\r\n                                            <Link to=\"/courses/\">Мои курсы</Link>\r\n                                            <Link to=\"/homework/\">Домашняя работа</Link>\r\n                                        </div>\r\n                                        <div className=\"layout__sidebar-menu-section\">\r\n                                            <Link to=\"/shop/\">Магазин курсов</Link>\r\n                                            <Link to=\"/teachers/\">Преподаватели</Link>\r\n                                            <Link to=\"/about/\">О нас</Link>\r\n                                        </div>\r\n                                    </React.Fragment>\r\n                                )}\r\n                            </div>\r\n                            <Contacts contacts={{vk: '/', fb: '/', ig: '/'}}/>\r\n                            <div className=\"layout__sidebar-copyright font-size-sm font-light-grey\">\r\n                                Все права защищены<br/>\r\n                                \"ЕГЭHACK\"\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nexport function useTruncate(text) {\r\n    const descriptionRef = React.useRef(null);\r\n    const [isFontLoaded, setFontLoaded] = React.useState(document.readyState === \"complete\");\r\n    React.useEffect(() => {\r\n        if (!text)\r\n            return;\r\n        function handleResize() {\r\n            if (descriptionRef.current) {\r\n                descriptionRef.current.onResize();\r\n            }\r\n        }\r\n        window.addEventListener('resize', handleResize);\r\n        if (isFontLoaded)\r\n            return () => {\r\n                window.removeEventListener('resize', handleResize);\r\n            };\r\n        if (document.readyState === \"complete\") {\r\n            setFontLoaded(true);\r\n            return () => {\r\n                window.removeEventListener('resize', handleResize);\r\n            };\r\n        }\r\n        else {\r\n            function handleLoading() {\r\n                setFontLoaded(true);\r\n            }\r\n            window.addEventListener('load', handleLoading);\r\n            return () => {\r\n                window.removeEventListener('load', handleLoading);\r\n            };\r\n        }\r\n    }, [isFontLoaded, text]);\r\n    return [descriptionRef, isFontLoaded];\r\n}\r\n\r\nexport function useRefValue(initialValue) {\r\n    const ref = React.useRef(initialValue);\r\n    const getValue = React.useCallback(() => ref.current, []);\r\n    const setValue = React.useCallback((value) => {\r\n        ref.current = value;\r\n    }, []);\r\n    return [getValue, setValue];\r\n}\r\n\r\nexport function useIsMounted() {\r\n    const [getIsMounted, setIsMounted] = useRefValue(false);\r\n\r\n    React.useLayoutEffect(() => {\r\n        console.log('mounting');\r\n        setIsMounted(true);\r\n        return () => {\r\n            console.log('unmounting');\r\n            setIsMounted(false);\r\n        };\r\n    }, []);\r\n\r\n    return getIsMounted;\r\n}\r\n\r\nexport function useUpdateEffect(effect, dependencies = []) {\r\n    const isInitialMount = React.useRef(true);\r\n\r\n    React.useEffect(() => {\r\n        if (!isInitialMount.current) {\r\n            effect();\r\n        }\r\n    }, dependencies); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    React.useEffect(() => {\r\n        isInitialMount.current = false;\r\n    }, []);\r\n}\r\n\r\nexport function useForceUpdate() {\r\n    const [, update] = React.useReducer(state => !state, true);\r\n    return update;\r\n}\r\n","import React from \"react\";\r\nimport Auth, {AuthEventTypes} from \"definitions/auth\";\r\nimport APIRequest, {getCancelToken} from \"api\";\r\nimport {useRefValue} from \"hooks/common\";\r\n\r\nconst StoreContext = React.createContext(null);\r\n\r\nfunction useUserAuth() {\r\n    const [user, setUser] = React.useState(Auth.getUser());\r\n    const [userInfo, setUserInfo] = React.useState(null);\r\n\r\n    React.useEffect(() => {\r\n        const fetchUserInfo = async () => {\r\n            const userInfo = await Auth.getUserInfo();\r\n            setUserInfo(userInfo);\r\n        };\r\n        if (user)\r\n            fetchUserInfo();\r\n    }, [user]);\r\n\r\n    const loginCallback = React.useCallback((user, userInfo) => {\r\n        setUser(user);\r\n    }, []);\r\n\r\n    const logoutCallback = React.useCallback(() => {\r\n        setUser(null);\r\n        setUserInfo(null);\r\n    }, []);\r\n\r\n    React.useLayoutEffect(() => {\r\n        Auth.subscribe(AuthEventTypes.login, loginCallback);\r\n        Auth.subscribe(AuthEventTypes.logout, logoutCallback);\r\n        return () => {\r\n            Auth.unsubscribe(AuthEventTypes.login, loginCallback);\r\n            Auth.unsubscribe(AuthEventTypes.logout, logoutCallback);\r\n        }\r\n    }, [loginCallback, logoutCallback]);\r\n    return [user, userInfo];\r\n}\r\n\r\nconst useShopCatalogStore = () => React.useState(null);\r\nconst useUserCoursesStore = () => React.useState(null);\r\nconst useSubjectsStore = () => React.useState(null);\r\nconst useTeachersStore = () => React.useState(null);\r\nconst useLessonsStore = () => React.useState({});\r\nconst useWebinarsStore = () => React.useState({});\r\n\r\nfunction useStoreData() {\r\n    const [catalog, setCatalog] = useShopCatalogStore();\r\n    const [userCourses, setUserCourses] = useUserCoursesStore();\r\n    const [subjects, setSubjects] = useSubjectsStore();\r\n    const [teachers, setTeachers] = useTeachersStore();\r\n    const [lessons, setLessons] = useLessonsStore();\r\n    const [webinars, setWebinars] = useWebinarsStore();\r\n    return {\r\n        data: {\r\n            catalog,\r\n            subjects,\r\n            teachers,\r\n            lessons,\r\n            userCourses,\r\n            webinars\r\n        },\r\n        setters: {\r\n            setCatalog,\r\n            setSubjects,\r\n            setTeachers,\r\n            setLessons,\r\n            setUserCourses,\r\n            setWebinars\r\n        }\r\n    }\r\n}\r\n\r\nconst requests = {};\r\n\r\nexport function useSubjects() {\r\n    const {data: {subjects}, setters: {setSubjects}} = React.useContext(StoreContext);\r\n    const [error, setError] = React.useState(null);\r\n    const fetchSubjects = React.useCallback(async () => {\r\n        if (requests.subjects)\r\n            return requests.subjects;\r\n        const request = APIRequest.get('/subjects');\r\n        requests.subjects = request;\r\n        try {\r\n            if (error)\r\n                setError(null);\r\n            const subjects = await request;\r\n            setSubjects(subjects);\r\n        } catch (e) {\r\n            console.error(e);\r\n            setError(e);\r\n        }\r\n        finally {\r\n            delete requests.subjects;\r\n        }\r\n        return request;\r\n    }, [error]);\r\n\r\n    React.useEffect(() => {\r\n        if (!(subjects || requests.subjects || error)) {\r\n            fetchSubjects();\r\n        }\r\n    }, [subjects, error]);\r\n    if (error) {\r\n        return {subjects, error, retry: fetchSubjects};\r\n    }\r\n    else {\r\n        return {subjects};\r\n    }\r\n}\r\n\r\nexport function useDiscount(selectedCourses) {\r\n    const [discount, setDiscount] = React.useState(null);\r\n    const [error, setError] = React.useState(null);\r\n    const [getCancel, setCancel] = useRefValue(null);\r\n    const fetchDiscount = React.useCallback(async () => {\r\n        const courses = selectedCourses instanceof Set ? [...selectedCourses].map(({id}) => id) : [selectedCourses];\r\n        if (courses.length === 0)\r\n            return ;\r\n        const cancelPrev = getCancel();\r\n        if (cancelPrev)\r\n            cancelPrev();\r\n        const {token: cancelToken, cancel} = getCancelToken();\r\n        setCancel(cancel);\r\n        try {\r\n            if (error)\r\n                setError(null);\r\n            setDiscount(null);\r\n            const discount = await APIRequest.get('/payments/discounts', {\r\n                params: {\r\n                    coursesIds: courses\r\n                },\r\n                cancelToken\r\n            });\r\n            setDiscount(discount);\r\n        } catch (e) {\r\n            console.log('error loading discount', e);\r\n            setError(e);\r\n        }\r\n    }, [selectedCourses, error]);\r\n\r\n    React.useEffect(() => {\r\n        if (!(error))\r\n            fetchDiscount();\r\n    }, [selectedCourses, error]);\r\n    if (error) {\r\n        return {discount, error, retry: fetchDiscount};\r\n    }\r\n    else {\r\n        return {discount};\r\n    }\r\n}\r\n\r\nexport function useTeachers() {\r\n    const {subjects, errorLoadingSubjects, reloadSubjects} = useSubjects();\r\n    const {data: {teachers}, setters: {setTeachers}} = React.useContext(StoreContext);\r\n    const [error, setError] = React.useState(null);\r\n    const fetchTeachers = React.useCallback(async () => {\r\n        if (requests.teachers)\r\n            return requests.teachers;\r\n        const request = APIRequest.get('/accounts/teachers');\r\n        requests.teachers = request;\r\n        try {\r\n            if (error)\r\n                setError(null);\r\n            const teachers = await request;\r\n            console.log('set teachers', teachers);\r\n            setTeachers(teachers);\r\n        } catch (e) {\r\n            console.error(e);\r\n            setError(e);\r\n        }\r\n        finally {\r\n            delete requests.teachers;\r\n        }\r\n        return request;\r\n    }, [error]);\r\n\r\n    React.useEffect(() => {\r\n        if (!(teachers || requests.teachers || error)) {\r\n            fetchTeachers();\r\n        }\r\n    }, [teachers, error]);\r\n\r\n    if (error || errorLoadingSubjects) {\r\n        return {\r\n            teachers,\r\n            subjects,\r\n            error: error || errorLoadingSubjects ,\r\n            retry: () => {\r\n                if (error)\r\n                    fetchTeachers();\r\n                if (errorLoadingSubjects)\r\n                    reloadSubjects();\r\n            }\r\n        };\r\n    }\r\n    else {\r\n        return {teachers, subjects};\r\n    }\r\n}\r\n\r\nexport function useShopCatalog() {\r\n    const {subjects, errorLoadingSubjects, reloadSubjects} = useSubjects();\r\n    const {data: {catalog}, setters: {setCatalog}} = React.useContext(StoreContext);\r\n    const [error, setError] = React.useState(null);\r\n    const fetchCatalog = React.useCallback(async () => {\r\n        if (requests.shopCatalog)\r\n            return requests.shopCatalog;\r\n        const request = APIRequest.get('/courses', {\r\n            params: {\r\n                group: 'MARKET'\r\n            }\r\n        });\r\n        requests.shopCatalog = request;\r\n        try {\r\n            if (error)\r\n                setError(null);\r\n            const catalog = await request;\r\n            setCatalog(catalog);\r\n        } catch (e) {\r\n            console.error(e);\r\n            setError(e);\r\n        }\r\n        finally {\r\n            delete requests.shopCatalog;\r\n        }\r\n        return request;\r\n    }, [error]);\r\n\r\n    React.useEffect(() => {\r\n        if (!(catalog || requests.shopCatalog || error)) {\r\n            fetchCatalog();\r\n        }\r\n    }, [catalog, error]);\r\n\r\n    if (error || errorLoadingSubjects) {\r\n        return {\r\n            catalog,\r\n            subjects,\r\n            error: error || errorLoadingSubjects ,\r\n            retry: () => {\r\n                if (error)\r\n                    fetchCatalog();\r\n                if (errorLoadingSubjects)\r\n                    reloadSubjects();\r\n            }\r\n        };\r\n    }\r\n    else {\r\n        return {catalog, subjects};\r\n    }\r\n}\r\n\r\nexport function useUserCourses() {\r\n    const {subjects, errorLoadingSubjects, reloadSubjects} = useSubjects();\r\n    const {data: {userCourses}, setters: {setUserCourses}} = React.useContext(StoreContext);\r\n    const [error, setError] = React.useState(null);\r\n    const fetchUserCourses = React.useCallback(async () => {\r\n        if (requests.userCourses)\r\n            return requests.userCourses;\r\n        const request = APIRequest.get('/courses', {\r\n            params: {\r\n                group: 'PERSON'\r\n            }\r\n        });\r\n        requests.userCourses = request;\r\n        try {\r\n            if (error)\r\n                setError(null);\r\n            const courses = await request;\r\n            setUserCourses(courses);\r\n        } catch (e) {\r\n            console.error(e);\r\n            setError(e);\r\n        }\r\n        finally {\r\n            delete requests.userCourses;\r\n        }\r\n        return request;\r\n    }, [error]);\r\n\r\n    React.useEffect(() => {\r\n        if (!(userCourses || requests.userCourses || error)) {\r\n            fetchUserCourses();\r\n        }\r\n    }, [userCourses, error]);\r\n\r\n    if (error || errorLoadingSubjects) {\r\n        return {\r\n            courses: userCourses,\r\n            subjects,\r\n            error: error || errorLoadingSubjects ,\r\n            retry: () => {\r\n                if (error)\r\n                    fetchUserCourses();\r\n                if (errorLoadingSubjects)\r\n                    reloadSubjects();\r\n            }\r\n        };\r\n    }\r\n    else {\r\n        return {courses: userCourses, subjects};\r\n    }\r\n}\r\n\r\nexport function useLessons(courseId) {\r\n    const {data: {lessons}, setters: {setLessons}} = React.useContext(StoreContext);\r\n    const [error, setError] = React.useState(null);\r\n    const fetchLessons = React.useCallback(async (courseId) => {\r\n        if (requests.lessons && requests.lessons[courseId])\r\n            return requests.lessons[courseId];\r\n        const request = APIRequest.get('/lessons', {params: {\r\n                courseId\r\n            }});\r\n        (requests.lessons || (requests.lessons = {}))[courseId] = request;\r\n        try {\r\n            if (error)\r\n                setError(null);\r\n            const lessons = await request;\r\n            console.log('set lessons', lessons);\r\n            setLessons(loadedLessons => ({...loadedLessons, [courseId]: lessons}));\r\n        } catch (e) {\r\n            console.error(e);\r\n            setError(e);\r\n        }\r\n        finally {\r\n            delete requests.lessons[courseId];\r\n        }\r\n        return request;\r\n    }, [error]);\r\n\r\n    React.useEffect(() => {\r\n        if (!(lessons[courseId] || (requests.lessons && requests.lessons[courseId]) || error)) {\r\n            fetchLessons(courseId);\r\n        }\r\n    }, [lessons, courseId, error]);\r\n\r\n    if (error) {\r\n        return {\r\n            lessons: lessons[courseId],\r\n            error: error,\r\n            retry: () => {\r\n                if (error)\r\n                    fetchLessons(courseId);\r\n            }\r\n        };\r\n    }\r\n    else {\r\n        return {lessons: lessons[courseId]};\r\n    }\r\n}\r\n\r\nexport function useHomework(lessonId) {\r\n    const [homework, setHomework] = React.useState(null);\r\n    const [error, setError] = React.useState(null);\r\n    const fetchHomework = React.useCallback(async (lessonId) => {\r\n        if (requests.homework && requests.homework[lessonId])\r\n            return requests.homework[lessonId];\r\n        const request = APIRequest.get(`/lessons/${lessonId}/homeworks/pupil`);\r\n        (requests.homework || (requests.homework = {}))[lessonId] = request;\r\n        try {\r\n            if (error)\r\n                setError(null);\r\n            const homework = await request;\r\n            console.log('set homework', homework);\r\n            setHomework(homework);\r\n        } catch (e) {\r\n            console.error(e);\r\n            setError(e);\r\n        }\r\n        finally {\r\n            delete requests.homework[lessonId];\r\n        }\r\n        return request;\r\n    }, [error]);\r\n\r\n    React.useEffect(() => {\r\n        if (!(homework || (requests.homework && requests.homework[lessonId]) || error)) {\r\n            fetchHomework(lessonId);\r\n        }\r\n    }, [homework, lessonId, error]);\r\n\r\n    if (error) {\r\n        return {\r\n            homework,\r\n            error: error,\r\n            retry: () => {\r\n                if (error)\r\n                    fetchHomework(lessonId);\r\n            }\r\n        };\r\n    }\r\n    else {\r\n        return {homework};\r\n    }\r\n}\r\n\r\nexport function useUpcomingWebinars() {\r\n    const {data: {webinars}, setters: {setWebinars}} = React.useContext(StoreContext);\r\n    const [error, setError] = React.useState(null);\r\n    const fetchWebinars = React.useCallback(async () => {\r\n        if (requests.webinars && requests.webinars.upcoming)\r\n            return requests.webinars.upcoming;\r\n        const request = APIRequest.get('/courses/schedule/person');\r\n        (requests.webinars || (requests.webinars = {})).upcoming = request;\r\n        try {\r\n            if (error)\r\n                setError(null);\r\n            const webinars = await request;\r\n            console.log('set webinars', webinars);\r\n            setWebinars(loadedWebinars => ({...loadedWebinars, upcoming: webinars}));\r\n        } catch (e) {\r\n            console.error(e);\r\n            setError(e);\r\n        }\r\n        finally {\r\n            delete requests.webinars.upcoming;\r\n        }\r\n        return request;\r\n    }, [error]);\r\n\r\n    React.useEffect(() => {\r\n        if (!(webinars.upcoming || (requests.webinars && requests.webinars.upcoming) || error)) {\r\n            fetchWebinars();\r\n        }\r\n    }, [webinars, error]);\r\n\r\n    if (error) {\r\n        return {\r\n            webinars: webinars.upcoming,\r\n            error: error,\r\n            retry: () => {\r\n                if (error)\r\n                    fetchWebinars();\r\n            }\r\n        };\r\n    }\r\n    else {\r\n        return {webinars: webinars.upcoming};\r\n    }\r\n}\r\n\r\nexport function useCourseWebinars(courseId) {\r\n    const {data: {webinars}, setters: {setWebinars}} = React.useContext(StoreContext);\r\n    const [error, setError] = React.useState(null);\r\n    const fetchWebinars = React.useCallback(async (courseId) => {\r\n        if (requests.webinars && requests.webinars[courseId])\r\n            return requests.webinars.upcoming;\r\n        const request = APIRequest.get(`/courses/${courseId}/schedule/person`);\r\n        (requests.webinars || (requests.webinars = {}))[courseId] = request;\r\n        try {\r\n            if (error)\r\n                setError(null);\r\n            const webinars = await request;\r\n            console.log('set course webinars', webinars);\r\n            setWebinars(loadedWebinars => ({...loadedWebinars, [courseId]: webinars}));\r\n        } catch (e) {\r\n            console.error(e);\r\n            setError(e);\r\n        }\r\n        finally {\r\n            delete requests.webinars[courseId];\r\n        }\r\n        return request;\r\n    }, [error]);\r\n\r\n    React.useEffect(() => {\r\n        if (!(webinars[courseId] || (requests.webinars && requests.webinars[courseId]) || error)) {\r\n            fetchWebinars(courseId);\r\n        }\r\n    }, [webinars, courseId, error]);\r\n\r\n    if (error) {\r\n        return {\r\n            webinars: webinars[courseId],\r\n            error: error,\r\n            retry: () => {\r\n                if (error)\r\n                    fetchWebinars(courseId);\r\n            }\r\n        };\r\n    }\r\n    else {\r\n        return {webinars: webinars[courseId]};\r\n    }\r\n}\r\n\r\nconst GlobalStore = ({children}) => {\r\n    const [user, userInfo] = useUserAuth();\r\n    const data = useStoreData();\r\n    return (\r\n        <StoreContext.Provider value={{user, userInfo, ...data}}>\r\n            {children}\r\n        </StoreContext.Provider>\r\n    )\r\n};\r\n\r\nexport default GlobalStore;\r\n\r\nexport function useUser() {\r\n   const {user, userInfo} = React.useContext(StoreContext);\r\n   return {user, userInfo};\r\n}\r\n","import React from 'react';\r\nimport {Helmet} from \"react-helmet\";\r\nimport Sticky from 'react-sticky-el';\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {useUser} from \"../store\";\r\n\r\nexport const PageLoadingPlaceholder = () => (\r\n    <div className=\"layout__content\">\r\n        <div className=\"layout__loading-spinner\">\r\n            <i className=\"spinner-border\"/>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport const PageLink = ({to, arrow=true, forward=true, className, children, ...props}) => (\r\n    <Link\r\n        className={`${arrow ? 'arrow-link' : ''} ${forward ? 'arrow-link-forward' : 'arrow-link-backward'} ${className || ''}`}\r\n        to={to}\r\n        {...props}>\r\n        {children}\r\n    </Link>\r\n);\r\n\r\nexport const PageContent = ({children, className, parentSection}) => (\r\n    <div className={`layout__content-container container ${className || ''}`}>\r\n        {parentSection && (\r\n            <PageLink\r\n                to={parentSection.url || '..'}\r\n                forward={false}\r\n                className=\"layout__content-parent-section-link\">\r\n                {parentSection.name}\r\n            </PageLink>\r\n        )}\r\n        {children}\r\n    </div>\r\n);\r\n\r\nexport const BottomTab = ({children, className, ...stickyProps}) => (\r\n    <Sticky mode=\"bottom\" {...stickyProps}>\r\n        <div className={`layout__bottom-tab ${className || ''}`}>\r\n            {children}\r\n        </div>\r\n    </Sticky>\r\n);\r\n\r\nclass PageErrorBoundary extends React.Component {\r\n    state = {\r\n        error: null\r\n    }\r\n}\r\n\r\nconst Page = ({title, className, children, checkLogin=true, location}) => {\r\n    //TODO: check permissions\r\n    const {user, userInfo} = useUser();\r\n    if (checkLogin) {\r\n        if (!user) {\r\n            return (\r\n                <Redirect to={{\r\n                    pathname: '/login/',\r\n                    state: location ? { referrer: location.pathname } : undefined\r\n                }}/>);\r\n        }\r\n    }\r\n    return (\r\n        <div className={`layout__content ${className || ''}`}>\r\n            {title && <Helmet><title>{title} – ЕГЭ HACK</title></Helmet>}\r\n            {children}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Page;\r\n","import React from \"react\";\r\nimport Page from \"components/Page\";\r\nimport Auth from \"definitions/auth\";\r\nimport {useUser} from \"../../../store\";\r\nimport {Redirect, useLocation} from \"react-router-dom\";\r\nimport {DEFAULT_LOGIN_REDIRECT} from \"definitions/constants\";\r\n\r\nconst LoginPage = (props) => {\r\n    const {location} = props;\r\n    const {user, userInfo} = useUser();\r\n\r\n    React.useLayoutEffect(() => {\r\n        Auth.loginWidget('vk-auth');\r\n    }, []);\r\n\r\n    if (user) {\r\n        if (location.state && location.state.referrer)\r\n            return (<Redirect to={location.state.referrer}/>);\r\n        return (<Redirect to={DEFAULT_LOGIN_REDIRECT}/>);\r\n    }\r\n    return (\r\n        <Page\r\n            title=\"Вход\"\r\n            className=\"login-page align-items-center justify-content-center\"\r\n            checkLogin={false}\r\n            location={location}>\r\n            <div id=\"vk-auth\"/>\r\n        </Page>\r\n    );\r\n};\r\n\r\nexport default LoginPage;\r\n","import React from \"react\";\r\nimport CoverImage from \"./CoverImage\";\r\nimport Contacts from \"./Contacts\";\r\n\r\nconst UserProfile = ({first_name, last_name, photo, contacts, about, role}) => {\r\n    const fullName = `${first_name} ${last_name}`;\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"user-profile__avatar-container\">\r\n                <div className=\"user-profile__avatar-wrap\">\r\n                    <CoverImage src={photo} className=\"user-profile__avatar\" round square/>\r\n                </div>\r\n            </div>\r\n            <div className=\"user-profile__info layout__content-block\">\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <h2>{fullName}</h2>\r\n                    {role && <div className=\"font-size-sm\">{role}</div>}\r\n                    {contacts && <Contacts contacts={contacts}/>}\r\n                    <div className=\"description-text font-size-sm\">{about}</div>\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n};\r\n\r\nexport default UserProfile;\r\n","import React from \"react\";\r\nimport Page, {PageContent} from \"components/Page\";\r\nimport UserProfile from \"components/common/UserProfile\";\r\nimport {useUser} from \"store\";\r\n\r\nconst AccountPage = () => {\r\n    const {user, userInfo} = useUser();\r\n    return (\r\n        <Page title=\"Аккаунт\" className=\"account-page\">\r\n            <PageContent>\r\n                <UserProfile {...user}/>\r\n            </PageContent>\r\n        </Page>\r\n    );\r\n};\r\n\r\nexport default AccountPage;\r\n","import {LoremIpsum} from \"lorem-ipsum\";\r\nimport _ from \"lodash\";\r\nimport {LEARNING_STATUS} from \"definitions/constants\";\r\nimport {API_ROOT} from \"api\";\r\n\r\nimport poster from \"img/dummy_poster.jpg\";\r\nimport pic from \"img/dummy-pic.jpg\";\r\n\r\nconst lorem = new LoremIpsum();\r\n\r\nfunction getDate(daysForward) {\r\n    const date = new Date();\r\n    date.setDate(date.getDate() + daysForward);\r\n    return date;\r\n}\r\n\r\nexport const ACCOUNT_INFO = {\r\n    id: 154792439,\r\n    roles: [\r\n        \"PUPIL\",\r\n        \"TEACHER\"\r\n    ],\r\n    permissions: [],\r\n    vk_info: {\r\n        id: 154792439,\r\n        first_name: \"Alexandra\",\r\n        last_name: \"Petrova\",\r\n        photo_max_orig: poster,\r\n    },\r\n    pupil: {\r\n        account_id: 154792439\r\n    },\r\n    teacher: {\r\n        account_id: 154792439,\r\n        subjects: [\r\n            {\r\n                id: 1,\r\n                name: \"Математика\",\r\n                description: \"Лучший предмет\",\r\n                image_link: \"/files/asdsadasda.jpg\"\r\n            }\r\n        ]\r\n    }\r\n};\r\n\r\nexport const SUBJECTS = [\r\n    // { id: 'russian', name: 'Русский язык' },\r\n    // { id: 'literature', name: 'Литература' },\r\n    // { id: 'math', name: 'Математика' },\r\n    // { id: 'informatics', name: 'Информатика' },\r\n    // { id: 'physics', name: 'Физика' },\r\n    // { id: 'chemistry', name: 'Химия' },\r\n    // { id: 'biology', name: 'Биология' },\r\n    // { id: 'sociology', name: 'Обществознание' },\r\n    // { id: 'history', name: 'История' },\r\n    // { id: 'geography', name: 'География' },\r\n    // { id: 'english', name: 'Английский язык' },\r\n    // { id: 'german', name: 'Немецкий язык' },\r\n    // { id: 'french', name: 'Французский язык' },\r\n    // { id: 'chinese', name: 'Китайский язык' },\r\n    // { id: 'spanish', name: 'Испанский язык' }\r\n    { id: 1, name: 'Русский язык' },\r\n    { id: 2, name: 'Литература' },\r\n    { id: 3, name: 'Математика' },\r\n    { id: 4, name: 'Информатика' },\r\n    { id: 5, name: 'Физика' },\r\n    { id: 6, name: 'Химия' },\r\n    { id: 7, name: 'Биология' },\r\n    { id: 8, name: 'Обществознание' },\r\n    { id: 9, name: 'История' },\r\n    { id: 10, name: 'География' },\r\n    { id: 11, name: 'Английский язык' },\r\n    { id: 12, name: 'Немецкий язык' },\r\n    { id: 13, name: 'Французский язык' },\r\n    { id: 14, name: 'Китайский язык' },\r\n    { id: 15, name: 'Испанский язык' }\r\n];\r\n\r\nexport const TEACHERS = [\r\n    {\r\n        id: 154792439,\r\n        vk_info: {\r\n            id: 154792439,\r\n            first_name: \"Alexandra\",\r\n            last_name: \"Petrova\",\r\n            photo_max_orig: poster,\r\n        },\r\n        subjects: [\r\n            {\r\n                id: 1,\r\n                name: \"Математика\",\r\n                description: \"Лучший предмет\",\r\n                image_link: \"/files/asdsadasda.jpg\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        id: 1,\r\n        vk_info: {\r\n            id: 1,\r\n            first_name: 'Елена',\r\n            last_name: 'Черткова',\r\n            photo_max_orig: poster,\r\n        },\r\n        subjects: SUBJECTS.slice(0,2),\r\n        contacts: {vk: '/', fb: '/', ok: '/', ig: '/'},\r\n        bio: lorem.generateSentences(1)\r\n    },\r\n    {\r\n        id: 2,\r\n        vk_info: {\r\n            id: 2,\r\n            first_name: 'Сергей',\r\n            last_name: 'Авдошин',\r\n            photo_max_orig: poster,\r\n        },\r\n        subjects: [SUBJECTS[3]],\r\n        contacts: {vk: '/', fb: '/', ok: '/', ig: '/'},\r\n        bio: lorem.generateSentences(1)\r\n    }\r\n];\r\n\r\nexport const COURSES = SUBJECTS.slice(0, 5).map((subject, i) => ({\r\n    name: `${subject.name}. Мастер группа. Апрель.`,\r\n    id: i,\r\n    subject_id: subject.id,\r\n    online: i <= 2,\r\n    image_link: poster,\r\n    date_start: getDate(7 + i),\r\n    date_end: getDate(7 + i),\r\n    // totalHours: 80,\r\n    description: lorem.generateParagraphs(1),\r\n    teacher_ids: i <= 2 ? [TEACHERS[0].id] : TEACHERS.map(({id}) => id)\r\n}));\r\n\r\nexport const LESSONS = _.times(4, (j) => {\r\n    const locked = -2 + j > 0;\r\n    return ({\r\n        num: j + 1,\r\n        id: j,\r\n        // date: getDate(-4 + i + j),\r\n        name: `Занятие ${j + 1}`,\r\n        description: lorem.generateParagraphs(1),\r\n        image_link: poster,\r\n        video_link: '375255364',\r\n        locked,\r\n        assignment: {\r\n            description: lorem.generateParagraphs(1),\r\n            files: [\r\n                {name: \"Задание\", url: \"/robots.txt\"},\r\n                {name: \"Дополнительное задание\", url: \"/robots.txt\"}\r\n            ],\r\n            deadline:  getDate(7)\r\n        },\r\n        watchProgress: locked ? undefined : (100 - j * 15),\r\n    });\r\n});\r\n\r\nexport const HOMEWORK = {\r\n    comment: \"Очень плохо\",\r\n    date: new Date(),\r\n    files: [\r\n        {\r\n            original_file_name: 'Стыд.jpg',\r\n            id_file_name: '51657ffc-fc8f-11e9-a562-0338e4bfa1ca.jpg',\r\n            file_link: `${API_ROOT}/files/51657ffc-fc8f-11e9-a562-0338e4bfa1ca.jpg?disp=attachment`\r\n        }\r\n    ],\r\n    lesson_id: 0,\r\n    mark: 4,\r\n    pupil_id: 0\r\n};\r\n\r\nexport const SHOP_CATALOG = COURSES.map((course, i) => ({...course, price: 2500, discount: i === 0 ? 1000 : undefined}));\r\n\r\nexport const MY_COURSES = COURSES.slice(0, 3).map((course, i) => ({\r\n    ...course,\r\n    status: i <= 1 ? LEARNING_STATUS.finished : LEARNING_STATUS.learning\r\n}));\r\n// export const MY_COURSES = COURSES.map((course, i) => ({\r\n//     ...course,\r\n//     lessons: LESSONS.map((lesson, j) => ({\r\n//         ...lesson,\r\n//         watchProgress: lesson.locked ? undefined : (100 - j * 15),\r\n//         homework: {\r\n//             files: [\r\n//                 {name: \"Задание\", url: \"/robots.txt\"},\r\n//                 {name: \"Дополнительное задание\", url: \"/robots.txt\"}\r\n//             ],\r\n//             description: lorem.generateParagraphs(1),\r\n//             deadline: getDate(7),\r\n//             submit: true,\r\n//             submittedFiles: [\r\n//                 {\r\n//                     original_file_name: \"5_64x64.png\",\r\n//                     id_file_name: \"501371cc-f349-11e9-aa47-7990bff4dcd7.png\",\r\n//                     file_link: \"/files/601371cc-f349-11e9-aa47-7990bff4dcd7.png\"\r\n//                 }\r\n//             ]\r\n//         }\r\n//     })),\r\n//     status: i <= 2 ? LEARNING_STATUS.finished : LEARNING_STATUS.learning\r\n// }));\r\n\r\nexport const WEBINAR_SCHEDULE = COURSES.slice(0, 3).map(({id, name, subject_id}, i) => ({\r\n    subject_id,\r\n    subject_name: SUBJECTS[subject_id - 1].name,\r\n    course_id: id,\r\n    course_name: name,\r\n    id: i,\r\n    name: \"Играю в майнкрафт\",\r\n    description: \"Скидывайте ваши донаты\",\r\n    date_start: getDate(i),\r\n    duration: 60*2,\r\n    date_end: new Date(getDate(1 + i).getTime() + 60*2 * 1000 * 60),\r\n    image_link: pic\r\n}));\r\n\r\nexport const TEST_ID = 1;\r\nexport const TEST_HASH = '2d01669a3c8cda169545b4f7b607efb3';\r\n","import React from 'react';\r\nimport Truncate from 'react-truncate';\r\nimport {useTruncate} from \"hooks/common\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function ListItem(props) {\r\n    const {\r\n        preview, title, subtitle, description, item, selectable,\r\n        className,\r\n        children: action,\r\n        link,\r\n        onClick: clickCallback,\r\n        onActionClick: actionCallback,\r\n        callbackProps} = props;\r\n    const [descriptionRef, isFontLoaded] = useTruncate(description);\r\n    const onClick = React.useCallback((event) => {\r\n        const clicked = selectable && !(actionCallback && event.target.closest('.list__item-action'));\r\n        if (clicked && clickCallback)\r\n            clickCallback(item, callbackProps);\r\n        else if (!clicked && link)\r\n            event.preventDefault();\r\n    }, [item, clickCallback, selectable, callbackProps, link, actionCallback]);\r\n    const onActionClick = React.useCallback((event) => {\r\n        if (selectable && actionCallback)\r\n            actionCallback(item, callbackProps);\r\n    }, [item, actionCallback, selectable, callbackProps]);\r\n    const content = (\r\n        <div className=\"row align-items-center\">\r\n            <div className=\"list__item-preview col-12 col-md-auto\">\r\n                {preview}\r\n            </div>\r\n            <div className=\"list__item-description col align-self-stretch\">\r\n                <div className=\"list__item-description-inner\">\r\n                    <div className=\"title font-size-lg\">{title}</div>\r\n                    {subtitle && <div className=\"subtitle\">{subtitle}</div>}\r\n                    {description && (\r\n                        <div className=\"description-container font-size-xs\">\r\n                            <div className=\"description-text\">\r\n                                {isFontLoaded ? (\r\n                                    <Truncate lines={2} ref={descriptionRef}>\r\n                                        {description}\r\n                                    </Truncate>\r\n                                ) : null}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n            {action && (\r\n                <div\r\n                    className=\"list__item-action col-auto d-flex align-items-center flex-column\"\r\n                    onClick={onActionClick}>\r\n                    {action}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n    if (link) {\r\n        return (\r\n            <Link\r\n                className={`list__item container ${selectable ? 'list__item-selectable' : ''} ${className || ''}`}\r\n                to={link}\r\n                onClick={onClick}>\r\n                {content}\r\n            </Link>\r\n        );\r\n    }\r\n    else {\r\n        return (\r\n            <div className={`list__item container ${selectable ? 'list__item-selectable' : ''} ${className || ''}`} onClick={onClick}>\r\n                {content}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ListItem from \"./ListItem\";\r\n\r\nexport default function List(props) {\r\n    const {children, renderItem, renderProps, flex, className} = props;\r\n    return flex\r\n        ? (\r\n            <div className={`${className || ''} list`}>\r\n                <div className=\"container p-0 overflow-hidden\">\r\n                    <div className=\"row\">\r\n                        {children.map((item, index) => renderItem(item, renderProps, index))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n        : (\r\n        <div className={`${className || ''} list`}>\r\n            {children.map((item, index) => renderItem(item, renderProps, index))}\r\n        </div>\r\n    );\r\n}\r\n\r\nList.defaultProps = {\r\n    renderItem: (item, props, index) => <ListItem {...item} {...props} key={index}/>\r\n};\r\n","import React from 'react';\r\nimport {Scrollbars as ScrollComponent} from 'react-custom-scrollbars';\r\n\r\nconst renderEmpty = () => <div/>;\r\n\r\nconst renderTrackVertical = props => (<div {...props} className=\"track track-vertical\"/>);\r\nconst renderThumbVertical = props => (<div {...props} className=\"thumb thumb-vertical\"/>);\r\nconst renderTrackHorizontal = props => (<div {...props} className=\"track track-horizontal\"/>);\r\nconst renderThumbHorizontal = props => (<div {...props} className=\"thumb thumb-horizontal\"/>);\r\n\r\nconst ScrollBars = React.forwardRef(({children, hideVerticalScrollbar=false, hideHorizontalScrollbar=false, ...props}, ref) => {\r\n    return (\r\n        <ScrollComponent\r\n            renderTrackVertical={hideVerticalScrollbar ? renderEmpty : renderTrackVertical}\r\n            renderThumbVertical={renderThumbVertical}\r\n            renderTrackHorizontal={hideHorizontalScrollbar ? renderEmpty : renderTrackHorizontal}\r\n            renderThumbHorizontal={renderThumbHorizontal}\r\n            ref={ref}\r\n            {...props}>\r\n            {children}\r\n        </ScrollComponent>\r\n    );\r\n});\r\n\r\nexport default ScrollBars;\r\n","import React, {Component} from 'react';\r\nimport SelectInput, { components } from 'react-select';\r\nimport _ from 'lodash';\r\nimport PropTypes from 'prop-types';\r\nimport ScrollBars from \"./ScrollBars\";\r\n\r\nconst DropdownIndicator = (props) => (\r\n    <components.DropdownIndicator {...props}>\r\n        <i className=\"icon-angle\"/>\r\n    </components.DropdownIndicator>\r\n);\r\n\r\nconst SelectContainer = ({ children, selectProps, hasValue, setValue, ...props }) => (\r\n    <div className=\"select\">\r\n        <components.SelectContainer\r\n            selectProps={{...selectProps, isClearable: false}}\r\n            hasValue={hasValue}\r\n            setValue={setValue}\r\n            {...props}>\r\n            {children}\r\n        </components.SelectContainer>\r\n        {selectProps.isClearable && (\r\n            <div className={hasValue ? 'select__clear-btn' : 'select__clear-btn select__clear-btn-hidden'} onClick={() => {setValue(null);}}>\r\n                <i className=\"icon-close\"/>\r\n            </div>\r\n        )}\r\n    </div>\r\n);\r\n\r\n\r\nexport const Option = ({content, ...props}) => (\r\n    <components.Option {...props}>\r\n        {content ? content : props.label}\r\n    </components.Option>\r\n);\r\n\r\nOption.propTypes = {\r\n    content: PropTypes.node,\r\n    label: PropTypes.node\r\n};\r\n\r\nclass MenuList extends Component {\r\n    componentDidMount() {\r\n        //needed to the select to scroll the list to the selected option\r\n        this.props.innerRef(this.scrollBar.view);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ScrollBars\r\n                autoHeight\r\n                hideTracksWhenNotNeeded\r\n                ref={ref => { this.scrollBar = ref; }}\r\n                autoHeightMax={this.props.maxHeight}>\r\n                <components.MenuList {...this.props}>\r\n                    {this.props.children}\r\n                </components.MenuList>\r\n            </ScrollBars>\r\n        );\r\n    }\r\n\r\n    static propTypes = {\r\n        maxHeight: PropTypes.number.isRequired,\r\n        children: PropTypes.node.isRequired,\r\n        innerRef: PropTypes.func.isRequired\r\n    }\r\n}\r\n\r\n//TODO: try react virtualized select\r\nexport default class Select extends React.PureComponent {\r\n    onChange = (option) => {\r\n        this.props.callback(option ? option.value : null, this.props.name);\r\n    };\r\n\r\n    render() {\r\n        const {name, options, value, components, selectProps, isClearable=true, isSearchable=true, placeholder} = this.props;\r\n        return (\r\n            <SelectInput\r\n                name={name}\r\n                options={options}\r\n                maxMenuHeight={200}\r\n                value={_.find(options, {value: value}) || null}\r\n                className='select__container' classNamePrefix='select'\r\n                onChange={this.onChange}\r\n                menuPlacement=\"auto\"\r\n                noOptionsMessage={() => 'Нет опций'}\r\n                components={\r\n                    components ? ({\r\n                        Option,\r\n                        MenuList,\r\n                        DropdownIndicator,\r\n                        SelectContainer,\r\n                        ...components\r\n                    }) : ({\r\n                        Option,\r\n                        MenuList,\r\n                        DropdownIndicator,\r\n                        SelectContainer,\r\n                    })\r\n                }\r\n                styles={{\r\n                    //removes default styles from option elements\r\n                    option: () => ({})\r\n                }}\r\n                isClearable={isClearable}\r\n                isSearchable={isSearchable}\r\n                placeholder={placeholder}\r\n                {...selectProps}\r\n            />\r\n        );\r\n    }\r\n\r\n    static propTypes = {\r\n        name: PropTypes.string.isRequired,\r\n        options: PropTypes.arrayOf(PropTypes.shape({\r\n            value: PropTypes.any,\r\n            label: PropTypes.any\r\n        })).isRequired,\r\n        callback: PropTypes.func.isRequired,\r\n        value: PropTypes.any,\r\n        selectProps: PropTypes.object,\r\n        components: PropTypes.object\r\n    }\r\n}\r\n","import React from 'react';\r\nimport Select from \"./Select\";\r\n\r\nfunction useChangeHandler(callback, inputProp = 'value') {\r\n    return React.useCallback((event) => {\r\n        callback(event.currentTarget[inputProp], event.currentTarget.name, event);\r\n    }, [callback, inputProp])\r\n}\r\n\r\nconst CheckBox = ({value, onChange: callback, name, label, ...props}) => {\r\n    const onChange = useChangeHandler(callback, 'checked');\r\n    return (\r\n        <label className={`input input-checkbox`}>\r\n            <input type=\"checkbox\" name={name} checked={value} onChange={onChange} {...props}/>\r\n            <span className=\"input__box\"/>\r\n            <span className=\"input__label\">{label}</span>\r\n        </label>\r\n    );\r\n};\r\n\r\nconst Input = ({className, onChange: callback, ...props}) => {\r\n    const onChange = useChangeHandler(callback);\r\n    return (\r\n        <input className={`input ${className || ''}`} onChange={onChange} {...props}/>\r\n    );\r\n};\r\n\r\nObject.assign(Input, {\r\n    CheckBox,\r\n    Select\r\n});\r\n\r\nexport default Input;\r\n\r\n","import React from 'react';\r\nimport {useHistory, useLocation} from 'react-router-dom';\r\nimport List from \"./List\";\r\nimport Input from \"../ui/Input\";\r\nimport Page from \"../Page\";\r\n\r\nexport const CatalogContext = React.createContext({});\r\n\r\nconst Filter = ({filterBy: {subject:filterBySubject = true, online:filterByOnline = true}={}}) => {\r\n    const {options, subject, online, onChange} = React.useContext(CatalogContext);\r\n    return (\r\n        <div className=\"layout__content-block catalog__filters\">\r\n            <div className=\"container p-0\">\r\n                <div className=\"row\">\r\n                    {filterBySubject && (\r\n                        <div className=\"col-auto d-flex align-items-center\">\r\n                            <Input.Select\r\n                                name=\"subject\"\r\n                                options={options}\r\n                                value={subject}\r\n                                placeholder='Предмет'\r\n                                callback={onChange}/>\r\n                        </div>\r\n                    )}\r\n                    {filterByOnline && (\r\n                        <div className=\"col-auto d-flex align-items-center\">\r\n                            <Input.CheckBox\r\n                                name=\"online\"\r\n                                value={online}\r\n                                label=\"Онлайн\"\r\n                                onChange={onChange}/>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Catalog = ({renderFunc, placeholder, baseUrl, ...listProps}) => {\r\n    const {items, renderProps} = React.useContext(CatalogContext);\r\n    const renderItem = React.useCallback((item) => {\r\n        return renderFunc(item, {link: `${item.id}/`, ...renderProps});\r\n    }, [renderFunc, renderProps]);\r\n    return (\r\n        <div className=\"layout__content-block catalog__catalog\">\r\n            {items.length > 0 ? (\r\n                <List {...listProps}\r\n                    renderItem={renderItem}>\r\n                    {items}\r\n                </List>\r\n            ) : (\r\n                <div className=\"catalog__empty-catalog-fallback-message text-center font-size-sm\">\r\n                    {placeholder}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Body = (props) => {\r\n    const {options, filterItems, children, renderProps={}} = props;\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const params = new URLSearchParams(location.search);\r\n    const subject = parseInt(params.get('subject')) || null;\r\n    const online = params.get('online') === 'true';\r\n    const onFilterChange = React.useCallback((value, name) => {\r\n        const params = new URLSearchParams(location.search);\r\n        if (value)\r\n            params.set(name, value);\r\n        else\r\n            params.delete(name);\r\n        // setSubject(option);\r\n        history.push({\r\n            pathname: location.pathname,\r\n            search: `?${params}`\r\n        });\r\n    }, [location, history]);\r\n    const matchingItems = filterItems(subject, online);\r\n\r\n    return (\r\n        <CatalogContext.Provider\r\n            value={{\r\n                options, subject, online, onChange: onFilterChange, items: matchingItems, renderProps\r\n            }}>\r\n            <div className=\"catalog\">\r\n                {children}\r\n            </div>\r\n        </CatalogContext.Provider>\r\n    );\r\n};\r\n//\r\n// const CatalogPage = ({title, className, BodyComponent = Body, ...props}) => {\r\n//     return (\r\n//         <Page title={title} className={className}>\r\n//             <BodyComponent {...props}/>\r\n//         </Page>\r\n//     )\r\n// };\r\n\r\nexport default {\r\n    Filter,\r\n    Catalog,\r\n    Body,\r\n    // Page: CatalogPage\r\n};\r\n","import React from 'react';\r\nimport _ from 'lodash';\r\nimport {Link} from \"react-router-dom\";\r\nimport CoverImage from \"./CoverImage\";\r\nimport Contacts from \"./Contacts\";\r\n\r\nexport default function Teacher(props) {\r\n    const {\r\n        teacher: {\r\n        vk_info: {first_name, last_name, photo_max_orig: photo}, contacts, subjects: teacherSubjects, bio: about\r\n        },\r\n        subjects,\r\n        link,\r\n        bio=false,\r\n        className} = props;\r\n    const onClick = React.useCallback((event) => {\r\n        const clicked = !event.target.closest('.social-media');\r\n        // event.preventDefault();\r\n    }, []);\r\n    // const teacherSubjects = subject_ids.map(id => _.find(subjects, {id}));\r\n    return (\r\n        <Link to={link} className={`${className} teacher-profile`} onClick={onClick}>\r\n            <div className=\"container p-0\">\r\n                <div className=\"row flex-nowrap\">\r\n                    <div className=\"col-auto d-flex align-items-center\">\r\n                        <CoverImage src={photo} className=\"teacher-profile__photo\" round square/>\r\n                    </div>\r\n                    <div className=\"col d-flex flex-column justify-content-center\">\r\n                        <h3 className=\"teacher-profile__name\">{first_name} {last_name}</h3>\r\n                        {bio && (\r\n                            <div className=\"teacher-profile__subjects font-size-sm\">\r\n                                {teacherSubjects.map(({name}, i) => i === 0 ? name : name.toLowerCase()).join(', ')}\r\n                            </div>)}\r\n                        {contacts && (<Contacts contacts={contacts}/>)}\r\n                    </div>\r\n                </div>\r\n                {bio && (\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 description-text\">\r\n                            {about}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </Link>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport _  from 'lodash';\r\nimport Catalog from \"components/common/Catalog\";\r\nimport Teacher from \"../../../common/Teacher\";\r\n\r\nconst Filter = (props) => (<Catalog.Filter filterBy={{online: false}} {...props}/>);\r\n\r\nconst TeachersCatalog = (props) => {\r\n    const renderTeacher = React.useCallback((teacher, {link, subjects}) => (\r\n        <div className=\"list__item col-12 col-md-6 d-flex\" key={teacher.id}>\r\n            <Teacher\r\n                teacher={teacher}\r\n                subjects={subjects}\r\n                bio\r\n                link={link}/>\r\n        </div>\r\n    ), []);\r\n    return (\r\n        <Catalog.Catalog\r\n            placeholder=\"Нет преподавателей, соответствующих условиям поиска\"\r\n            flex\r\n            renderFunc={renderTeacher}\r\n            {...props}/>\r\n    );\r\n};\r\n\r\nconst Body = (props) => {\r\n    const {teachers, subjects, ...otherProps} = props;\r\n\r\n    const options = React.useMemo(() => {\r\n        const subjectsMap = _.zipObject(subjects.map(({id}) => id), subjects);\r\n        const subjectsTeachers = _.reduce(teachers, (result, teacher) => {\r\n            teacher.subjects.forEach(subject => {result[subject.id] = subject});\r\n            return result;\r\n        }, {});\r\n        return _.values(subjectsTeachers).map(({id, name}) => ({value: id, label: name}));\r\n    }, [teachers, subjects]);\r\n\r\n    const getMatchingCourses = React.useCallback((subject) => teachers.filter((teacher) =>\r\n        (subject ? teacher.subjects.some(({id}) => subject === id)  : true)), [teachers]);\r\n\r\n    return (\r\n        <Catalog.Body\r\n            options={options}\r\n            renderProps={{subjects}}\r\n            filterItems={getMatchingCourses}\r\n            {...otherProps}/>\r\n    )\r\n};\r\n\r\n// const Page = (props) => (<Catalog.Page BodyComponent={Body} {...props}/>);\r\n\r\nexport default {\r\n    ...Catalog,\r\n    Filter,\r\n    Catalog: TeachersCatalog,\r\n    Body,\r\n    // Page\r\n}\r\n","import React from \"react\";\r\nimport Page, {PageContent, PageLoadingPlaceholder} from \"components/Page\";\r\nimport TeachersCatalog from \"./TeachersCatalog\";\r\nimport {useTeachers} from \"store\";\r\n\r\nconst TeachersCatalogPage = ({location}) => {\r\n    const {teachers, subjects, error, retry} = useTeachers();\r\n    return (\r\n        <Page\r\n            title=\"Мои курсы\"\r\n            className=\"catalog teachers-catalog\"\r\n            location={location}>\r\n            {!(teachers && subjects) ? (\r\n                    <PageLoadingPlaceholder/>\r\n                ) : (\r\n                <TeachersCatalog.Body\r\n                    subjects={subjects}\r\n                    teachers={teachers}>\r\n                    <PageContent>\r\n                        <TeachersCatalog.Filter/>\r\n                        <TeachersCatalog.Catalog/>\r\n                    </PageContent>\r\n                </TeachersCatalog.Body>\r\n            )\r\n            }\r\n        </Page>\r\n    );\r\n};\r\n\r\nexport default TeachersCatalogPage;\r\n","import React from \"react\";\r\n\r\nconst Button = ({className, children, active = true, neutral=false, icon, iconAction, tag:Tag='div', onClick, ...props}) => {\r\n    // const clickCallback = React.useCallback((e) => {\r\n    //     console.log(e.target, e.currentTarget, e.target === e.currentTarget);\r\n    //     if (e.target === e.currentTarget)\r\n    //         onClick(e);\r\n    // }, [onClick]);\r\n    return (\r\n        <Tag\r\n            className={`btn ${active ? '' : 'btn-inactive'} ${neutral ? 'btn-neutral' : ''} ${className ? className : ''}`}\r\n            {...props}>\r\n        <span className=\"btn__content\">\r\n            {icon && <div className=\"btn__after\" onClick={iconAction ? iconAction : onClick}>{icon}</div>}\r\n            <span\r\n                className=\"btn__name\"\r\n                onClick={onClick}>\r\n                {children}\r\n            </span>\r\n        </span>\r\n        </Tag>\r\n    );\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport Page from \"./Page\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Button from \"./ui/Button\";\r\n\r\nconst ErrorPage = ({errorCode, message, link: {text, url} = {}}) => {\r\n    const code = errorCode && errorCode.toString();\r\n    return (\r\n        <Page title={code} className=\"error-page\">\r\n            <div className=\"error-page__error-code\">\r\n                {code && code.split('').map((number, i) => <span key={i}>{number}</span>)}\r\n            </div>\r\n            <div className=\"error-page__error-message\">{message || 'Похоже, вы потерялись'}</div>\r\n            <Button tag={Link} to={`${url || ''}/`} replace className=\"btn\">{text || 'На главную'}</Button>\r\n        </Page>\r\n    );\r\n};\r\n\r\nexport default ErrorPage;\r\n","import React from 'react';\r\nimport Catalog from \"./Catalog\";\r\nimport _ from \"lodash\";\r\n\r\nconst CourseCatalog = ({renderCourse, ...otherProps}) => (\r\n    <Catalog.Catalog\r\n        placeholder=\"Нет курсов, соответствующих условиям поиска\"\r\n        renderFunc={renderCourse}\r\n        {...otherProps}/>\r\n);\r\n\r\nconst Body = (props) => {\r\n    const {courses, subjects, ...otherProps} = props;\r\n\r\n    const options = React.useMemo(() =>\r\n            subjects.map(({id, name}) => ({value: id, label: name})),\r\n        [subjects]);\r\n\r\n    const getMatchingCourses = React.useCallback((subject, online) => courses.filter((course) =>\r\n        (subject ? course.subject_id === subject : true) && (online ? course.online === online : true)), [courses]);\r\n\r\n    return (\r\n        <Catalog.Body\r\n            options={options}\r\n            filterItems={getMatchingCourses}\r\n            {...otherProps}/>\r\n    )\r\n};\r\n\r\n// const CourseCatalogPage = (props) => (<Catalog.Page BodyComponent={Body} {...props}/>);\r\n\r\nexport default {\r\n    ...Catalog,\r\n    Catalog: CourseCatalog,\r\n    Body,\r\n    // Page: CourseCatalogPage\r\n}\r\n","import React from 'react';\r\nimport {daysBetween} from \"../../definitions/helpers\";\r\nimport ListItem from \"./ListItem\";\r\nimport CoverImage from \"./CoverImage\";\r\n\r\nexport default function Course({course, online=true, isSelected=false, ...props}) {\r\n    const {name, image_link, date_start, description} = course;\r\n    const startsIn = daysBetween(new Date(), date_start);\r\n    return (\r\n        <ListItem\r\n            item={course}\r\n            className={isSelected ? 'course course-selected' : 'course'}\r\n            title={name}\r\n            subtitle={`До начала курса ${startsIn} ${startsIn === 1 ? 'день' : 'дней'}`}\r\n            description={description}\r\n            preview={(\r\n                <div className=\"course__cover-container\">\r\n                    {course.online && (\r\n                        <div className={`course__online-badge ${online ? 'course__online-text' : ''} font-size-xs`}>\r\n                            <span>Онлайн</span>\r\n                        </div>\r\n                    )}\r\n                    <CoverImage src={image_link} className=\"poster-cover course__cover\"/>\r\n                </div>\r\n            )}\r\n            {...props}/>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport Page, {PageContent, PageLoadingPlaceholder} from \"components/Page\";\r\nimport ErrorPage from \"components/ErrorPage\";\r\nimport CourseCatalog from \"components/common/CourseCatalog\";\r\nimport Course from \"components/common/Course\";\r\nimport Button from \"components/ui/Button\";\r\nimport UserProfile from \"components/common/UserProfile\";\r\nimport {useShopCatalog, useTeachers} from \"store\";\r\n\r\nconst TeacherPage = (props) => {\r\n    const {match: {params: {id: param_id}}, path: root, className, location} = props;\r\n    const {teachers, subjects, error, retry} = useTeachers();\r\n    const {catalog, error: errorLoadingCatalog, retry: reloadCatalog} = useShopCatalog();\r\n    const id = parseInt(param_id);\r\n\r\n    const renderCourse = React.useCallback((course, {link}) => {\r\n        const {price, discount} = course;\r\n        return (\r\n            <Course\r\n                course={course}\r\n                selectable\r\n                key={course.id}\r\n                link={`/shop/${link}`}>\r\n                <div className=\"list__item-action-info\">\r\n                    <span className=\"price\">{price}₽</span> {discount && <span className=\"discount font-size-xs\">{discount + price}₽</span>}\r\n                </div>\r\n                <Button style={{minWidth: '110px'}}>Открыть</Button>\r\n            </Course>\r\n        )\r\n    }, []);\r\n\r\n    if (teachers && catalog && subjects) {\r\n        const teacher = _.find(teachers, {id});\r\n\r\n        if (teacher) {\r\n            const {vk_info: {first_name, last_name, photo_max_orig: photo}, contacts, subjects: teacherSubjects, bio} = teacher;\r\n            // const teacherSubjects = subject_ids.map(id => _.find(subjects, {id}));\r\n            const teachersCourses = catalog.filter(course => _.indexOf(course.teacher_ids, id) >= 0);\r\n            const profile = {\r\n                first_name,\r\n                last_name,\r\n                photo,\r\n                contacts,\r\n                about: bio,\r\n                role: teacherSubjects.map(({name}, i) => i === 0 ? name : name.toLowerCase()).join(', ')\r\n            };\r\n            const fullName = `${first_name} ${last_name}`;\r\n            return (\r\n                <Page\r\n                    title={`${fullName}`}\r\n                    className={`teacher-page ${className || ''}`}\r\n                    location={location}>\r\n                    <PageContent parentSection={{name: \"Преподаватели\"}}>\r\n                        <UserProfile {...profile}/>\r\n                        <div className=\"layout__content-block\">\r\n                            <h3>Курсы преподавателя</h3>\r\n                        </div>\r\n                        <CourseCatalog.Body\r\n                            className=\"course-shop\"\r\n                            subjects={subjects}\r\n                            courses={teachersCourses}>\r\n                            <CourseCatalog.Filter/>\r\n                            <CourseCatalog.Catalog\r\n                                renderCourse={renderCourse}/>\r\n                        </CourseCatalog.Body>\r\n                    </PageContent>\r\n                </Page>\r\n            )\r\n        } else\r\n            return <ErrorPage errorCode={404} message=\"Преподаватель не найден\" link={{url: root}}/>;\r\n    }\r\n    else {\r\n        return (\r\n            <Page\r\n                location={location}>\r\n                <PageLoadingPlaceholder/>\r\n            </Page>\r\n        );\r\n    }\r\n};\r\n\r\nexport default TeacherPage;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport {TEACHERS} from \"data/test_data\";\r\nimport {SHOP_CATALOG} from \"data/test_data\";\r\nimport CatalogPage from \"./catalog-page\";\r\nimport TeacherPage from \"./teacher-page\";\r\n\r\nconst Teachers = (props) => {\r\n    const {match} = props;\r\n    return (\r\n        <Switch>\r\n            <Route path={`${match.path}/:id`} render={(props) => (\r\n                <TeacherPage\r\n                    teachers={TEACHERS}\r\n                    courses={SHOP_CATALOG.catalog}\r\n                    path={match.path}\r\n                    {...props}/>\r\n            )}/>\r\n            <Route exact path={`${match.path}`} render={(props) => (\r\n                <CatalogPage {...props}/>\r\n            )}/>\r\n        </Switch>\r\n    );\r\n};\r\n\r\nexport default Teachers;\r\n","import React from 'react';\r\nimport {CSSTransition, TransitionGroup} from \"react-transition-group\";\r\nimport {useTruncate} from \"hooks/common\";\r\nimport CoverImage from \"components/common/CoverImage\";\r\nimport Truncate from \"react-truncate\";\r\nimport _ from \"lodash\";\r\nimport {BottomTab} from \"components/Page\";\r\nimport ScrollBars from \"components/ui/ScrollBars\";\r\nimport Button from \"components/ui/Button\";\r\n\r\nconst SelectedCourse = ({course, onCourseDeselect, onTruncate}) => {\r\n    const {name} = course;\r\n    const [descriptionRef] = useTruncate(name);\r\n    const onDeselectClick = React.useCallback(() => {\r\n        onCourseDeselect(course);\r\n    }, [onCourseDeselect, course]);\r\n    return (\r\n        <div className=\"selected-course d-flex align-items-center flex-shrink-0\">\r\n            <div className=\"selected-course__cover-container\">\r\n                <CoverImage src={course.image_link} className=\"selected-course__cover poster-cover\"/>\r\n                <i className=\"icon-close selected-course__deselect-btn animated__action-button\" onClick={onDeselectClick}/>\r\n            </div>\r\n            <div className=\"selected-course__description-container font-size-xs\">\r\n                <div className=\"selected-course__description\">\r\n                    <Truncate lines={2} ref={descriptionRef} onTruncate={onTruncate}>\r\n                        {name}\r\n                    </Truncate>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst renderView = ({style, ...props}) => (<div style={{...style, height: `calc(100% + ${style.minHeight}px)`}} {...props}/>);\r\n\r\nconst SelectedCoursesTab = ({courses, discount: discountInfo, onCourseDeselect}) => {\r\n    let price, discount, message;\r\n    if (discountInfo) {\r\n        const fullPrice = _.sumBy(courses, 'price');\r\n        price = discountInfo.discounted_price;\r\n        discount = fullPrice - discountInfo.discounted_price;\r\n        message = discountInfo.message;\r\n    }\r\n    // const discount = _.sumBy(courses, 'discount');\r\n    React.useEffect(() => {\r\n        if (window.dispatchEvent)\r\n            window.dispatchEvent(new CustomEvent('scroll'));\r\n    });\r\n    return (\r\n        <BottomTab\r\n            className={`selected-courses ${courses.length === 0 ? 'hidden' : ''}`}>\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 col-md p-0 selected-courses__courses\">\r\n                        <ScrollBars\r\n                            autoHeight\r\n                            autoHeightMax=\"unset\"\r\n                            hideTracksWhenNotNeeded\r\n                            renderView={renderView}\r\n                            style={{height: '100%'}}\r\n                            className=\"scrollbars\">\r\n                            <TransitionGroup\r\n                                className=\"layout__bottom-tab-container container-fluid d-flex flex-nowrap\"\r\n                                style={{height: '100%'}}>\r\n                                {courses.map(course => (\r\n                                    <CSSTransition\r\n                                        classNames=\"animation-fade\"\r\n                                        key={course.id}\r\n                                        timeout={300}>\r\n                                        <SelectedCourse\r\n                                            course={course}\r\n                                            onCourseDeselect={onCourseDeselect}\r\n                                            onTruncate={() => {\r\n                                                window.dispatchEvent(new CustomEvent('scroll'));\r\n                                            }}/>\r\n                                    </CSSTransition>\r\n                                ))}\r\n                            </TransitionGroup>\r\n                        </ScrollBars>\r\n                    </div>\r\n                    <div className=\"col-12 col-md-auto p-0 selected-courses__price\">\r\n                        <div className=\"layout__bottom-tab-container container d-flex align-items-center justify-content-end\">\r\n                            {discountInfo ? (\r\n                                <React.Fragment>\r\n                                    <Button className=\"order-1 order-md-0 flex-shrink-0\">Оплатить</Button>\r\n                                    <div className=\"price selected-courses__price-container container\">\r\n                                        {discount > 0 && <div className=\"discount font-size-sm d-inline-block d-md-block\">{price + discount}₽</div>}\r\n                                        <div className=\"price font-size-lg d-inline-block d-md-block\">{price}₽</div>\r\n                                        {message && <div className=\"promotion font-size-xs\">{message}</div>}\r\n                                    </div>\r\n                                </React.Fragment>\r\n                            ) : (\r\n                                <div className=\"spinner-border\"/>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </BottomTab>\r\n    );\r\n};\r\n\r\nexport default SelectedCoursesTab;\r\n","import React from \"react\";\r\nimport Page, {PageContent, PageLoadingPlaceholder} from \"components/Page\";\r\nimport CourseCatalog from \"components/common/CourseCatalog\";\r\nimport SelectedCoursesTab from \"./SelectedCoursesTab\";\r\nimport Course from \"components/common/Course\";\r\nimport Button from \"components/ui/Button\";\r\nimport {useDiscount, useShopCatalog} from \"store\";\r\n\r\nconst ShopCatalogPage = ({selectedCourses, onCourseClick, onCourseSelect, onCourseDeselect, location}) => {\r\n    const {catalog, subjects, error, retry} = useShopCatalog();\r\n    const {discount, error: errorLoadingDiscount, retry: reloadDiscount} = useDiscount(selectedCourses);\r\n    const renderCourse = React.useCallback((course, props) => {\r\n        const isSelected = selectedCourses.has(course);\r\n        const {price, discount, purchased} = course;\r\n        return (\r\n            <Course\r\n                course={course}\r\n                selectable\r\n                isSelected={isSelected}\r\n                onActionClick={purchased ? null : onCourseSelect}\r\n                key={course.id}\r\n                {...props}>\r\n                {purchased ? (\r\n                    <Button style={{minWidth: '110px'}} active={false}>Куплено</Button>\r\n                ) : (\r\n                    <React.Fragment>\r\n                        <div className=\"list__item-action-info\">\r\n                            <span className=\"price\">{price}₽</span> {discount && <span className=\"discount font-size-xs\">{discount + price}₽</span>}\r\n                        </div>\r\n                        <Button style={{minWidth: '110px'}}>{isSelected ? 'Выбрано' : 'Выбрать'}</Button>\r\n                    </React.Fragment>\r\n                )}\r\n            </Course>\r\n        )\r\n    }, [selectedCourses, onCourseSelect]);\r\n    return (\r\n        <Page\r\n            className=\"course-shop\"\r\n            title=\"Магазин курсов\"\r\n            location={location}>\r\n            {!(catalog && subjects) ? (\r\n                <PageLoadingPlaceholder/>\r\n            ) : (\r\n                <CourseCatalog.Body\r\n                    subjects={subjects}\r\n                    courses={catalog}>\r\n                    <PageContent>\r\n                        <CourseCatalog.Filter/>\r\n                        <CourseCatalog.Catalog\r\n                            renderCourse={renderCourse}/>\r\n                    </PageContent>\r\n                </CourseCatalog.Body>\r\n            )}\r\n            <SelectedCoursesTab\r\n                onCourseDeselect={onCourseDeselect}\r\n                courses={[...selectedCourses]}\r\n                discount={discount}/>\r\n        </Page>\r\n    );\r\n};\r\n\r\nexport default ShopCatalogPage;\r\n","import React from 'react';\r\nimport _ from 'lodash';\r\nimport CoverImage from \"components/common/CoverImage\";\r\nimport {renderDate} from \"../../definitions/helpers\";\r\nimport List from \"./List\";\r\nimport Teacher from \"./Teacher\";\r\nimport Page, {PageLink} from \"../Page\";\r\nimport ErrorPage from \"../ErrorPage\";\r\n\r\nwindow._ = _;\r\n\r\nexport const CourseOverviewContext = React.createContext({});\r\n\r\nconst Description = () => {\r\n    const {course} = React.useContext(CourseOverviewContext);\r\n    return (\r\n        <React.Fragment>\r\n            <CoverImage src={course.image_link} className=\"course-overview__cover\"/>\r\n            <div className=\"course-overview__info layout__content-block\">\r\n                <h2>{course.name}</h2>\r\n                <div className=\"course-overview__summary\">\r\n                    <div className=\"col-auto course-overview__summary-item\">\r\n                        <i className=\"far fa-calendar-alt\"/>\r\n                        Начало: {renderDate(course.date_start, renderDate.date)}\r\n                    </div>\r\n                    <div className=\"col-auto course-overview__summary-item\">\r\n                        <i className=\"far fa-clock\"/>\r\n                        Длительность: {course.total_hours} часов\r\n                    </div>\r\n                </div>\r\n                <div className=\"description-text font-size-sm\">{course.description}</div>\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nconst Title = () => {\r\n    const {course} = React.useContext(CourseOverviewContext);\r\n    return (\r\n        <div className=\"course-overview__title layout__content-block\">\r\n            <h2>{course.name}</h2>\r\n            <PageLink className=\"course-overview__link\" to={`/shop/${course.id}`}>\r\n                Страница курса\r\n            </PageLink>\r\n        </div>\r\n    );\r\n};\r\n\r\n//TODO: error boundaries\r\nconst Teachers = () => {\r\n    const {course, teachers} = React.useContext(CourseOverviewContext);\r\n    return (\r\n        <div className=\"layout__content-block\">\r\n            <h3>Преподаватели</h3>\r\n            <div className=\"course-overview__teachers container negate-block-padding\">\r\n                <div className=\"row\">\r\n                    {course.teacher_ids.map((id, i) => (\r\n                        <div className=\"col-12 col-md d-flex p-0\" key={i}>\r\n                            <Teacher\r\n                                teacher={_.find(teachers, {id})}\r\n                                link={`/teachers/${id}/`}/>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Lessons = ({renderLesson: renderFunc}) => {\r\n    const {course, lessons} = React.useContext(CourseOverviewContext);\r\n    const renderCourse = React.useCallback((item) => {\r\n        return renderFunc(item, {link: `${item.id}/`});\r\n    }, [renderFunc]);\r\n    return (\r\n        <div className=\"layout__content-block\">\r\n            <h3>Уроки</h3>\r\n            <List\r\n                renderItem={renderCourse}>\r\n                {lessons}\r\n            </List>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst CourseOverview = (props) => {\r\n    const {match: {params: {id: param_id}}, path: root, courses, teachers, lessons, children, className, location} = props;\r\n    const id = parseInt(param_id);\r\n    const course = _.find(courses, {id});\r\n    if (course) {\r\n        return (\r\n            <Page\r\n                title={`${course.title}`}\r\n                className={`course-overview ${className || ''}`}\r\n                location={location}>\r\n                <CourseOverviewContext.Provider\r\n                    value={{\r\n                        course,\r\n                        teachers,\r\n                        lessons\r\n                    }}>\r\n                    {children}\r\n                </CourseOverviewContext.Provider>\r\n            </Page>\r\n        )\r\n    } else\r\n        return <ErrorPage errorCode={404} message=\"Курс не найден\" link={{url: root}}/>;\r\n};\r\n\r\nexport default {\r\n    Description,\r\n    Teachers,\r\n    Lessons,\r\n    Title,\r\n    Body: CourseOverview\r\n};\r\n","import React from \"react\";\r\nimport {CourseOverviewContext} from \"components/common/CourseOverview\";\r\nimport {BottomTab} from \"components/Page\";\r\nimport Button from \"../../../ui/Button\";\r\nimport _ from \"lodash\";\r\n\r\nconst CoursePriceTab = (props) => {\r\n    const {discount: discountInfo, error, retry} = props;\r\n    const {course: {price: fullPrice, purchased}} = React.useContext(CourseOverviewContext);\r\n    let price, discount, message;\r\n    if (discountInfo) {\r\n        price = discountInfo.discounted_price;\r\n        discount = fullPrice - discountInfo.discounted_price;\r\n        message = discountInfo.message;\r\n    }\r\n    React.useEffect(() => {\r\n        if (window.dispatchEvent)\r\n            window.dispatchEvent(new CustomEvent('scroll'));\r\n    });\r\n    return (\r\n        <BottomTab className=\"course-overview__offer\">\r\n            <div className=\"container layout__bottom-tab-container\">\r\n                <div className=\"row justify-content-end align-items-center\">\r\n                    {purchased ? (\r\n                        <Button active={false}>Куплено</Button>\r\n                    ) : (\r\n                        discountInfo ? (\r\n                            <React.Fragment>\r\n                                {discount > 0 && (\r\n                                    <div className=\"col-auto\">\r\n                                        <div className=\"discount\">{price + discount}₽</div>\r\n                                    </div>\r\n                                )}\r\n                                <div className=\"col-auto\">\r\n                                    <h2 className=\"price\">\r\n                                        {price}₽\r\n                                    </h2>\r\n                                </div>\r\n                                <div className=\"col-auto\">\r\n                                    <Button>Купить</Button>\r\n                                </div>\r\n                            </React.Fragment>\r\n                        ) : (\r\n                            <div className=\"spinner-border\"/>\r\n                        )\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </BottomTab>\r\n    );\r\n};\r\n\r\nexport default CoursePriceTab;\r\n","import React from \"react\";\r\nimport CoverImage from \"./CoverImage\";\r\n\r\nconst VideoCover = ({cover, watchProgress, locked=false, className}) => (\r\n    <CoverImage\r\n        src={cover}\r\n        className={`video-cover ${locked ? 'video-locked' : ''} ${className || ''}`}>\r\n        {watchProgress && (\r\n            <div className=\"video-cover__watch-progress-bar\">\r\n                <div\r\n                    className=\"watch-progress-bar__progress-line\"\r\n                    style={{width: `${watchProgress}%`}}/>\r\n            </div>\r\n        )}\r\n    </CoverImage>\r\n);\r\n\r\nexport default VideoCover;\r\n","import React from 'react';\r\nimport ListItem from \"./ListItem\";\r\nimport VideoCover from \"./VideoCover\";\r\n\r\nexport default function Lesson({lesson, locked=false, link, ...props}) {\r\n    const {name, image_link: cover, description, watchProgress} = lesson;\r\n    return (\r\n        <ListItem\r\n            item={lesson}\r\n            className={`video-class ${locked ? 'disabled' : ''}`}\r\n            title={name}\r\n            description={description}\r\n            preview={(\r\n                <VideoCover\r\n                    cover={cover}\r\n                    className=\"video-class__cover\"\r\n                    locked={locked}\r\n                    watchProgress={!locked && watchProgress}/>\r\n            )}\r\n            key={lesson.id}\r\n            link={locked ? undefined : link}\r\n            {...props}/>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport Page, {PageContent, PageLoadingPlaceholder} from \"components/Page\";\r\nimport CourseOverview from \"components/common/CourseOverview\";\r\nimport CoursePriceTab from \"./CoursePriceTab\";\r\nimport Lesson from \"components/common/Lesson\";\r\nimport {useShopCatalog, useTeachers, useLessons, useDiscount} from \"store\";\r\n\r\nconst CoursePage = ({path, location, match}) => {\r\n    const {params: {id: courseId}} = match;\r\n    const {catalog, subjects, error, retry} = useShopCatalog();\r\n    const {teachers, error: errorLoadingTeachers, retry: reloadTeachers} = useTeachers();\r\n    const {lessons, error: errorLoadingLessons, retry: reloadLessons} = useLessons(courseId);\r\n    const {discount, error: errorLoadingDiscount, retry: reloadDiscount} = useDiscount(courseId);\r\n    const renderLesson = (lesson, props) => (\r\n        <Lesson\r\n            lesson={lesson}\r\n            selectable={false}\r\n            locked={false}\r\n            key={lesson.id}/>\r\n    );\r\n    if (catalog && teachers && lessons ) {\r\n        return (\r\n            <CourseOverview.Body\r\n                match={match}\r\n                path={path}\r\n                courses={catalog}\r\n                teachers={teachers}\r\n                lessons={lessons}\r\n                location={location}>\r\n                <PageContent parentSection={{name: \"Магазин курсов\"}}>\r\n                    <CourseOverview.Description/>\r\n                    <CourseOverview.Teachers/>\r\n                    <CourseOverview.Lessons renderLesson={renderLesson}/>\r\n                </PageContent>\r\n                <CoursePriceTab\r\n                    discount={discount}\r\n                    error={error}\r\n                    retry={reloadDiscount}/>\r\n            </CourseOverview.Body>\r\n        );\r\n    }\r\n    else {\r\n        return (\r\n            <Page\r\n                location={location}>\r\n                <PageLoadingPlaceholder/>\r\n            </Page>\r\n        );\r\n    }\r\n};\r\n\r\nexport default CoursePage;\r\n","import React from 'react';\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport ShopCatalogPage from \"./catalog-page\";\r\nimport CoursePage from \"./course-page\";\r\n\r\nexport default function Shop(props) {\r\n    const [selectedCourses, setSelectedCourses] = React.useState(new Set());\r\n    const onCourseSelect = React.useCallback((course) => {\r\n        setSelectedCourses(selectedCourses => {\r\n            if (selectedCourses.has(course))\r\n                return selectedCourses;\r\n            selectedCourses = new Set(selectedCourses);\r\n            selectedCourses.add(course);\r\n            return selectedCourses;\r\n        });\r\n    }, []);\r\n    const onCourseDeselect = React.useCallback((course) => {\r\n        setSelectedCourses(selectedCourses => {\r\n            selectedCourses = new Set(selectedCourses);\r\n            selectedCourses.delete(course);\r\n            return selectedCourses;\r\n        });\r\n    }, []);\r\n    const {match} = props;\r\n    return (\r\n        <Switch>\r\n            <Route path={`${match.path}/:id`} render={(props) => (\r\n                <CoursePage\r\n                    path={match.path}\r\n                    {...props}/>\r\n            )}/>\r\n            <Route exact path={`${match.path}`} render={(props) => (\r\n                <ShopCatalogPage\r\n                    selectedCourses={selectedCourses}\r\n                    onCourseSelect={onCourseSelect}\r\n                    onCourseDeselect={onCourseDeselect}\r\n                    {...props}/>\r\n            )}/>\r\n        </Switch>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport Countdown from 'react-countdown-now';\r\nimport ScrollBars from \"components/ui/ScrollBars\";\r\nimport CoverImage from \"./CoverImage\";\r\n\r\n// const getTimerState = (releaseDate) => {\r\n//     console.log(releaseDate);\r\n//     const total = Math.max(releaseDate - new Date(), 0);\r\n//     const seconds = Math.floor((total / 1000) % 60);\r\n//     const minutes = Math.floor((total / 1000 / 60) % 60);\r\n//     const hours = Math.floor((total / (1000 * 60 * 60)) % 24);\r\n//     const days = Math.floor(total / (1000 * 60 * 60 * 24));\r\n//     return ({\r\n//         isAvailable: total === 0,\r\n//         remainingTime: {\r\n//             total,\r\n//             days,\r\n//             hours,\r\n//             minutes,\r\n//             seconds,\r\n//         }});\r\n// };\r\n//\r\n// function useCountdown(deadline) {\r\n//     const [state, setState] = React.useState(getTimerState(deadline));\r\n//     const timer = React.useRef();\r\n//     React.useEffect(() => {\r\n//         if (deadline > new Date()) {\r\n//             // noinspection JSValidateTypes\r\n//             timer.current = setInterval(() => {\r\n//                 const newState = getTimerState(deadline);\r\n//                 if (newState.isAvailable)\r\n//                     clearInterval(timer.current);\r\n//                 setState(newState);\r\n//             }, 1000);\r\n//         }\r\n//         return () => {clearInterval(timer.current);};\r\n//     }, [deadline]);\r\n//     return state;\r\n// }\r\n\r\nconst WEBINAR_STATE = {\r\n    WAITING: 'WAITING',\r\n    AIRING: 'AIRING',\r\n    ENDED: 'ENDED'\r\n};\r\n\r\nconst getWebinarState = (webinar) => {\r\n    const now = new Date();\r\n    return webinar.date_start > now ? WEBINAR_STATE.WAITING : (now > webinar.date_end ? WEBINAR_STATE.ENDED : WEBINAR_STATE.AIRING);\r\n};\r\n\r\nconst Webinar = ({webinar}) => {\r\n    const [state, setState] = React.useState(getWebinarState(webinar));\r\n    const onWebinarStart = React.useCallback(() => {\r\n        setState(WEBINAR_STATE.AIRING);\r\n    }, []);\r\n    React.useEffect(() => {\r\n        if (state === WEBINAR_STATE.AIRING) {\r\n            const now = new Date();\r\n            const timeTillEnd = webinar.date_end.getTime() - now.getTime();\r\n            const timeout = setTimeout(() => {\r\n                setState(WEBINAR_STATE.ENDED);\r\n            }, timeTillEnd);\r\n            return () => {\r\n                clearTimeout(timeout);\r\n            };\r\n        }\r\n    }, [state, webinar]);\r\n    const onClick = React.useCallback((event) => {\r\n        if (state !== WEBINAR_STATE.AIRING)\r\n            event.preventDefault();\r\n    }, [state]);\r\n    if (state === WEBINAR_STATE.ENDED) {\r\n        return null;\r\n    }\r\n    const isAiring = state === WEBINAR_STATE.AIRING;\r\n    const renderCountdown = (remainingTime) => {\r\n        const {formatted: {days, hours, minutes, seconds}, completed} = remainingTime;\r\n        return completed ? (\r\n            <div className=\"d-flex\"><span>В</span><span>&nbsp;</span><span>эфире</span></div> //fixes a big on mobile\r\n        ) : (\r\n            <div className=\"countdown\">\r\n                <span>{days}</span>:\r\n                <span>{hours}</span>:\r\n                <span>{minutes}</span>:\r\n                <span>{seconds}</span>\r\n            </div>\r\n        );\r\n    };\r\n    return (\r\n        <div\r\n            onClick={onClick}\r\n            className={`webinar-schedule__webinar d-flex ${isAiring ? '' : 'webinar-schedule__webinar-locked'}`}>\r\n            <div className=\"container d-flex overflow-hidden\">\r\n                <div className=\"row flex-nowrap flex-grow-1\">\r\n                    <div className=\"col-auto d-flex align-items-center webinar-schedule__webinar-status\">\r\n                        {isAiring ? <i className=\"fas fa-unlock\"/> : <i className=\"fas fa-lock\"/>}\r\n                    </div>\r\n                    <div className=\"col d-flex flex-shrink-0 p-0\">\r\n                        <CoverImage\r\n                            className=\"webinar-schedule__webinar-poster\"\r\n                            src={webinar.image_link}/>\r\n                        <div className=\"webinar-schedule__webinar-title d-flex flex-column justify-content-center p-2\">\r\n                            <div>{webinar.subject_name}</div>\r\n                            <div>{webinar.name}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-auto d-flex align-items-center webinar-schedule__webinar-countdown\">\r\n                        <Countdown\r\n                            date={webinar.date_start}\r\n                            className=\"countdown\"\r\n                            renderer={renderCountdown}\r\n                            onComplete={onWebinarStart}>\r\n                        </Countdown>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst WebinarSchedule = ({schedule}) => {\r\n    if (schedule.length === 0)\r\n        return null;\r\n    return (\r\n        <div className=\"layout__content-block webinar-schedule\">\r\n            <ScrollBars\r\n                autoHeight\r\n                autoHeightMax=\"unset\"\r\n                hideVerticalScrollbar\r\n                hideHorizontalScrollbar\r\n                hideTracksWhenNotNeeded\r\n                style={{height: '100%'}}\r\n                className=\"scrollbars\">\r\n                <div className=\"d-flex flex-nowrap\">\r\n                    {schedule.map((webinar) => (\r\n                        <Webinar webinar={webinar} key={webinar.id}/>\r\n                    ))}\r\n                </div>\r\n            </ScrollBars>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default WebinarSchedule;\r\n","import React from \"react\";\r\nimport CourseCatalog from \"components/common/CourseCatalog\";\r\nimport Course from \"components/common/Course\";\r\nimport Button from \"components/ui/Button\";\r\nimport Page, {PageContent, PageLoadingPlaceholder} from \"components/Page\";\r\nimport {LEARNING_STATUS} from \"definitions/constants\";\r\nimport {useUpcomingWebinars, useUserCourses} from \"store\";\r\nimport WebinarSchedule from \"components/common/WebinarSchedule\";\r\n\r\nconst CatalogPage = ({location}) => {\r\n    const {courses, subjects, error, retry} = useUserCourses();\r\n    const {webinars, error: errorLoadingWebinars, retry: reloadWebinars} = useUpcomingWebinars();\r\n    const renderCourse = React.useCallback((course, props) => (\r\n        <Course\r\n            course={course}\r\n            selectable\r\n            online={false}\r\n            key={course.id}\r\n            {...props}>\r\n            {course.status === LEARNING_STATUS.learning\r\n                ? <Button className=\"course__select-btn\">Изучать</Button>\r\n                : <Button className=\"course__select-btn\" active={false}>Пройден</Button>}\r\n        </Course>\r\n    ), []);\r\n    return (\r\n        <Page\r\n            className=\"user-courses\"\r\n            location={location}\r\n            title=\"Мои курсы\">\r\n            {!(courses && subjects && webinars) ? (\r\n                    <PageLoadingPlaceholder/>\r\n                ) : (\r\n                <CourseCatalog.Body\r\n                    courses={courses}\r\n                    subjects={subjects}>\r\n                    <PageContent>\r\n                        <CourseCatalog.Filter/>\r\n                        <WebinarSchedule schedule={webinars}/>\r\n                        <CourseCatalog.Catalog\r\n                            renderCourse={renderCourse}/>\r\n                    </PageContent>\r\n                </CourseCatalog.Body>\r\n            )\r\n            }\r\n        </Page>\r\n    );\r\n};\r\n\r\nexport default CatalogPage;\r\n","import React from \"react\";\r\nimport Page, {PageContent, PageLoadingPlaceholder} from \"components/Page\";\r\nimport CourseOverview from \"components/common/CourseOverview\";\r\nimport Lesson from \"components/common/Lesson\";\r\nimport Button from \"components/ui/Button\";\r\nimport {renderDate} from \"definitions/helpers\";\r\nimport {useCourseWebinars, useLessons, useUpcomingWebinars, useUserCourses} from \"store\";\r\nimport WebinarSchedule from \"../../../common/WebinarSchedule\";\r\n\r\nconst CoursePage = ({path, match, location, ...props}) => {\r\n    const {params: {id: courseId}} = match;\r\n    const {courses, error, retry} = useUserCourses();\r\n    const {webinars, error: errorLoadingWebinars, retry: reloadWebinars} = useCourseWebinars(courseId);\r\n    // const {teachers, error: errorLoadingTeachers, retry: reloadTeachers} = useTeachers();\r\n    const {lessons, error: errorLoadingLessons, retry: reloadLessons} = useLessons(courseId);\r\n    const renderLesson = (lesson, props) => {\r\n        const {date, id, locked} = lesson;\r\n        return (\r\n            <Lesson\r\n                lesson={lesson}\r\n                locked={locked}\r\n                selectable={!locked}\r\n                key={id}\r\n                {...props}>\r\n                {/*<div className=\"list__item-action-info\">{renderDate(date, renderDate.shortDate)}</div>*/}\r\n                {!locked\r\n                    ? <Button>Изучать</Button>\r\n                    : <Button active={false}>Скоро</Button>}\r\n            </Lesson>\r\n        );\r\n    };\r\n    if (courses && lessons ) {\r\n        return (\r\n            <CourseOverview.Body\r\n                match={match}\r\n                path={path}\r\n                courses={courses}\r\n                lessons={lessons}\r\n                location={location}>\r\n                <PageContent parentSection={{name: \"Мои курсы\"}}>\r\n                    <CourseOverview.Title/>\r\n                    <WebinarSchedule schedule={webinars}/>\r\n                    <CourseOverview.Lessons renderLesson={renderLesson}/>\r\n                </PageContent>\r\n            </CourseOverview.Body>\r\n        );\r\n    } else {\r\n        return (\r\n            <Page\r\n                location={location}>\r\n                <PageLoadingPlaceholder/>\r\n            </Page>\r\n        );\r\n    }\r\n};\r\n\r\nexport default CoursePage;\r\n","import React, { Component, Fragment } from 'react';\r\n\r\nclass Tooltip extends Component {\r\n    componentDidMount() {\r\n    }\r\n\r\n    render() {\r\n        let child = React.Children.only(this.props.children);\r\n        let position = 'pos-' + this.props.position;\r\n        return React.cloneElement(child, {\r\n            className: (child.props.className ? child.props.className + ' tooltip ' : 'tooltip ') + position,\r\n            children: (\r\n                <Fragment>\r\n                    {child.props.children}\r\n                    <div className=\"tooltip-arrow\"/>\r\n                    <div className=\"tooltip-block\">\r\n                        {\r\n                            this.props.content\r\n                        }\r\n                    </div>\r\n                </Fragment>\r\n            )\r\n        });\r\n    }\r\n}\r\n\r\nexport default Tooltip;\r\n","import React from 'react';\r\nimport {useUpdateEffect} from \"hooks/common\";\r\nimport {CSSTransition, SwitchTransition} from \"react-transition-group\";\r\nimport Tooltip from \"./Tooltip\";\r\n\r\nexport const LOADING_STATE = {\r\n    PENDING: 'pending',\r\n    LOADING: 'loading',\r\n    LOADED: 'loaded',\r\n    SUCCESS: 'success',\r\n    DONE: 'done',\r\n    REJECTED: 'rejected',\r\n    ERROR: 'error'\r\n};\r\n\r\nexport function useLoadingState(loading, done, rejected, error) {\r\n    const [state, setState] = React.useState(loading === null || done\r\n        ? LOADING_STATE.DONE\r\n        : (rejected\r\n            ? LOADING_STATE.REJECTED\r\n            : LOADING_STATE.LOADING));\r\n    useUpdateEffect(() => {\r\n        if (loading === false) {\r\n            setState(LOADING_STATE.LOADED);\r\n        } else if (loading === true) {\r\n            setState(LOADING_STATE.LOADING);\r\n        }\r\n    }, [loading]);\r\n    useUpdateEffect(() => {\r\n        if (state === LOADING_STATE.LOADED && done) {\r\n            setState(LOADING_STATE.SUCCESS);\r\n        }\r\n        else if (state === LOADING_STATE.SUCCESS) {\r\n            const timeout = setTimeout(() => {\r\n                setState(LOADING_STATE.DONE);\r\n            }, 1000);\r\n            return () => {\r\n                clearTimeout(timeout);\r\n            };\r\n        }\r\n    }, [state, done]);\r\n    useUpdateEffect(() => {\r\n        if (error)\r\n            setState(LOADING_STATE.ERROR);\r\n    }, [error]);\r\n    useUpdateEffect(() => {\r\n        if (rejected)\r\n            setState(LOADING_STATE.REJECTED);\r\n    }, [rejected]);\r\n    return state;\r\n}\r\n\r\nexport const LoadingIndicator = ({state, onClick, errorMessage}) => {\r\n    const icon = (state === LOADING_STATE.LOADED && \"spinner-border\")\r\n        || (state === LOADING_STATE.SUCCESS && \"icon-check\")\r\n        || (state === LOADING_STATE.ERROR && \"icon-reload\")\r\n        || (state === LOADING_STATE.REJECTED && \"icon-alert\")\r\n        || \"spinner-border\";\r\n    return (\r\n        <SwitchTransition>\r\n            {state !== LOADING_STATE.DONE ? (\r\n                <CSSTransition\r\n                    key={icon}\r\n                    appear={true}\r\n                    classNames=\"animation-scale\"\r\n                    timeout={300}>\r\n                    <div\r\n                        className=\"file__state-indicator\"\r\n                        onClick={onClick}>\r\n                        <Tooltip content={errorMessage}>\r\n                            <i\r\n                                className={icon}/>\r\n                        </Tooltip>\r\n                    </div>\r\n                </CSSTransition>\r\n            ) : null}\r\n        </SwitchTransition>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport Button from \"./Button\";\r\nimport {downloadFile} from \"../../definitions/helpers\";\r\nimport {LoadingIndicator, useLoadingState} from \"./LoadingIndicator\";\r\n\r\nconst File = ({\r\n                  file: {name, downloadName, url},\r\n                  error=null,\r\n                  rejected=null,\r\n                  loading=null,\r\n                  done=true,\r\n                  deletable=false,\r\n                  onDelete,\r\n                  onIndicatorClick,\r\n                  className,\r\n                  errorMessage,\r\n                  ...props\r\n              }) => {\r\n    const downloadCallback = React.useCallback(() => {\r\n        if (url)\r\n            downloadFile(url, downloadName || name);\r\n    }, [url, name, downloadName]);\r\n    const isUpload = loading !== null;\r\n    const state = useLoadingState(loading !== null ? loading < 100 : null, done, rejected, error);\r\n    return (\r\n        <div className={`file file-${state} ${className || ''}`}>\r\n            <Button\r\n                neutral\r\n                className=\"file__btn\"\r\n                icon={deletable\r\n                    ? <i className=\"icon-close file__action-btn file__delete-btn animated__action-button\"/>\r\n                    : <i className=\"icon-download file__action-btn file__download-btn animated__action-button\"/>}\r\n                iconAction={deletable ? onDelete : undefined}\r\n                onClick={downloadCallback}\r\n                {...props}>\r\n                {loading !== null && <div className=\"file__loading-progress\" style={{width: `${loading}%`}}/>}\r\n                <i className=\"file__icon far fa-file-alt\"/>\r\n                <span\r\n                    className=\"file__name\"\r\n                    title={name}>\r\n                {name}\r\n            </span>\r\n            </Button>\r\n            {isUpload && (\r\n                <LoadingIndicator\r\n                    onClick={onIndicatorClick}\r\n                    state={state}\r\n                    errorMessage={errorMessage}/>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default File;\r\n\r\n","import React from \"react\";\r\n\r\nconst VideoPlayer = ({video_link}) => (\r\n    <div className=\"video-player\">\r\n        <iframe\r\n            className=\"video-player__video\"\r\n            src={`https://player.vimeo.com/video/${video_link}?color=fa9346&title=0&byline=0&portrait=0`}\r\n            frameBorder=\"0\"\r\n            allow=\"autoplay; fullscreen\"\r\n            allowFullScreen/>\r\n    </div>\r\n);\r\n\r\nexport default VideoPlayer;\r\n","import {CSSTransition} from \"react-transition-group\";\r\nimport ReactDOM from 'react-dom';\r\n\r\n//hack to get context because lib doesn't export it properly and import doesn't work\r\n// const TransitionGroupContext = Transition.contextType;\r\n//\r\n// const getClassNames = (classNames, type) => {\r\n//     const isStringClassNames = typeof classNames === 'string';\r\n//     const prefix = isStringClassNames && classNames\r\n//         ? `${classNames}-`\r\n//         : '';\r\n//\r\n//     let baseClassName = isStringClassNames\r\n//         ? `${prefix}${type}`\r\n//         : classNames[type];\r\n//\r\n//     let activeClassName = isStringClassNames\r\n//         ? `${baseClassName}-active`\r\n//         : classNames[`${type}Active`];\r\n//\r\n//     let doneClassName = isStringClassNames\r\n//         ? `${baseClassName}-done`\r\n//         : classNames[`${type}Done`];\r\n//\r\n//     return {\r\n//         baseClassName,\r\n//         activeClassName,\r\n//         doneClassName\r\n//     };\r\n// };\r\n//\r\n// function getClassName(classNames, type, phase) {\r\n//     // console.log(arguments);\r\n//     let className = getClassNames(classNames, type)[`${phase}ClassName`];\r\n//\r\n//     if (type === 'appear' && phase === 'done') {\r\n//         className += ` ${getClassNames(classNames, 'enter').doneClassName}`;\r\n//     }\r\n//\r\n//     return className;\r\n// }\r\n//\r\n// const State = {\r\n//     entering: 'entering',\r\n//     entered:  'entered',\r\n//     exiting:  'exiting',\r\n//     exited: 'exited'\r\n// };\r\n//\r\n// const StableCSSTransition = ({classNames='', appear, children, ...props}) => {\r\n//     const isMounting = !useIsMounted();\r\n//     const context = React.useContext(TransitionGroupContext);\r\n//         const appearingRef = React.useRef(context ? context.isMounting : appear);\r\n//     const prevStateRef = React.useRef(null);\r\n//     const appliedClassNamesRef = React.useRef('');\r\n//     return (\r\n//         <Transition\r\n//             // mountOnEnter\r\n//             // unmountOnExit\r\n//             {...props}\r\n//             appear={appear}>\r\n//             {(state) => {\r\n//                 const appearing = appearingRef.current;\r\n//                 const prevState = prevStateRef.current;\r\n//                 const animateMounting = context != null;\r\n//\r\n//                 console.log(prevState, '->', state);\r\n//                 let className = appliedClassNamesRef.current;\r\n//                 if (state === State.exited) {\r\n//                     if (prevState !== State.exiting) {\r\n//                         if (appearing) {\r\n//                             className = getClassName(classNames, 'appear', 'base');\r\n//                         }\r\n//                         else if (prevState !== null || animateMounting) {\r\n//                             className = getClassName(classNames, 'enter', 'base');\r\n//                         }\r\n//                     }\r\n//                     else {\r\n//                         className = getClassName(classNames, 'exit', 'done');\r\n//                     }\r\n//                 }\r\n//                 else if (state === State.exiting) {\r\n//                     className = getClassName(classNames, 'exit', 'active');\r\n//                 }\r\n//                 else if (state === State.entered) {\r\n//                     if (prevState === State.entered) {\r\n//                         className = getClassName(classNames, 'exit', 'base');\r\n//                     }\r\n//                     else if (prevState !== null || animateMounting) {\r\n//                         className = getClassName(classNames, appearing ? 'appear' : 'enter', 'done');\r\n//                     }\r\n//                     appearingRef.current = false;\r\n//                 }\r\n//                 else if (state === State.entering || animateMounting) {\r\n//                     className = getClassName(classNames, appearing ? 'appear' : 'enter', 'active');\r\n//                 }\r\n//                 prevStateRef.current = state;\r\n//                 appliedClassNamesRef.current = className;\r\n//                 console.log(className);\r\n//                 const child = React.Children.only(children);\r\n//                 return React.cloneElement(child, {\r\n//                     className: child.props.className ? `${child.props.className} ${className}` : className\r\n//                 });\r\n//             }}\r\n//         </Transition>\r\n//     );\r\n// };\r\n\r\nclass StableCSSTransition extends CSSTransition {\r\n    type = null;\r\n    phase = null;\r\n\r\n    addClass(node, type, phase) {\r\n        super.addClass(node, type, phase);\r\n        this.type = type;\r\n        this.phase = phase;\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.appliedClasses[this.type] && this.appliedClasses[this.type][this.phase])\r\n            super.addClass(ReactDOM.findDOMNode(this), this.type, this.phase);\r\n    }\r\n}\r\n\r\nexport default StableCSSTransition;\r\n","import React from 'react';\r\nimport _ from 'lodash';\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport {TransitionGroup} from \"react-transition-group\";\r\nimport {useRefValue} from \"hooks/common\";\r\nimport Auth from 'definitions/auth';\r\nimport {API_ROOT} from \"api\";\r\nimport {getAuthHeader, trimFileExtension} from \"definitions/helpers\";\r\nimport StableCSSTransition from \"components/common/StableCSSTransition\";\r\nimport {LOADING_STATE, LoadingIndicator, useLoadingState} from \"./LoadingIndicator\";\r\nimport File from \"./File\";\r\nimport Button from \"./Button\";\r\n\r\nimport 'react-dropzone-uploader/dist/styles.css';\r\n\r\nconst FILE_STATUS = {\r\n    rejected_file_type: 'rejected_file_type',\r\n    rejected_max_files: 'rejected_max_files',\r\n    preparing: 'preparing',\r\n    error_file_size: 'error_file_size',\r\n    error_validation: 'error_validation',\r\n    ready: 'ready',\r\n    started: 'started',\r\n    getting_upload_params: 'getting_upload_params',\r\n    error_upload_params: 'error_upload_params',\r\n    uploading: 'uploading',\r\n    exception_upload: 'exception_upload',\r\n    aborted: 'aborted',\r\n    restarted: 'restarted',\r\n    removed: 'removed',\r\n    error_upload: 'error_upload',\r\n    headers_received: 'headers_received',\r\n    done: 'done',\r\n};\r\nconst FileInputContext = React.createContext(null);\r\nconst isFileReady = f => f.meta.status === 'done';\r\nconst allFilesReady = files => files.every(f => isFileReady(f));\r\nconst getUploadParams = () => {\r\n    // return { url: 'https://httpbin.org/post' };\r\n    if (Auth.user) {\r\n        return {\r\n            url: `${API_ROOT}/files/`,\r\n            headers: getAuthHeader(Auth.user.uid, Auth.user.hash)\r\n        };\r\n    }\r\n    else\r\n        throw new Error('User not logged in');\r\n};\r\nconst getFileProp = ({original_file_name, id_file_name}) => ({\r\n    name: original_file_name,\r\n    downloadName: `${trimFileExtension(original_file_name)}_${id_file_name}`,\r\n    url: `${API_ROOT}/files/${id_file_name}?disp=attachment`\r\n});\r\n\r\nconst Input = (props) => {\r\n    const {\r\n        className,\r\n        style,\r\n        getFilesFromEvent,\r\n        accept,\r\n        multiple,\r\n        disabled,\r\n        onFiles,\r\n        files,\r\n        content,\r\n        extra: { maxFiles }\r\n    } = props;\r\n    const onChange = React.useCallback(async e => {\r\n        const target = e.target;\r\n        const chosenFiles = await getFilesFromEvent(e);\r\n        onFiles(chosenFiles);\r\n        target.value = null\r\n    }, [getFilesFromEvent, onFiles]);\r\n    const isActive = files.length < maxFiles && !disabled;\r\n    return (\r\n        <Button\r\n            tag=\"label\"\r\n            active={isActive}\r\n            icon={<i className=\"icon-add\"/>}>\r\n            {content}\r\n            <input\r\n                className={className}\r\n                style={style}\r\n                type=\"file\"\r\n                accept={accept}\r\n                multiple={multiple}\r\n                disabled={!isActive}\r\n                onChange={isActive ? onChange : null}\r\n            />\r\n        </Button>\r\n    );\r\n};\r\n\r\nconst Preview = (props) => {\r\n    const {\r\n        fileWithMeta: { cancel, remove, restart, xhr },\r\n        meta: { name = '', percent = 0, status},\r\n        isUpload,\r\n        canRemove,\r\n        className\r\n    } = props;\r\n    const [getResponse, setResponse] = useRefValue(null);\r\n    if (!getResponse() && xhr && xhr.responseText) {\r\n        try {\r\n            const {original_file_name, file_link, id_file_name} = JSON.parse(xhr.responseText);\r\n            if (!(original_file_name && file_link && id_file_name))\r\n                throw new Error('Incorrect response');\r\n            setResponse({\r\n                original_file_name,\r\n                file_link,\r\n                id_file_name\r\n            });\r\n        }\r\n        catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n    const response = getResponse();\r\n    const deleteCallback = React.useCallback(() => {\r\n        if (isUpload && !(status === 'done' || status === 'headers_received')) {\r\n            cancel();\r\n        }\r\n        remove();\r\n    }, [cancel, remove, isUpload, status]);\r\n    const hasError = _.startsWith(status, 'error') || _.startsWith(status, 'exception');\r\n    const isRejected = status === FILE_STATUS.error_file_size ? true : undefined;\r\n    const loading = isUpload ? status === 'done' || status === 'headers_received' ? 100 : percent : null;\r\n    const isDone = status === 'done';\r\n    return (\r\n        <File\r\n            file={response ? getFileProp(response) : ({name})}\r\n            loading={loading}\r\n            className={className}\r\n            done={isDone}\r\n            rejected={hasError && isRejected ? true : undefined}\r\n            error={hasError}\r\n            errorMessage={hasError && isRejected ? 'Файл превышает максимальный допустимый размер' : undefined}\r\n            deletable={canRemove}\r\n            onDelete={deleteCallback}\r\n            onIndicatorClick={hasError && !isRejected ? restart : undefined}/>\r\n    );\r\n};\r\n\r\nconst SubmitButton = (props) => {\r\n    const {submitting, hasChanged} = React.useContext(FileInputContext) || ({});\r\n    const { disabled, onSubmit, files, content } = props;\r\n    const isDisabled = !allFilesReady(files) || disabled;\r\n\r\n    const submitCallback = React.useCallback(() => {\r\n        onSubmit(files);\r\n    }, [onSubmit, files]);\r\n\r\n    const state = useLoadingState(submitting, submitting === false);\r\n    console.log(state);\r\n    return (\r\n        <StableCSSTransition\r\n            in={onSubmit != null && (hasChanged || state !== LOADING_STATE.DONE)}\r\n            appear\r\n            mountOnEnter\r\n            unmountOnExit\r\n            classNames=\"animation-fade\"\r\n            timeout={300}>\r\n            <React.Fragment>\r\n                <Button\r\n                    active={!isDisabled}\r\n                    icon={\r\n                        hasChanged\r\n                            ? (<i className=\"icon-upload\"/>)\r\n                            : (<LoadingIndicator state={state}/>)\r\n                    }\r\n                    onClick={submitCallback}>\r\n                    {hasChanged ? content : 'Сохранено'}\r\n                </Button>\r\n            </React.Fragment>\r\n        </StableCSSTransition>\r\n    );\r\n};\r\n\r\nconst Layout = ({input, previews=[], submitButton, dropzoneProps, files, extra: { maxFiles } }) => {\r\n    const context = React.useContext(FileInputContext);\r\n    const {preloadedFiles=[], deletePreloadedFile, disabled} = context || ({});\r\n    const { ref } = dropzoneProps;\r\n    return (\r\n        <div\r\n            ref={ref}\r\n            className=\"file-input\">\r\n            {/*<StableCSSTransition*/}\r\n            {/*    in={previews.length > 0 || preloadedFiles.length > 0}*/}\r\n            {/*    mountOnEnter*/}\r\n            {/*    unmountOnExit*/}\r\n            {/*    classNames=\"animation-fade\"*/}\r\n            {/*    timeout={300}>*/}\r\n            <h4 className=\"file-input__files-title\">Загруженные файлы</h4>\r\n            {/*</StableCSSTransition>*/}\r\n            <TransitionGroup className=\"file-container\">\r\n                {\r\n                    preloadedFiles && (\r\n                        preloadedFiles.map((file) => {\r\n                            const {id_file_name} = file;\r\n                            const deleteCallback = () => {deletePreloadedFile(file);};\r\n                            return (\r\n                                <StableCSSTransition\r\n                                    classNames=\"animation-fade\"\r\n                                    timeout={300}\r\n                                    key={id_file_name}>\r\n                                    <File\r\n                                        file={getFileProp(file)}\r\n                                        done={true}\r\n                                        deletable={!disabled}\r\n                                        onDelete={deleteCallback}/>\r\n                                </StableCSSTransition>\r\n                            );\r\n                        }\r\n                    ))\r\n                }\r\n                {previews.map((preview, i) => (\r\n                    <StableCSSTransition\r\n                        classNames=\"animation-fade\"\r\n                        timeout={300}\r\n                        key={preview.props.meta.id}>\r\n                        {preview}\r\n                    </StableCSSTransition>\r\n                ))}\r\n            </TransitionGroup>\r\n            <div className=\"file-input__controls\">\r\n                {input}\r\n                {submitButton}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst getCallbackFiles = (files, preloadedFiles) => {\r\n    if (!allFilesReady(files))\r\n        return null;\r\n    else\r\n        return _.concat(preloadedFiles, files.map(({xhr}) => JSON.parse(xhr.responseText)));\r\n};\r\n\r\n//TODO: check disabled on capturing phase of click\r\nconst FileInput = (props) => {\r\n    let {\r\n        initialFiles=[],\r\n        inputContent=\"Загрузить файл\",\r\n        onChange,\r\n        onSubmit,\r\n        maxFiles=5,\r\n        maxSizeBytes=1024 * 1024 * 4,\r\n        accept,\r\n        isDisabled=false,\r\n        ...otherProps\r\n    } = props;\r\n\r\n    const [preloadedFiles, setPreloadedFiles] = React.useState(initialFiles);\r\n    const [hasChanged, setChanged] = React.useState(false);\r\n    const [submitting, setSubmitting] = React.useState(null);\r\n    const [getInputFiles, setInputFiles] = useRefValue([]);\r\n\r\n    const deletePreloadedFile = React.useCallback((file) => {\r\n        const newPreloadedFiles = preloadedFiles.filter(item => item !== file);\r\n        setChanged(true);\r\n        setPreloadedFiles(newPreloadedFiles);\r\n        onChange && onChange(getCallbackFiles(getInputFiles(), newPreloadedFiles));\r\n    }, [preloadedFiles, onChange, getInputFiles]);\r\n\r\n    const handleChangeStatus = React.useCallback(({meta, ...file}, status, files) => {\r\n        console.log(status, meta, _.cloneDeep(files));\r\n        setChanged(true);\r\n        setInputFiles(files);\r\n        onChange && onChange(true, getCallbackFiles(files, preloadedFiles));\r\n    }, [onChange, preloadedFiles, setInputFiles]);\r\n\r\n    const handleSubmit = React.useCallback(async (files) => {\r\n        console.log(files.map(f => f.meta));\r\n        if (onSubmit) {\r\n            const filesToSubmit = getCallbackFiles(files, preloadedFiles);\r\n            const returnValue = onSubmit(filesToSubmit);\r\n            if (returnValue instanceof Promise) {\r\n                setSubmitting(true);\r\n                try {\r\n                    await returnValue;\r\n                    setChanged(false);\r\n                    onChange && onChange(false, filesToSubmit);\r\n                }\r\n                finally {\r\n                    setSubmitting(false);\r\n                }\r\n            }\r\n        }\r\n    }, [onSubmit, preloadedFiles]);\r\n\r\n    maxFiles = preloadedFiles ? maxFiles - preloadedFiles.length : maxFiles;\r\n    const disabled = typeof isDisabled === 'function' ? isDisabled() : isDisabled;\r\n    return (\r\n        <FileInputContext.Provider\r\n            value={{\r\n                preloadedFiles,\r\n                deletePreloadedFile,\r\n                hasChanged,\r\n                disabled,\r\n                submitting\r\n            }}>\r\n            <Dropzone\r\n                inputContent={inputContent}\r\n                submitButtonContent={'Сохранить'}\r\n                {...otherProps}\r\n                getUploadParams={getUploadParams}\r\n                onChangeStatus={handleChangeStatus}\r\n                onSubmit={onSubmit && handleSubmit}\r\n                canCancel={false}\r\n                SubmitButtonComponent={SubmitButton}\r\n                LayoutComponent={Layout}\r\n                InputComponent={Input}\r\n                PreviewComponent={Preview}\r\n                maxFiles={maxFiles}\r\n                maxSizeBytes={maxSizeBytes}\r\n                accept={accept}\r\n                classNames={{preview: ''}}\r\n                disabled={isDisabled}\r\n            />\r\n        </FileInputContext.Provider>\r\n    )\r\n};\r\n\r\nexport default FileInput;\r\n\r\n\r\n","import React from 'react';\r\nimport {Prompt} from \"react-router-dom\";\r\n\r\nconst NavigationBlocker = () => {\r\n    const unloadCallback = React.useCallback((event) => {\r\n        // Cancel the event as stated by the standard.\r\n        event.preventDefault();\r\n        // Chrome requires returnValue to be set.\r\n        event.returnValue = '';\r\n    }, []);\r\n    React.useEffect(() => {\r\n        window.addEventListener('beforeunload', unloadCallback);\r\n        return () => {\r\n            window.removeEventListener('beforeunload', unloadCallback);\r\n        };\r\n    }, [unloadCallback]);\r\n    return (\r\n        <Prompt\r\n            message='У вас есть несохраненные изменения, покинуть страницу?'\r\n        />\r\n    );\r\n};\r\n\r\nexport default NavigationBlocker;\r\n","import React from \"react\";\r\nimport FileInput from \"components/ui/FileInput\";\r\nimport APIRequest from \"api\";\r\nimport NavigationBlocker from \"components/common/NavigationBlocker\";\r\nimport {useHomework} from \"store\";\r\n\r\nconst HomeworkLoader = ({homework, deadline, lessonId}) => {\r\n    const isHomeworkSubmissionClosed = React.useCallback(() => deadline && new Date() >= deadline, [deadline]);\r\n    const [hasChanges, setChanges] = React.useState(false);\r\n    const onChange = React.useCallback((files) => {\r\n        console.log('files changed', files);\r\n        setChanges(true);\r\n    }, []);\r\n    const onSubmit = React.useCallback(async (files) => {\r\n        console.log('files submitted', files);\r\n        const file = files[0] ? files[0].id_file_name : null;\r\n        //TODO: add error alert\r\n        return APIRequest({\r\n            url: `/lessons/${lessonId}/homeworks/pupil`,\r\n            method: file ? 'PUT' : 'DELETE',\r\n            data: {\r\n                file\r\n            }\r\n        }).then(() => {\r\n            setChanges(false);\r\n        });\r\n        // return Promise.resolve();\r\n    }, [homework, lessonId, setChanges]);\r\n    return (\r\n        <div className=\"submission\">\r\n            {hasChanges && <NavigationBlocker/>}\r\n            <FileInput\r\n                maxFiles={1}\r\n                accept=\"image/*,audio/*,video/*\"\r\n                initialFiles={homework.files}\r\n                onChange={onChange}\r\n                onSubmit={onSubmit}\r\n                isDisabled={isHomeworkSubmissionClosed}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HomeworkLoader;\r\n","import React from \"react\";\r\nimport File from \"components/ui/File\";\r\nimport VideoPlayer from \"components/common/VideoPlayer\";\r\nimport {renderDate} from \"definitions/helpers\";\r\nimport HomeworkLoader from \"./HomeworkLoader\";\r\n\r\nconst LessonView = ({lesson: {id, name, image_link: cover, video_link: video, description, assignment}, homework}) => {\r\n    return (\r\n        <div className=\"col-12 col-lg layout__content-block lesson-page__current-lesson\">\r\n            <div className=\"block-container video-container\">\r\n                <VideoPlayer video_link={video}/>\r\n            </div>\r\n            <div className=\"block-container description-container\">\r\n                <h2>{name}</h2>\r\n                <div className=\"description-text\">{description}</div>\r\n            </div>\r\n            {assignment && (\r\n                <div className=\"block-container hw-container\">\r\n                    <h3>Домашнее задание</h3>\r\n                    <div className=\"assignment\">\r\n                        {assignment.files && (\r\n                            <div className=\"assignment__files file-container\">\r\n                                {assignment.files.map((assignment, i) => (\r\n                                    <File file={assignment} key={i}/>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                        {assignment.description && <div className=\"description-text\">{assignment.description}</div>}\r\n                        {assignment.deadline &&\r\n                        <div className=\"assignment__deadline\">Дедлайн: {renderDate(assignment.deadline, renderDate.date)}</div>}\r\n                    </div>\r\n                    <HomeworkLoader\r\n                        homework={homework}\r\n                        deadline={assignment.deadline}\r\n                        lessonId={id}/>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LessonView;\r\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport Page, {PageContent, PageLoadingPlaceholder} from \"components/Page\";\r\nimport ErrorPage from \"components/ErrorPage\";\r\nimport Lesson from \"components/common/Lesson\";\r\nimport List from \"components/common/List\";\r\nimport LessonView from \"./LessonView\";\r\nimport {useHomework, useLessons, useUserCourses} from \"store\";\r\n\r\nconst LessonPage = (props) => {\r\n    const {match: {params: {courseId: param_course, lessonId: param_lesson}}, location} = props;\r\n    const courseId = parseInt(param_course);\r\n    const lessonId = parseInt(param_lesson);\r\n\r\n    const {courses, error, retry} = useUserCourses();\r\n    // const {teachers, error: errorLoadingTeachers, retry: reloadTeachers} = useTeachers();\r\n    const {lessons, error: errorLoadingLessons, retry: reloadLessons} = useLessons(courseId);\r\n    const {homework, error: errorLoadingHomework, retry: reloadHomework} = useHomework(lessonId);\r\n    const renderLesson = (lesson) => {\r\n        const {id, locked} = lesson;\r\n        return (\r\n            <Lesson\r\n                lesson={lesson}\r\n                locked={locked}\r\n                selectable={!locked}\r\n                key={id}\r\n                link={`../${lesson.id}/`}>\r\n            </Lesson>\r\n        );\r\n    };\r\n\r\n    if (courses && lessons && homework) {\r\n        const course = _.find(courses, {id: courseId});\r\n        const selectedLesson = (course && _.find(lessons, {id: lessonId})) || null;\r\n        if (selectedLesson && !selectedLesson.locked) {\r\n            let nextVideo = lessons[selectedLesson.num];\r\n            if (!nextVideo || nextVideo.locked)\r\n                nextVideo = null;\r\n            const otherLessons = _.sortBy(lessons.filter(lesson => (\r\n                lesson.id !== selectedLesson.id && (nextVideo ? lesson.id !== nextVideo.id : true\r\n                ))), 'num');\r\n            return (\r\n                <Page title={`${selectedLesson.title}`} className=\"lesson-page\" location={location}>\r\n                    <PageContent parentSection={{name: course.name}}>\r\n                        <div className=\"layout__content-block\">\r\n                            <div className=\"container p-lg-0\">\r\n                                <div className=\"row\">\r\n                                    <LessonView lesson={selectedLesson} homework={homework}/>\r\n                                    <div className=\"col-12 col-lg-auto layout__content-block lesson-page__other-lessons\">\r\n                                        {nextVideo && <h3>Следующее занятие</h3>}\r\n                                        {nextVideo && (\r\n                                            <List renderItem={renderLesson}>{[nextVideo]}</List>\r\n                                        )}\r\n                                        {(otherLessons && otherLessons.length > 0) && (\r\n                                            <React.Fragment>\r\n                                                <h3>Другие занятия</h3>\r\n                                                <List\r\n                                                    renderItem={renderLesson}>\r\n                                                    {otherLessons}\r\n                                                </List>\r\n                                            </React.Fragment>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </PageContent>\r\n                </Page>\r\n            );\r\n        } else\r\n            return <ErrorPage errorCode={404} message=\"Урок не найден\" />;\r\n    } else {\r\n        return (\r\n            <Page\r\n                location={location}>\r\n                <PageLoadingPlaceholder/>\r\n            </Page>\r\n        );\r\n    }\r\n};\r\n\r\nexport default LessonPage;\r\n","import React from 'react';\r\nimport _ from 'lodash';\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport {MY_COURSES} from \"data/test_data\";\r\nimport {LEARNING_STATUS} from \"definitions/constants\";\r\nimport CatalogPage from \"./catalog-page\";\r\nimport CoursePage from \"./course-page\";\r\nimport LessonPage from \"./lesson-page\";\r\n\r\nexport default class MyCourses extends React.Component {\r\n    state = {\r\n        courses: _.sortBy(MY_COURSES, (course) => course.status === LEARNING_STATUS.finished ? 1 : 0)\r\n    };\r\n\r\n    render() {\r\n        const {match} = this.props;\r\n        const {courses} = this.state;\r\n        return (\r\n            <Switch>\r\n                <Route path={`${match.path}/:courseId/:lessonId`} render={(props) => (\r\n                    <LessonPage catalog={courses}\r\n                                {...props}/>\r\n                )}/>\r\n                <Route path={`${match.path}/:id`} render={(props) => (\r\n                    <CoursePage\r\n                        catalog={courses}\r\n                        path={match.path}\r\n                        {...props}/>\r\n                )}/>\r\n                <Route exact path={`${match.path}`} render={(props) => (\r\n                    <CatalogPage catalog={courses} {...props}/>\r\n                )}/>\r\n            </Switch>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport {CSSTransition} from \"react-transition-group\";\r\nimport {BrowserRouter as Router, Redirect, Route, Switch, useHistory, useLocation} from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\nimport SideBar from \"./SideBar\";\r\nimport Page from \"./Page\";\r\nimport {useRefValue} from \"hooks/common\";\r\nimport GlobalStore, {useUser} from \"store\";\r\n\r\nimport Login from \"./pages/login\";\r\nimport Account from \"./pages/account\";\r\nimport Teachers from \"./pages/teachers\";\r\nimport Shop from \"./pages/shop\";\r\nimport MyCourses from \"./pages/courses\";\r\n\r\nimport 'sass/index.scss';\r\n\r\nfunction useLocationChangeEffect(effect) {\r\n    const history = useHistory();\r\n    React.useEffect(() => {\r\n        return history.listen(effect);\r\n    }, [history, effect]);\r\n}\r\n\r\nfunction useScrollToTop() {\r\n    const [getPrevPath, setPrevPath] = useRefValue(useLocation().pathname);\r\n    const onLocationChange = React.useCallback((location, action) => {\r\n        console.log('update');\r\n        if (getPrevPath() !== location.pathname && action !== 'POP') {\r\n            window.scrollTo(0, 0);\r\n        }\r\n        setPrevPath(location.pathname);\r\n    }, [getPrevPath, setPrevPath]);\r\n    useLocationChangeEffect(onLocationChange);\r\n}\r\n\r\nfunction useForceTrailingSlash() {\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n    const path = location.pathname;\r\n    if (path.slice(-1) !== '/') {\r\n        history.replace(path + '/');\r\n    }\r\n}\r\n\r\nfunction useSideBarState() {\r\n    const [isSideBarOpened, setSideBar] = React.useState(false);\r\n    const toggleSideBar = React.useCallback(() => {\r\n        setSideBar(opened => !opened);\r\n    }, []);\r\n    return [isSideBarOpened, toggleSideBar];\r\n}\r\n\r\nconst onLocationChange = (location, args) => {\r\n    console.log(`- - - location: '${location.pathname}'`, args);\r\n};\r\n\r\nfunction App() {\r\n    // routing effects\r\n    useForceTrailingSlash();\r\n    useScrollToTop();\r\n    useLocationChangeEffect(onLocationChange);\r\n\r\n    const [isSideBarOpened, toggleSideBar] = useSideBarState();\r\n    const {user, userInfo} = useUser();\r\n    const showSidebar = user !== null;\r\n    return (\r\n        <div className=\"app\">\r\n            <Header\r\n                onMenuButtonClick={toggleSideBar}\r\n                user={user}\r\n                sidebar={showSidebar}/>\r\n            <CSSTransition\r\n                in={isSideBarOpened}\r\n                timeout={200}\r\n                classNames={App.layoutAnimationClassNames}>\r\n                <div className=\"layout\">\r\n                    <React.Fragment>\r\n                        {showSidebar && (\r\n                            <SideBar\r\n                                accountRoles={user ? (userInfo ? userInfo.roles : undefined) : null}\r\n                                onMenuClose={toggleSideBar}/>\r\n                        )}\r\n                        <Switch>\r\n                            <Route exact path=\"/\" render={() => <Redirect to=\"/courses\"/>}/>\r\n                            <Route path=\"/login\" component={Login}/>\r\n                            <Route path=\"/courses\" component={MyCourses}/>\r\n                            <Route path=\"/shop\" component={Shop}/>\r\n                            <Route path=\"/teachers\" component={Teachers}/>\r\n                            <Route path=\"/account\" component={Account}/>\r\n                            <Route path=\"/:section\" component={Page}/>\r\n                        </Switch>\r\n                    </React.Fragment>\r\n                </div>\r\n            </CSSTransition>\r\n        </div>\r\n    );\r\n}\r\n\r\nApp.layoutAnimationClassNames = {\r\n    enter: 'sidebar-opened',\r\n    enterActive: 'sidebar-opened',\r\n    enterDone: 'sidebar-opened',\r\n    exit: 'sidebar-hiding',\r\n    exitActive: 'sidebar-hiding'\r\n};\r\n\r\nexport default () => (\r\n    <Router basename={process.env.REACT_APP_BASE_URL}>\r\n        <GlobalStore>\r\n            <App/>\r\n        </GlobalStore>\r\n    </Router>\r\n);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'definitions/polyfills';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from 'components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/dummy_poster.f51c6af6.jpg\";"],"sourceRoot":""}