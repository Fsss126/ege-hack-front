{"version":3,"sources":["img/logo.svg","img/dummy-pic.jpg","definitions/polyfills.js","definitions/constants.js","definitions/helpers.js","api/index.js","definitions/auth.js","components/common/CoverImage.jsx","components/Header.jsx","components/common/Contacts.jsx","components/SideBar.jsx","hooks/common.js","store/index.js","components/Page.jsx","components/pages/login/LoginPage.jsx","components/common/UserProfile.jsx","components/pages/account/AccountPage.jsx","data/test_data.js","components/common/ListItem.jsx","components/common/List.jsx","components/ui/ScrollBars.jsx","components/ui/Select.jsx","components/ui/Input.jsx","components/common/Catalog.jsx","components/common/Teacher.jsx","components/pages/teachers/catalog-page/TeachersCatalog.jsx","components/pages/teachers/catalog-page/TeachersCatalogPage.jsx","components/ui/Button.jsx","components/ErrorPage.jsx","components/common/CourseCatalog.jsx","components/common/Course.jsx","components/pages/teachers/teacher-page/TeacherPage.jsx","components/pages/teachers/index.jsx","components/pages/shop/catalog-page/SelectedCoursesTab.jsx","components/pages/shop/catalog-page/ShopCatalogPage.jsx","components/common/CourseOverview.jsx","components/pages/shop/course-page/CoursePriceTab.jsx","components/common/VideoCover.jsx","components/common/Lesson.jsx","components/pages/shop/course-page/CoursePage.jsx","components/pages/shop/index.jsx","components/common/WebinarSchedule.jsx","components/pages/courses/catalog-page/CatalogPage.jsx","components/pages/courses/course-page/CoursePage.jsx","components/ui/Tooltip.jsx","components/ui/LoadingIndicator.jsx","components/ui/File.jsx","components/common/VideoPlayer.jsx","components/common/StableCSSTransition.jsx","components/ui/FileInput.jsx","components/common/NavigationBlocker.jsx","components/pages/courses/lesson-page/HomeworkLoader.jsx","components/pages/courses/lesson-page/LessonView.jsx","components/pages/courses/lesson-page/LessonPage.jsx","components/pages/courses/index.jsx","components/App.jsx","serviceWorker.js","index.js","img/dummy_poster.jpg"],"names":["module","exports","__webpack_require__","p","elementClosest","window","CustomEvent","event","params","bubbles","cancelable","detail","undefined","evt","document","createEvent","initCustomEvent","prototype","Event","ACCOUNT_ROLES","LEARNING_STATUS","learning","finished","daysBetween","date1","date2","date1_ms","Date","getYear","getMonth","getDate","getTime","difference_ms","Math","floor","renderDate","date","options","locale","arguments","length","toLocaleString","Object","assign","day","month","shortDate","hour","minute","downloadFile","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","url","name","blob","link","wrap","_context","prev","next","console","log","navigator","msSaveBlob","fetch","then","r","sent","abrupt","createElement","download","href","MouseEvent","dispatchEvent","stop","_x","_x2","apply","this","API_ROOT","process","CancelToken","axios","getCancelToken","source","token","cancel","APIRequest","create","baseURL","paramsSerializer","searchParams","URLSearchParams","_","forEach","value","key","Array","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","element","append","err","return","toString","interceptors","request","use","config","Auth","user","_objectSpread","auth","username","uid","password","hash","Cancel","response","data","method","URL","pathname","map","id","account_id","objectWithoutProperties","_ref2","date_start","date_end","image_link","teacher_id","rest","concat","teacher_ids","status","group","sortBy","_ref3","hometask","locked","is_locked","lesson","assignment","deadline","description","files","file_info","file_name","file_link","test","_response$data","_response$data$file_i","file_id","_ref4","_ref4$webinar","webinar","duration","error","toJSON","LOCAL_STORAGE_KEY","AuthEventTypes","login","logout","initVK","VK","init","apiId","_this","classCallCheck","eventHandlers","info","localStorage","setItem","JSON","stringify","handler","t0","finish","removeItem","userInfo","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","storedString","getItem","storedData","parse","first_name","last_name","photo","photo_rec","Error","e","eventType","push","filter","func","get","_context2","elementId","Widgets","onAuth","CoverImage","src","className","children","_ref$square","square","_ref$round","round","react_default","style","backgroundImage","Header","props","onMenuButtonClick","sidebar","onClick","logo","alt","Fragment","common_CoverImage","react_router_dom","to","tabIndex","Contacts","_ref$contacts","contacts","vk","fb","ok","ig","Link","activeClassName","SideBar","target","currentTarget","classList","contains","onMenuClose","isAdmin","isModerator","isPupil","accountRoles","includes","React","Component","useTruncate","text","descriptionRef","useRef","_React$useState","useState","readyState","_React$useState2","slicedToArray","isFontLoaded","setFontLoaded","useEffect","addEventListener","handleResize","removeEventListener","handleLoading","current","onResize","useRefValue","initialValue","ref","useCallback","useUpdateEffect","effect","dependencies","isInitialMount","StoreContext","createContext","useShopCatalogStore","useUserCoursesStore","useSubjectsStore","useTeachersStore","useLessonsStore","useWebinarsStore","requests","useSubjects","_React$useContext","useContext","subjects","setSubjects","setters","_React$useState5","_React$useState6","setError","fetchSubjects","_callee2","_subjects","retry","useDiscount","selectedCourses","_React$useState7","_React$useState8","discount","setDiscount","_React$useState9","_React$useState10","_useRefValue","_useRefValue2","getCancel","setCancel","fetchDiscount","_callee3","courses","cancelPrev","_getCancelToken","cancelToken","_discount","_context3","Set","toConsumableArray","coursesIds","useTeachers","_useSubjects","errorLoadingSubjects","reloadSubjects","_React$useContext2","teachers","setTeachers","_React$useState11","_React$useState12","fetchTeachers","_callee4","_teachers","_context4","useShopCatalog","_useSubjects2","_React$useContext3","catalog","setCatalog","_React$useState13","_React$useState14","fetchCatalog","_callee5","_catalog","_context5","shopCatalog","useUserCourses","_useSubjects3","_React$useContext4","userCourses","setUserCourses","_React$useState15","_React$useState16","fetchUserCourses","_callee6","_context6","useLessons","courseId","_React$useContext5","lessons","setLessons","_React$useState17","_React$useState18","fetchLessons","_ref8","_callee7","_lessons","_context7","loadedLessons","store_objectSpread","defineProperty","GlobalStore","_ref12","_useUserAuth","getUser","setUser","_React$useState3","_React$useState4","setUserInfo","getUserInfo","fetchUserInfo","loginCallback","logoutCallback","useLayoutEffect","subscribe","unsubscribe","useUserAuth","_useUserAuth2","_useShopCatalogStore","_useShopCatalogStore2","_useUserCoursesStore","_useUserCoursesStore2","_useSubjectsStore","_useSubjectsStore2","_useTeachersStore","_useTeachersStore2","_useLessonsStore","_useLessonsStore2","_useWebinarsStore","_useWebinarsStore2","webinars","setWebinars","useStoreData","Provider","useUser","_React$useContext8","PageLoadingPlaceholder","PageLink","_ref$arrow","arrow","_ref$forward","forward","PageContent","parentSection","Page_PageLink","BottomTab","stickyProps","lib_default","mode","Page","title","_ref4$checkLogin","checkLogin","location","_useUser","react_router","state","referrer","Helmet","LoginPage","loginWidget","components_Page","UserProfile","about","role","fullName","AccountPage","Page_PageContent","common_UserProfile","lorem","LoremIpsum","daysForward","setDate","poster","SUBJECTS","TEACHERS","vk_info","photo_max_orig","slice","bio","generateSentences","COURSES","subject","i","subject_id","online","generateParagraphs","SHOP_CATALOG","times","j","num","video_link","watchProgress","course","test_data_objectSpread","price","MY_COURSES","subject_name","course_id","course_name","pic","ListItem","preview","subtitle","item","selectable","action","clickCallback","actionCallback","onActionClick","callbackProps","_useTruncate","_useTruncate2","clicked","closest","preventDefault","content","Truncate","lines","List","renderItem","renderProps","flex","index","defaultProps","renderEmpty","renderTrackVertical","renderThumbVertical","renderTrackHorizontal","renderThumbHorizontal","ScrollBars","forwardRef","_ref$hideVerticalScro","hideVerticalScrollbar","_ref$hideHorizontalSc","hideHorizontalScrollbar","react_custom_scrollbars_lib","DropdownIndicator","react_select_esm","SelectContainer","selectProps","hasValue","setValue","Select_objectSpread","isClearable","Option","label","MenuList","innerRef","scrollBar","view","ui_ScrollBars","autoHeight","hideTracksWhenNotNeeded","autoHeightMax","maxHeight","Select","onChange","option","_this2","callback","_this$props","components","_this$props$isClearab","_this$props$isSearcha","isSearchable","placeholder","maxMenuHeight","find","classNamePrefix","menuPlacement","noOptionsMessage","styles","PureComponent","useChangeHandler","inputProp","Input","CheckBox","type","checked","CatalogContext","common_Catalog","Filter","_ref$filterBy","filterBy","_ref$filterBy$subject","filterBySubject","_ref$filterBy$online","filterByOnline","ui_Input","Catalog","renderFunc","listProps","baseUrl","items","Catalog_objectSpread","Body","filterItems","_props$renderProps","history","useHistory","useLocation","search","parseInt","onFilterChange","set","delete","matchingItems","Teacher","_props$teacher","teacher","_props$teacher$vk_inf","teacherSubjects","_props$bio","toLowerCase","join","catalog_page_TeachersCatalog","renderTeacher","otherProps","useMemo","zipObject","subjectsTeachers","reduce","result","values","getMatchingCourses","some","TeachersCatalogPage","_useTeachers","Page_PageLoadingPlaceholder","Button","_ref$active","active","_ref$neutral","neutral","icon","iconAction","_ref$tag","tag","Tag","ErrorPage","_ref$errorCode","errorCode","message","_ref$link","code","split","number","ui_Button","replace","common_CourseCatalog","renderCourse","Course","_ref$online","_ref$isSelected","isSelected","startsIn","TeacherPage","param_id","match","root","path","_useShopCatalog","minWidth","_teacher$vk_info","teachersCourses","indexOf","profile","components_ErrorPage","Teachers","render","teacher_page_TeacherPage","exact","catalog_page_TeachersCatalogPage","SelectedCourse","onCourseDeselect","onTruncate","onDeselectClick","renderView","SelectedCoursesTab_objectSpread","height","minHeight","SelectedCoursesTab","discountInfo","fullPrice","sumBy","discounted_price","Page_BottomTab","TransitionGroup","CSSTransition","classNames","timeout","SelectedCoursesTab_SelectedCourse","ShopCatalogPage","onCourseSelect","onCourseClick","_useDiscount","has","purchased","catalog_page_SelectedCoursesTab","CourseOverviewContext","common_CourseOverview","total_hours","renderLesson","CoursePriceTab","_React$useContext$cou","VideoCover","cover","_ref$locked","width","Lesson","common_VideoCover","CoursePage","_useLessons","reloadDiscount","course_page_CoursePriceTab","Shop","setSelectedCourses","add","course_page_CoursePage","catalog_page_ShopCatalogPage","WEBINAR_STATE","Webinar","now","getWebinarState","setState","onWebinarStart","timeTillEnd","setTimeout","clearTimeout","newWindow","open","isAiring","index_es","renderer","remainingTime","_remainingTime$format","formatted","days","hours","minutes","seconds","completed","onComplete","WebinarSchedule","schedule","WebinarSchedule_Webinar","CatalogPage","_useUserCourses","_useUpcomingWebinars","_React$useContext6","_React$useState23","_React$useState24","fetchWebinars","_callee9","_webinars","_context9","upcoming","loadedWebinars","useUpcomingWebinars","common_WebinarSchedule","_useCourseWebinars","_React$useContext7","_React$useState25","_React$useState26","_ref11","_callee10","_webinars2","_context10","_x3","useCourseWebinars","Tooltip","child","Children","only","position","cloneElement","react","LOADING_STATE","PENDING","LOADING","LOADED","SUCCESS","DONE","REJECTED","ERROR","useLoadingState","loading","rejected","LoadingIndicator","errorMessage","SwitchTransition","appear","ui_Tooltip","File","_ref$file","file","downloadName","_ref$error","_ref$rejected","_ref$loading","_ref$done","_ref$deletable","deletable","onDelete","onIndicatorClick","downloadCallback","isUpload","LoadingIndicator_LoadingIndicator","VideoPlayer","frameBorder","allow","allowFullScreen","StableCSSTransition","phase","node","getPrototypeOf","call","appliedClasses","ReactDOM","findDOMNode","FILE_STATUS","FileInputContext","allFilesReady","every","f","meta","isFileReady","getUploadParams","headers","Authorization","btoa","getFileProp","getFilesFromEvent","accept","multiple","disabled","onFiles","maxFiles","extra","chosenFiles","isActive","Preview","_props$fileWithMeta","fileWithMeta","remove","restart","xhr","_props$meta","_props$meta$name","_props$meta$percent","percent","canRemove","getResponse","setResponse","responseText","_JSON$parse","deleteCallback","hasError","startsWith","isRejected","isDone","ui_File","SubmitButton","submitting","hasChanged","onSubmit","isDisabled","submitCallback","common_StableCSSTransition","in","mountOnEnter","unmountOnExit","Layout","input","_ref4$previews","previews","submitButton","dropzoneProps","_ref5","_ref5$preloadedFiles","preloadedFiles","deletePreloadedFile","getCallbackFiles","_ref6","FileInput","_props$initialFiles","initialFiles","_props$inputContent","inputContent","_props$maxFiles","_props$maxSizeBytes","maxSizeBytes","_props$isDisabled","setPreloadedFiles","setChanged","setSubmitting","_useRefValue3","_useRefValue4","getInputFiles","setInputFiles","newPreloadedFiles","handleChangeStatus","_ref7","cloneDeep","handleSubmit","filesToSubmit","returnValue","Promise","react_dropzone_uploader_default","submitButtonContent","onChangeStatus","canCancel","SubmitButtonComponent","LayoutComponent","InputComponent","PreviewComponent","NavigationBlocker","unloadCallback","HomeworkLoader","homework","lessonId","isHomeworkSubmissionClosed","hasChanges","setChanges","changed","common_NavigationBlocker","ui_FileInput","LessonView","_ref$lesson","video","common_VideoPlayer","lesson_page_HomeworkLoader","LessonPage","_props$match$params","param_course","param_lesson","_useHomework","_React$useState19","_React$useState20","setHomework","_React$useState21","_React$useState22","fetchHomework","_ref9","_callee8","_homework","_context8","useHomework","selectedLesson","nextVideo","otherLessons","lesson_page_LessonView","MyCourses","lesson_page_LessonPage","courses_course_page_CoursePage","catalog_page_CatalogPage","useLocationChangeEffect","listen","onLocationChange","args","DefaultRedirect","App","useForceTrailingSlash","getPrevPath","setPrevPath","scrollTo","useScrollToTop","_useSideBarState","isSideBarOpened","setSideBar","opened","useSideBarState","_useSideBarState2","toggleSideBar","showSidebar","components_Header","layoutAnimationClassNames","SideBar_SideBar","roles","component","Login","Account","enter","enterActive","enterDone","exit","exitActive","Boolean","hostname","basename","store","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3ea97070.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.9d4c48e7.svg\";","module.exports = __webpack_public_path__ + \"static/media/dummy-pic.c0547b67.jpg\";","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport elementClosest  from 'element-closest';\n\nelementClosest(window);\n\n//IE doesn't support event constructor\n(function () {\n    if ( typeof window.CustomEvent === \"function\" ) return false; //If not IE\n\n    function CustomEvent ( event, params ) {\n        params = params || { bubbles: false, cancelable: false, detail: undefined };\n        var evt = document.createEvent( 'CustomEvent' );\n        evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n        return evt;\n    }\n\n    CustomEvent.prototype = window.Event.prototype;\n\n    window.CustomEvent = CustomEvent;\n})();\n","export const ACCOUNT_ROLES = {\n  ADMIN: 'ADMIN',\n  MODERATOR: 'MODERATOR',\n  TEACHER: 'TEACHER',\n  HELPER: 'HELPER',\n  PUPIL: 'PUPIL'\n};\n\nexport const LEARNING_STATUS = {\n  learning: 'learning',\n  finished: 'finished'\n};\n\nexport const DEFAULT_LOGIN_REDIRECT = '/shop/';\n","export const daysBetween = (date1, date2) => {\n    const one_day = 1000 * 60 * 60 * 24;\n    const date1_ms = new Date(date1.getYear(), date1.getMonth(), date1.getDate()).getTime();\n    const date2_ms = new Date(date2.getYear(), date2.getMonth(), date2.getDate()).getTime();\n    const difference_ms = date2_ms - date1_ms;\n    return Math.floor(difference_ms / one_day);\n};\n\nexport const renderDate = (date, options, locale='ru') => date.toLocaleString(locale, options);\nObject.assign(renderDate, {\n    date: {\n        day: 'numeric',\n        month: 'long'\n    },\n    shortDate: {\n        day: 'numeric',\n        month: 'numeric'\n    },\n    hour: {\n        hour: 'numeric',\n        minute: 'numeric'\n    }\n});\n\nexport const getAuthHeader = (username, password) => ({'Authorization': `Basic ${btoa(username + \":\" + password)}`});\n\nexport const trimFileExtension = (filename) => filename.replace(/\\.[^/.]+$/, \"\");\n\nexport const getFileExtension = (filename) => {\n    const filenameParts = filename.split('.');\n    if (filenameParts.length < 2)\n        return '';\n    return `.${filenameParts.pop()}`;\n};\n\nexport const downloadFile = async (url, name) => {\n    console.log(url, name);\n    // IE10+ : (has Blob, but not a[download] or URL)\n    if (navigator.msSaveBlob) {\n        let blob = await fetch(url).then(r => r.blob());\n        return navigator.msSaveBlob(blob, name);\n    }\n    else {\n        let link = document.createElement('a');\n        link.download = name;\n        link.href = url;\n        // link.target = '_blank';\n        let event = new MouseEvent('click');\n        link.dispatchEvent(event);\n    }\n};\n","import Auth from 'definitions/auth';\nimport _ from 'lodash';\nimport axios from 'axios';\n// import {handleRequstsWithTestData} from \"./test\";\nimport {LEARNING_STATUS} from \"definitions/constants\";\nimport {getFileExtension} from \"definitions/helpers\";\n\nexport const API_ROOT = process.env.REACT_APP_API_ROOT;\n\nconst CancelToken = axios.CancelToken;\n\nexport const getCancelToken = () => {\n    const source = CancelToken.source();\n    return {\n        token: source.token,\n        cancel: source.cancel\n    }\n};\n\nconst APIRequest = axios.create({\n    baseURL: API_ROOT,\n    paramsSerializer: (params) => {\n        const searchParams = new URLSearchParams();\n        _.forEach(params, (value, key) => {\n            if (value instanceof Array) {\n                for(let element of value)\n                    searchParams.append(key, element);\n            } else {\n                searchParams.append(key, value);\n            }\n        });\n        return searchParams.toString();\n    }\n});\n\nAPIRequest.interceptors.request.use(function (config) {\n    if (Auth.user) {\n        return {\n            auth: {\n                username: Auth.user.uid,\n                password: Auth.user.hash\n            },\n            ...config\n        }\n    }\n    else\n        throw new axios.Cancel('User not logged in.');\n});\n\n//Interceptors\nconst transformData = (response) => {\n    const {config, data} = response;\n    if (config.method !== 'get')\n        return response.data;\n    const url = new URL(config.url);\n    switch (true) {\n        case url.pathname === '/accounts/teachers':\n            return data.map(({account_id: id, ...teacher}) => ({id, ...teacher}));\n        case url.pathname === '/courses':\n            return data.map(({date_start, date_end, image_link, teacher_id, ...rest}) => ({\n                date_start: new Date(date_start),\n                date_end: new Date(date_end),\n                image_link: `${API_ROOT}${image_link}`,\n                teacher_ids: [teacher_id],\n                status: config.params.group === 'PERSON' ? LEARNING_STATUS.learning : undefined,\n                ...rest\n            }));\n        case url.pathname === '/lessons':\n            return _.sortBy(data, 'num').map(({hometask, is_locked: locked, ...lesson}) => ({\n                ...lesson,\n                locked,\n                image_link: `${API_ROOT}${lesson.image_link}`,\n                assignment: hometask ? ({\n                    deadline: hometask.deadline ? new Date(hometask.deadline) : hometask.deadline,\n                    description: hometask.description,\n                    files: hometask.file_info ? [\n                        {\n                            name: hometask.file_info.file_name,\n                            // downloadName: hometask.file_info.file_name,\n                            url: `${API_ROOT}${hometask.file_info.file_link}?disp=attachment`},\n                    ] : hometask.file_link,\n                }) : hometask\n            }));\n        case /\\/lessons\\/(.*)\\/homeworks\\/pupil$/.test(url.pathname):\n            const {file_info: {file_id, file_name, file_link}, date:dateTime, ...rest} = response.data;\n            const date = new Date();\n            return {\n                ...rest,\n                date,\n                files: [\n                    {\n                        file_name,\n                        file_id,\n                        file_link: `${API_ROOT}${file_link}?disp=attachment`\n                    }\n                ]\n            };\n        case url.pathname === '/courses/schedule/person':\n        case /\\/courses\\/(.*)\\/schedule\\/person$/.test(url.pathname):\n            return _.sortBy(data.map(({webinar: {date_start, duration, ...webinar}, image_link, ...rest}) => ({\n                date_start: new Date(date_start),\n                date_end: new Date(date_start + duration * 1000 * 60),\n                duration,\n                image_link: `${API_ROOT}${image_link}`,\n                ...webinar,\n                ...rest\n            })), 'date_start');\n        default:\n            return response.data;\n    }\n};\nconst transformError = (error) => {\n    if (!error.toJSON)\n        throw error;\n    const {config} = error.toJSON();\n    const url = new URL(config.url);\n    if (error.response && error.response.status === 404) {\n        switch (true) {\n            case /\\/lessons\\/(.*)\\/homeworks\\/pupil$/.test(url.pathname):\n                return ({data: {}});\n            default:\n                throw error;\n        }\n    }\n    else\n        throw error;\n};\nAPIRequest.interceptors.response.use(transformData, transformError);\n\n//returns test data for all failed requests\n// handleRequstsWithTestData(APIRequest);\n\nwindow.APIRequest = APIRequest;\n\nexport default APIRequest;\n","/*global VK*/\nimport APIRequest from \"api\";\n\nconst LOCAL_STORAGE_KEY = 'ege-hack-user-data';\n\nexport const AuthEventTypes = {\n    login: 'auth.login',\n    logout: 'auth.logout'\n};\n\nconst initVK = true;\n\nVK.init({apiId: process.env.REACT_APP_VK_APP_ID}, true);\n\nclass Auth {\n    user = null;\n\n    constructor() {\n        try {\n            const storedString = localStorage.getItem(LOCAL_STORAGE_KEY);\n            if (!storedString) {\n                this.user = null;\n                return;\n            }\n            const storedData = JSON.parse(storedString);\n            const {uid, first_name, last_name, photo, photo_rec, hash} = storedData;\n            if (!(uid && hash))\n                throw new Error(`Incomplete data parsed from local storage: ${storedString}`);\n            this.user = {uid, first_name, last_name, photo, photo_rec, hash};\n        }\n        catch (e) {\n            console.error('User data can not be recovered', e);\n            localStorage.removeItem(LOCAL_STORAGE_KEY);\n            this.user = null;\n        }\n    }\n\n    eventHandlers = {};\n\n    login = async (user) => {\n        if (!VK)\n            return;\n        if (!initVK)\n            VK.init({apiId: process.env.REACT_APP_VK_APP_ID}, true);\n        // user = {\n        //     ...user,\n        //     uid: 1,\n        //     hash: '68ab57e7e70fae3f8f96afc0d85465a9'\n        // };\n        console.info('Login', user);\n        localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(user));\n        this.user = user;\n        // await this.getUserInfo();\n        // if (!this.userInfo)\n        //     return;\n        for(let handler of (this.eventHandlers[AuthEventTypes.login] || []))\n            handler(this.user);\n    };\n\n    logout = () => {\n        // VK.Auth.logout((data) => {\n            console.info('Logout');\n            localStorage.removeItem(LOCAL_STORAGE_KEY);\n            this.user = null;\n            this.userInfo = null;\n            for(let handler of (this.eventHandlers[AuthEventTypes.logout] || []))\n                handler();\n        // });\n    };\n\n    subscribe(eventType, handler) {\n        (this.eventHandlers[eventType] || (this.eventHandlers[eventType] = [])).push(handler);\n    }\n\n    unsubscribe(eventType, handler) {\n        this.eventHandlers[eventType] = this.eventHandlers[eventType].filter(func => func !== handler);\n    }\n\n    // subscribe(eventType, handler) {\n    //     VK.Observer.subscribe(eventType, handler);\n    // }\n    //\n    // unsubscribe(eventType, handler) {\n    //     VK.Observer.unsubscribe(eventType, handler);\n    // }\n\n    getUser() {\n        return this.user;\n    }\n\n    async getUserInfo() {\n        if (this.userInfo)\n            return this.userInfo;\n        try {\n            this.userInfo = await APIRequest.get('/accounts/info');\n        }\n        catch (e) {\n            console.error(e);\n            this.userInfo = null;\n        }\n        return this.userInfo;\n    }\n\n    loginWidget(elementId) {\n        if (!VK)\n            return;\n        if (!initVK)\n            VK.init({apiId: process.env.REACT_APP_VK_APP_ID});\n        VK.Widgets.Auth(elementId, {onAuth: this.login});\n    }\n}\n\nexport default new Auth();\n","import React from 'react';\n\nconst CoverImage = ({src, className, children, square=false, round=false}) => {\n    return (\n        <div className={`${className || ''} cover ${square ? 'square-cover' : ''} ${round ? 'round-cover' : ''}`}>\n            <div className=\"cover-img\" style={{backgroundImage: `url(${src})`}}/>\n            {children}\n        </div>\n    );\n};\n\nexport default CoverImage;\n","import React from 'react';\nimport logo from 'img/logo.svg';\nimport Auth from 'definitions/auth';\nimport {Link} from 'react-router-dom';\nimport CoverImage from \"./common/CoverImage\";\n\nconst Header = (props) => {\n    const {onMenuButtonClick, user, sidebar} = props;\n    return (\n        <header>\n            <div className=\"container-fluid header__container\">\n                <div className=\"row\">\n                    {sidebar && (\n                        <div className=\"col-auto d-lg-none\">\n                            <div className=\"nav-btn\" onClick={onMenuButtonClick}>\n                                <i className=\"icon-bars\"/>\n                            </div>\n                        </div>\n                    )}\n                    <div className=\"col d-flex justify-content-center justify-content-lg-start p-0\">\n                        <div className=\"logo-container container d-flex align-items-center justify-content-center m-0\">\n                            <img src={logo} className=\"logo\" alt=\"Logo\"/>\n                        </div>\n                    </div>\n                    <div className=\"col-auto d-flex\">\n                        <div className=\"user-nav\">\n                            {user ? (\n                                <React.Fragment>\n                                    <div className=\"user-nav__user-name\">{user.first_name} {user.last_name}</div>\n                                    {user.photo_rec ? (\n                                        <div className=\"nav-btn\">\n                                            <CoverImage src={user.photo_rec} round square/>\n                                        </div>\n                                    ) : (\n                                        <div className=\"nav-btn\">\n                                            <i className=\"icon-profile\"/>\n                                        </div>\n                                    )}\n                                    <div className=\"user-nav__menu-container\">\n                                        <div className=\"user-nav__menu\">\n                                            <div className=\"user-nav__menu-options\">\n                                                <Link to=\"/account/\" className=\"menu-option\">\n                                                    <i className=\"icon-profile\"/>Аккаунт\n                                                </Link>\n                                                <Link to=\"/account/settings/\" className=\"menu-option\">\n                                                    <i className=\"icon-settings\"/>Настройки\n                                                </Link>\n                                                <div\n                                                    className=\"menu-option\"\n                                                    tabIndex={2}\n                                                    onClick={Auth.logout}>\n                                                    <i className=\"icon-logout\"/>Выход\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </React.Fragment>\n                            ) : (\n                                <React.Fragment>\n                                    <div className=\"nav-btn\">\n                                        <i className=\"icon-profile\"/>\n                                    </div>\n                                    <div className=\"user-nav__menu-container\">\n                                        <div className=\"user-nav__menu\">\n                                            <div className=\"user-nav__menu-options\">\n                                                <Link to=\"/login/\" className=\"menu-option\">\n                                                    <i className=\"icon-login\"/>Войти\n                                                </Link>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </React.Fragment>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </header>\n    );\n};\n\nexport default Header;\n","import React from 'react';\n\nexport default function Contacts({contacts: {vk, fb, ok, ig}}) {\n    return (\n        <div className=\"social-media font-light-grey\">\n            {vk && <a href={vk} className=\"social-media__link\"><i className=\"fab fa-vk vk\"/></a>}\n            {fb && <a href={fb} className=\"social-media__link\"><i className=\"fab fa-facebook-f fb\"/></a>}\n            {ok && <a href={ok} className=\"social-media__link\"><i className=\"fab fa-odnoklassniki ok\"/></a>}\n            {ig && <a href={ig} className=\"social-media__link\"><i className=\"fab fa-instagram ig\"/></a>}\n        </div>\n    );\n}\n","import React from 'react';\nimport _ from 'lodash';\nimport { NavLink } from \"react-router-dom\";\nimport Contacts from \"./common/Contacts\";\nimport {ACCOUNT_ROLES} from \"definitions/constants\";\n\nfunction Link(props) {\n    return <NavLink className=\"layout__sidebar-menu-link\" activeClassName=\"active\" {...props}/>;\n}\n\nexport default class SideBar extends React.Component{\n    onClick = (event) => {\n        if (event.target === event.currentTarget || event.target.classList.contains('layout__sidebar-menu-link'))\n            this.props.onMenuClose();\n    };\n\n    render() {\n        const {accountRoles} = this.props;\n        let isAdmin, isModerator, isTeacher, isPupil;\n        if (accountRoles === undefined) {\n            isAdmin = undefined; isModerator = undefined; isTeacher = undefined; isPupil = undefined;\n        }\n        else if (accountRoles === null) {\n            isAdmin = null; isModerator = null; isTeacher = null; isPupil = null;\n        }\n        if (accountRoles) {\n            isAdmin = _.includes(accountRoles, ACCOUNT_ROLES.ADMIN);\n            isModerator = _.includes(accountRoles, ACCOUNT_ROLES.MODERATOR);\n            isTeacher = _.includes(accountRoles, ACCOUNT_ROLES.TEACHER);\n            isPupil = _.includes(accountRoles, ACCOUNT_ROLES.PUPIL);\n        }\n        if (accountRoles === null)\n            return null;\n        return (\n            <div className=\"layout__sidebar\" onClick={this.onClick}>\n                <div className=\"layout__sidebar-bar\">\n                    {accountRoles === undefined ? (\n                        <div className=\"layout__sidebar-content\">\n                            <div className=\"layout__sidebar-menu ph-item\">\n                                <div className=\"layout__sidebar-menu-section\">\n                                    <div className=\"layout__sidebar-menu-link\"><div className=\"ph-text\"/></div>\n                                    <div className=\"layout__sidebar-menu-link\"><div className=\"ph-text\"/></div>\n                                    <div className=\"layout__sidebar-menu-link\"><div className=\"ph-text\"/></div>\n                                    <div className=\"layout__sidebar-menu-link\"><div className=\"ph-text\"/></div>\n                                    <div className=\"layout__sidebar-menu-link\"><div className=\"ph-text\"/></div>\n                                </div>\n                            </div>\n                        </div>\n                    ) : (\n                        <div className=\"layout__sidebar-content\">\n                            <div className=\"layout__sidebar-menu\">\n                                {isPupil && (\n                                    <div className=\"layout__sidebar-menu-section\">\n                                        <Link to=\"/courses/\">Мои курсы</Link>\n                                        {/*<Link to=\"/homework/\">Домашняя работа</Link>*/}\n                                    </div>\n                                )}\n                                <div className=\"layout__sidebar-menu-section\">\n                                    <Link to=\"/shop/\">Магазин курсов</Link>\n                                    <Link to=\"/teachers/\">Преподаватели</Link>\n                                    <Link to=\"/about/\">О нас</Link>\n                                </div>\n                                {(isAdmin || isModerator) && (\n                                    <React.Fragment>\n                                        <div className=\"layout__sidebar-menu-section\">\n                                            <Link to=\"/courses/\">Мои курсы</Link>\n                                            <Link to=\"/homework/\">Домашняя работа</Link>\n                                        </div>\n                                        <div className=\"layout__sidebar-menu-section\">\n                                            <Link to=\"/shop/\">Магазин курсов</Link>\n                                            <Link to=\"/teachers/\">Преподаватели</Link>\n                                            {/*<Link to=\"/about/\">О нас</Link>*/}\n                                        </div>\n                                    </React.Fragment>\n                                )}\n                            </div>\n                            <Contacts contacts={{vk: '/', fb: '/', ig: '/'}}/>\n                            <div className=\"layout__sidebar-copyright font-size-sm font-light-grey\">\n                                Все права защищены<br/>\n                                \"ЕГЭHACK\"\n                            </div>\n                        </div>\n                    )}\n                </div>\n            </div>\n        );\n    }\n}\n","import React from 'react';\n\nexport function useTruncate(text) {\n    const descriptionRef = React.useRef(null);\n    const [isFontLoaded, setFontLoaded] = React.useState(document.readyState === \"complete\");\n    React.useEffect(() => {\n        if (!text)\n            return;\n        function handleResize() {\n            if (descriptionRef.current) {\n                descriptionRef.current.onResize();\n            }\n        }\n        window.addEventListener('resize', handleResize);\n        if (isFontLoaded)\n            return () => {\n                window.removeEventListener('resize', handleResize);\n            };\n        if (document.readyState === \"complete\") {\n            setFontLoaded(true);\n            return () => {\n                window.removeEventListener('resize', handleResize);\n            };\n        }\n        else {\n            function handleLoading() {\n                setFontLoaded(true);\n            }\n            window.addEventListener('load', handleLoading);\n            return () => {\n                window.removeEventListener('load', handleLoading);\n            };\n        }\n    }, [isFontLoaded, text]);\n    return [descriptionRef, isFontLoaded];\n}\n\nexport function useRefValue(initialValue) {\n    const ref = React.useRef(initialValue);\n    const getValue = React.useCallback(() => ref.current, []);\n    const setValue = React.useCallback((value) => {\n        ref.current = value;\n    }, []);\n    return [getValue, setValue];\n}\n\nexport function useIsMounted() {\n    const [getIsMounted, setIsMounted] = useRefValue(false);\n\n    React.useLayoutEffect(() => {\n        console.log('mounting');\n        setIsMounted(true);\n        return () => {\n            console.log('unmounting');\n            setIsMounted(false);\n        };\n    }, []);\n\n    return getIsMounted;\n}\n\nexport function useUpdateEffect(effect, dependencies = []) {\n    const isInitialMount = React.useRef(true);\n\n    React.useEffect(() => {\n        if (!isInitialMount.current) {\n            effect();\n        }\n    }, dependencies); // eslint-disable-line react-hooks/exhaustive-deps\n\n    React.useEffect(() => {\n        isInitialMount.current = false;\n    }, []);\n}\n\nexport function useForceUpdate() {\n    const [, update] = React.useReducer(state => !state, true);\n    return update;\n}\n","import React from \"react\";\nimport Auth, {AuthEventTypes} from \"definitions/auth\";\nimport APIRequest, {getCancelToken} from \"api\";\nimport {useRefValue} from \"hooks/common\";\n\nconst StoreContext = React.createContext(null);\n\nfunction useUserAuth() {\n    const [user, setUser] = React.useState(Auth.getUser());\n    const [userInfo, setUserInfo] = React.useState(null);\n\n    React.useEffect(() => {\n        const fetchUserInfo = async () => {\n            const userInfo = await Auth.getUserInfo();\n            setUserInfo(userInfo);\n        };\n        if (user)\n            fetchUserInfo();\n    }, [user]);\n\n    const loginCallback = React.useCallback((user, userInfo) => {\n        setUser(user);\n    }, []);\n\n    const logoutCallback = React.useCallback(() => {\n        setUser(null);\n        setUserInfo(null);\n    }, []);\n\n    React.useLayoutEffect(() => {\n        Auth.subscribe(AuthEventTypes.login, loginCallback);\n        Auth.subscribe(AuthEventTypes.logout, logoutCallback);\n        return () => {\n            Auth.unsubscribe(AuthEventTypes.login, loginCallback);\n            Auth.unsubscribe(AuthEventTypes.logout, logoutCallback);\n        }\n    }, [loginCallback, logoutCallback]);\n    return [user, userInfo];\n}\n\nconst useShopCatalogStore = () => React.useState(null);\nconst useUserCoursesStore = () => React.useState(null);\nconst useSubjectsStore = () => React.useState(null);\nconst useTeachersStore = () => React.useState(null);\nconst useLessonsStore = () => React.useState({});\nconst useWebinarsStore = () => React.useState({});\n\nfunction useStoreData() {\n    const [catalog, setCatalog] = useShopCatalogStore();\n    const [userCourses, setUserCourses] = useUserCoursesStore();\n    const [subjects, setSubjects] = useSubjectsStore();\n    const [teachers, setTeachers] = useTeachersStore();\n    const [lessons, setLessons] = useLessonsStore();\n    const [webinars, setWebinars] = useWebinarsStore();\n    return {\n        data: {\n            catalog,\n            subjects,\n            teachers,\n            lessons,\n            userCourses,\n            webinars\n        },\n        setters: {\n            setCatalog,\n            setSubjects,\n            setTeachers,\n            setLessons,\n            setUserCourses,\n            setWebinars\n        }\n    }\n}\n\nconst requests = {};\n\nexport function useSubjects() {\n    const {data: {subjects}, setters: {setSubjects}} = React.useContext(StoreContext);\n    const [error, setError] = React.useState(null);\n    const fetchSubjects = React.useCallback(async () => {\n        if (requests.subjects)\n            return requests.subjects;\n        const request = APIRequest.get('/subjects');\n        requests.subjects = request;\n        try {\n            if (error)\n                setError(null);\n            const subjects = await request;\n            setSubjects(subjects);\n        } catch (e) {\n            console.error(e);\n            setError(e);\n        }\n        finally {\n            delete requests.subjects;\n        }\n        return request;\n    }, [error]);\n\n    React.useEffect(() => {\n        if (!(subjects || requests.subjects || error)) {\n            fetchSubjects();\n        }\n    }, [subjects, error]);\n    if (error) {\n        return {subjects, error, retry: fetchSubjects};\n    }\n    else {\n        return {subjects};\n    }\n}\n\nexport function useDiscount(selectedCourses) {\n    const [discount, setDiscount] = React.useState(null);\n    const [error, setError] = React.useState(null);\n    const [getCancel, setCancel] = useRefValue(null);\n    const fetchDiscount = React.useCallback(async () => {\n        const courses = selectedCourses instanceof Set ? [...selectedCourses].map(({id}) => id) : [selectedCourses];\n        if (courses.length === 0)\n            return ;\n        const cancelPrev = getCancel();\n        if (cancelPrev)\n            cancelPrev();\n        const {token: cancelToken, cancel} = getCancelToken();\n        setCancel(cancel);\n        try {\n            if (error)\n                setError(null);\n            setDiscount(null);\n            const discount = await APIRequest.get('/payments/discounts', {\n                params: {\n                    coursesIds: courses\n                },\n                cancelToken\n            });\n            setDiscount(discount);\n        } catch (e) {\n            console.log('error loading discount', e);\n            setError(e);\n        }\n    }, [selectedCourses, error]);\n\n    React.useEffect(() => {\n        if (!(error))\n            fetchDiscount();\n    }, [selectedCourses, error]);\n    if (error) {\n        return {discount, error, retry: fetchDiscount};\n    }\n    else {\n        return {discount};\n    }\n}\n\nexport function useTeachers() {\n    const {subjects, errorLoadingSubjects, reloadSubjects} = useSubjects();\n    const {data: {teachers}, setters: {setTeachers}} = React.useContext(StoreContext);\n    const [error, setError] = React.useState(null);\n    const fetchTeachers = React.useCallback(async () => {\n        if (requests.teachers)\n            return requests.teachers;\n        const request = APIRequest.get('/accounts/teachers');\n        requests.teachers = request;\n        try {\n            if (error)\n                setError(null);\n            const teachers = await request;\n            console.log('set teachers', teachers);\n            setTeachers(teachers);\n        } catch (e) {\n            console.error(e);\n            setError(e);\n        }\n        finally {\n            delete requests.teachers;\n        }\n        return request;\n    }, [error]);\n\n    React.useEffect(() => {\n        if (!(teachers || requests.teachers || error)) {\n            fetchTeachers();\n        }\n    }, [teachers, error]);\n\n    if (error || errorLoadingSubjects) {\n        return {\n            teachers,\n            subjects,\n            error: error || errorLoadingSubjects ,\n            retry: () => {\n                if (error)\n                    fetchTeachers();\n                if (errorLoadingSubjects)\n                    reloadSubjects();\n            }\n        };\n    }\n    else {\n        return {teachers, subjects};\n    }\n}\n\nexport function useShopCatalog() {\n    const {subjects, errorLoadingSubjects, reloadSubjects} = useSubjects();\n    const {data: {catalog}, setters: {setCatalog}} = React.useContext(StoreContext);\n    const [error, setError] = React.useState(null);\n    const fetchCatalog = React.useCallback(async () => {\n        if (requests.shopCatalog)\n            return requests.shopCatalog;\n        const request = APIRequest.get('/courses', {\n            params: {\n                group: 'MARKET'\n            }\n        });\n        requests.shopCatalog = request;\n        try {\n            if (error)\n                setError(null);\n            const catalog = await request;\n            setCatalog(catalog);\n        } catch (e) {\n            console.error(e);\n            setError(e);\n        }\n        finally {\n            delete requests.shopCatalog;\n        }\n        return request;\n    }, [error]);\n\n    React.useEffect(() => {\n        if (!(catalog || requests.shopCatalog || error)) {\n            fetchCatalog();\n        }\n    }, [catalog, error]);\n\n    if (error || errorLoadingSubjects) {\n        return {\n            catalog,\n            subjects,\n            error: error || errorLoadingSubjects ,\n            retry: () => {\n                if (error)\n                    fetchCatalog();\n                if (errorLoadingSubjects)\n                    reloadSubjects();\n            }\n        };\n    }\n    else {\n        return {catalog, subjects};\n    }\n}\n\nexport function useUserCourses() {\n    const {subjects, errorLoadingSubjects, reloadSubjects} = useSubjects();\n    const {data: {userCourses}, setters: {setUserCourses}} = React.useContext(StoreContext);\n    const [error, setError] = React.useState(null);\n    const fetchUserCourses = React.useCallback(async () => {\n        if (requests.userCourses)\n            return requests.userCourses;\n        const request = APIRequest.get('/courses', {\n            params: {\n                group: 'PERSON'\n            }\n        });\n        requests.userCourses = request;\n        try {\n            if (error)\n                setError(null);\n            const courses = await request;\n            setUserCourses(courses);\n        } catch (e) {\n            console.error(e);\n            setError(e);\n        }\n        finally {\n            delete requests.userCourses;\n        }\n        return request;\n    }, [error]);\n\n    React.useEffect(() => {\n        if (!(userCourses || requests.userCourses || error)) {\n            fetchUserCourses();\n        }\n    }, [userCourses, error]);\n\n    if (error || errorLoadingSubjects) {\n        return {\n            courses: userCourses,\n            subjects,\n            error: error || errorLoadingSubjects ,\n            retry: () => {\n                if (error)\n                    fetchUserCourses();\n                if (errorLoadingSubjects)\n                    reloadSubjects();\n            }\n        };\n    }\n    else {\n        return {courses: userCourses, subjects};\n    }\n}\n\nexport function useLessons(courseId) {\n    const {data: {lessons}, setters: {setLessons}} = React.useContext(StoreContext);\n    const [error, setError] = React.useState(null);\n    const fetchLessons = React.useCallback(async (courseId) => {\n        if (requests.lessons && requests.lessons[courseId])\n            return requests.lessons[courseId];\n        const request = APIRequest.get('/lessons', {params: {\n                courseId\n            }});\n        (requests.lessons || (requests.lessons = {}))[courseId] = request;\n        try {\n            if (error)\n                setError(null);\n            const lessons = await request;\n            console.log('set lessons', lessons);\n            setLessons(loadedLessons => ({...loadedLessons, [courseId]: lessons}));\n        } catch (e) {\n            console.error(e);\n            setError(e);\n        }\n        finally {\n            delete requests.lessons[courseId];\n        }\n        return request;\n    }, [error]);\n\n    React.useEffect(() => {\n        if (!(lessons[courseId] || (requests.lessons && requests.lessons[courseId]) || error)) {\n            fetchLessons(courseId);\n        }\n    }, [lessons, courseId, error]);\n\n    if (error) {\n        return {\n            lessons: lessons[courseId],\n            error: error,\n            retry: () => {\n                if (error)\n                    fetchLessons(courseId);\n            }\n        };\n    }\n    else {\n        return {lessons: lessons[courseId]};\n    }\n}\n\nexport function useHomework(lessonId) {\n    const [homework, setHomework] = React.useState(null);\n    const [error, setError] = React.useState(null);\n    const fetchHomework = React.useCallback(async (lessonId) => {\n        if (requests.homework && requests.homework[lessonId])\n            return requests.homework[lessonId];\n        const request = APIRequest.get(`/lessons/${lessonId}/homeworks/pupil`);\n        (requests.homework || (requests.homework = {}))[lessonId] = request;\n        try {\n            if (error)\n                setError(null);\n            const homework = await request;\n            console.log('set homework', homework);\n            setHomework(homework);\n        } catch (e) {\n            console.error(e);\n            setError(e);\n        }\n        finally {\n            delete requests.homework[lessonId];\n        }\n        return request;\n    }, [error]);\n\n    React.useEffect(() => {\n        if (!(homework || (requests.homework && requests.homework[lessonId]) || error)) {\n            fetchHomework(lessonId);\n        }\n    }, [homework, lessonId, error]);\n\n    if (error) {\n        return {\n            homework,\n            error: error,\n            retry: () => {\n                if (error)\n                    fetchHomework(lessonId);\n            }\n        };\n    }\n    else {\n        return {homework};\n    }\n}\n\nexport function useUpcomingWebinars() {\n    const {data: {webinars}, setters: {setWebinars}} = React.useContext(StoreContext);\n    const [error, setError] = React.useState(null);\n    const fetchWebinars = React.useCallback(async () => {\n        if (requests.webinars && requests.webinars.upcoming)\n            return requests.webinars.upcoming;\n        const request = APIRequest.get('/courses/schedule/person');\n        (requests.webinars || (requests.webinars = {})).upcoming = request;\n        try {\n            if (error)\n                setError(null);\n            const webinars = await request;\n            console.log('set webinars', webinars);\n            setWebinars(loadedWebinars => ({...loadedWebinars, upcoming: webinars}));\n        } catch (e) {\n            console.error(e);\n            setError(e);\n        }\n        finally {\n            delete requests.webinars.upcoming;\n        }\n        return request;\n    }, [error]);\n\n    React.useEffect(() => {\n        if (!(webinars.upcoming || (requests.webinars && requests.webinars.upcoming) || error)) {\n            fetchWebinars();\n        }\n    }, [webinars, error]);\n\n    if (error) {\n        return {\n            webinars: webinars.upcoming,\n            error: error,\n            retry: () => {\n                if (error)\n                    fetchWebinars();\n            }\n        };\n    }\n    else {\n        return {webinars: webinars.upcoming};\n    }\n}\n\nexport function useCourseWebinars(courseId) {\n    const {data: {webinars}, setters: {setWebinars}} = React.useContext(StoreContext);\n    const [error, setError] = React.useState(null);\n    const fetchWebinars = React.useCallback(async (courseId) => {\n        if (requests.webinars && requests.webinars[courseId])\n            return requests.webinars.upcoming;\n        const request = APIRequest.get(`/courses/${courseId}/schedule/person`);\n        (requests.webinars || (requests.webinars = {}))[courseId] = request;\n        try {\n            if (error)\n                setError(null);\n            const webinars = await request;\n            console.log('set course webinars', webinars);\n            setWebinars(loadedWebinars => ({...loadedWebinars, [courseId]: webinars}));\n        } catch (e) {\n            console.error(e);\n            setError(e);\n        }\n        finally {\n            delete requests.webinars[courseId];\n        }\n        return request;\n    }, [error]);\n\n    React.useEffect(() => {\n        if (!(webinars[courseId] || (requests.webinars && requests.webinars[courseId]) || error)) {\n            fetchWebinars(courseId);\n        }\n    }, [webinars, courseId, error]);\n\n    if (error) {\n        return {\n            webinars: webinars[courseId],\n            error: error,\n            retry: () => {\n                if (error)\n                    fetchWebinars(courseId);\n            }\n        };\n    }\n    else {\n        return {webinars: webinars[courseId]};\n    }\n}\n\nconst GlobalStore = ({children}) => {\n    const [user, userInfo] = useUserAuth();\n    const data = useStoreData();\n    return (\n        <StoreContext.Provider value={{user, userInfo, ...data}}>\n            {children}\n        </StoreContext.Provider>\n    )\n};\n\nexport default GlobalStore;\n\nexport function useUser() {\n   const {user, userInfo} = React.useContext(StoreContext);\n   return {user, userInfo};\n}\n","import React from 'react';\nimport {Helmet} from \"react-helmet\";\nimport Sticky from 'react-sticky-el';\nimport {Link, Redirect} from \"react-router-dom\";\nimport {useUser} from \"../store\";\n\nexport const PageLoadingPlaceholder = () => (\n    <div className=\"layout__content\">\n        <div className=\"layout__loading-spinner\">\n            <i className=\"spinner-border\"/>\n        </div>\n    </div>\n);\n\nexport const PageLink = ({to, arrow=true, forward=true, className, children, ...props}) => (\n    <Link\n        className={`${arrow ? 'arrow-link' : ''} ${forward ? 'arrow-link-forward' : 'arrow-link-backward'} ${className || ''}`}\n        to={to}\n        {...props}>\n        {children}\n    </Link>\n);\n\nexport const PageContent = ({children, className, parentSection}) => (\n    <div className={`layout__content-container container ${className || ''}`}>\n        {parentSection && (\n            <PageLink\n                to={parentSection.url || '..'}\n                forward={false}\n                className=\"layout__content-parent-section-link\">\n                {parentSection.name}\n            </PageLink>\n        )}\n        {children}\n    </div>\n);\n\nexport const BottomTab = ({children, className, ...stickyProps}) => (\n    <Sticky mode=\"bottom\" {...stickyProps}>\n        <div className={`layout__bottom-tab ${className || ''}`}>\n            {children}\n        </div>\n    </Sticky>\n);\n\nclass PageErrorBoundary extends React.Component {\n    state = {\n        error: null\n    }\n}\n\nconst Page = ({title, className, children, checkLogin=true, location}) => {\n    //TODO: check permissions\n    const {user, userInfo} = useUser();\n    if (checkLogin) {\n        if (!user) {\n            return (\n                <Redirect to={{\n                    pathname: '/login/',\n                    state: location ? { referrer: location.pathname } : undefined\n                }}/>);\n        }\n    }\n    return (\n        <div className={`layout__content ${className || ''}`}>\n            {title && <Helmet><title>{title} – ЕГЭ HACK</title></Helmet>}\n            {children}\n        </div>\n    );\n};\n\nexport default Page;\n","import React from \"react\";\nimport Page from \"components/Page\";\nimport Auth from \"definitions/auth\";\nimport {useUser} from \"../../../store\";\nimport {Redirect, useLocation} from \"react-router-dom\";\nimport {DEFAULT_LOGIN_REDIRECT} from \"definitions/constants\";\n\nconst LoginPage = (props) => {\n    const {location} = props;\n    const {user, userInfo} = useUser();\n\n    React.useLayoutEffect(() => {\n        Auth.loginWidget('vk-auth');\n    }, []);\n\n    if (user) {\n        if (location.state && location.state.referrer)\n            return (<Redirect to={location.state.referrer}/>);\n        return (<Redirect to={DEFAULT_LOGIN_REDIRECT}/>);\n    }\n    return (\n        <Page\n            title=\"Вход\"\n            className=\"login-page align-items-center justify-content-center\"\n            checkLogin={false}\n            location={location}>\n            <div id=\"vk-auth\"/>\n        </Page>\n    );\n};\n\nexport default LoginPage;\n","import React from \"react\";\nimport CoverImage from \"./CoverImage\";\nimport Contacts from \"./Contacts\";\n\nconst UserProfile = ({first_name, last_name, photo, contacts, about, role}) => {\n    const fullName = `${first_name} ${last_name}`;\n    return (\n        <React.Fragment>\n            <div className=\"user-profile__avatar-container\">\n                <div className=\"user-profile__avatar-wrap\">\n                    <CoverImage src={photo} className=\"user-profile__avatar\" round square/>\n                </div>\n            </div>\n            <div className=\"user-profile__info layout__content-block\">\n                <div className=\"d-flex flex-column align-items-center\">\n                    <h2>{fullName}</h2>\n                    {role && <div className=\"font-size-sm\">{role}</div>}\n                    {contacts && <Contacts contacts={contacts}/>}\n                    <div className=\"description-text font-size-sm\">{about}</div>\n                </div>\n            </div>\n        </React.Fragment>\n    )\n};\n\nexport default UserProfile;\n","import React from \"react\";\nimport Page, {PageContent} from \"components/Page\";\nimport UserProfile from \"components/common/UserProfile\";\nimport {useUser} from \"store\";\n\nconst AccountPage = () => {\n    const {user, userInfo} = useUser();\n    return (\n        <Page title=\"Аккаунт\" className=\"account-page\">\n            <PageContent>\n                <UserProfile {...user}/>\n            </PageContent>\n        </Page>\n    );\n};\n\nexport default AccountPage;\n","import {LoremIpsum} from \"lorem-ipsum\";\nimport _ from \"lodash\";\nimport {LEARNING_STATUS} from \"definitions/constants\";\nimport {API_ROOT} from \"api\";\n\nimport poster from \"img/dummy_poster.jpg\";\nimport pic from \"img/dummy-pic.jpg\";\n\nconst lorem = new LoremIpsum();\n\nfunction getDate(daysForward) {\n    const date = new Date();\n    date.setDate(date.getDate() + daysForward);\n    return date;\n}\n\nexport const ACCOUNT_INFO = {\n    id: 154792439,\n    roles: [\n        \"PUPIL\",\n        \"TEACHER\"\n    ],\n    permissions: [],\n    vk_info: {\n        id: 154792439,\n        first_name: \"Alexandra\",\n        last_name: \"Petrova\",\n        photo_max_orig: poster,\n    },\n    pupil: {\n        account_id: 154792439\n    },\n    teacher: {\n        account_id: 154792439,\n        subjects: [\n            {\n                id: 1,\n                name: \"Математика\",\n                description: \"Лучший предмет\",\n                image_link: \"/files/asdsadasda.jpg\"\n            }\n        ]\n    }\n};\n\nexport const SUBJECTS = [\n    // { id: 'russian', name: 'Русский язык' },\n    // { id: 'literature', name: 'Литература' },\n    // { id: 'math', name: 'Математика' },\n    // { id: 'informatics', name: 'Информатика' },\n    // { id: 'physics', name: 'Физика' },\n    // { id: 'chemistry', name: 'Химия' },\n    // { id: 'biology', name: 'Биология' },\n    // { id: 'sociology', name: 'Обществознание' },\n    // { id: 'history', name: 'История' },\n    // { id: 'geography', name: 'География' },\n    // { id: 'english', name: 'Английский язык' },\n    // { id: 'german', name: 'Немецкий язык' },\n    // { id: 'french', name: 'Французский язык' },\n    // { id: 'chinese', name: 'Китайский язык' },\n    // { id: 'spanish', name: 'Испанский язык' }\n    { id: 1, name: 'Русский язык' },\n    { id: 2, name: 'Литература' },\n    { id: 3, name: 'Математика' },\n    { id: 4, name: 'Информатика' },\n    { id: 5, name: 'Физика' },\n    { id: 6, name: 'Химия' },\n    { id: 7, name: 'Биология' },\n    { id: 8, name: 'Обществознание' },\n    { id: 9, name: 'История' },\n    { id: 10, name: 'География' },\n    { id: 11, name: 'Английский язык' },\n    { id: 12, name: 'Немецкий язык' },\n    { id: 13, name: 'Французский язык' },\n    { id: 14, name: 'Китайский язык' },\n    { id: 15, name: 'Испанский язык' }\n];\n\nexport const TEACHERS = [\n    {\n        id: 154792439,\n        vk_info: {\n            id: 154792439,\n            first_name: \"Alexandra\",\n            last_name: \"Petrova\",\n            photo_max_orig: poster,\n        },\n        subjects: [\n            {\n                id: 1,\n                name: \"Математика\",\n                description: \"Лучший предмет\",\n                image_link: \"/files/asdsadasda.jpg\"\n            }\n        ]\n    },\n    {\n        id: 1,\n        vk_info: {\n            id: 1,\n            first_name: 'Елена',\n            last_name: 'Черткова',\n            photo_max_orig: poster,\n        },\n        subjects: SUBJECTS.slice(0,2),\n        contacts: {vk: '/', fb: '/', ok: '/', ig: '/'},\n        bio: lorem.generateSentences(1)\n    },\n    {\n        id: 2,\n        vk_info: {\n            id: 2,\n            first_name: 'Сергей',\n            last_name: 'Авдошин',\n            photo_max_orig: poster,\n        },\n        subjects: [SUBJECTS[3]],\n        contacts: {vk: '/', fb: '/', ok: '/', ig: '/'},\n        bio: lorem.generateSentences(1)\n    }\n];\n\nexport const COURSES = SUBJECTS.slice(0, 5).map((subject, i) => ({\n    name: `${subject.name}. Мастер группа. Апрель.`,\n    id: i,\n    subject_id: subject.id,\n    online: i <= 2,\n    image_link: poster,\n    date_start: getDate(7 + i),\n    date_end: getDate(7 + i),\n    // totalHours: 80,\n    description: lorem.generateParagraphs(1),\n    teacher_ids: i <= 2 ? [TEACHERS[0].id] : TEACHERS.map(({id}) => id)\n}));\n\nexport const LESSONS = _.times(4, (j) => {\n    const locked = -2 + j > 0;\n    return ({\n        num: j + 1,\n        id: j,\n        // date: getDate(-4 + i + j),\n        name: `Занятие ${j + 1}`,\n        description: lorem.generateParagraphs(1),\n        image_link: poster,\n        video_link: '375255364',\n        locked,\n        assignment: {\n            description: lorem.generateParagraphs(1),\n            files: [\n                {name: \"Задание\", id: 0, url: \"/robots.txt\"},\n                {name: \"Дополнительное задание\", id: 1, url: \"/robots.txt\"}\n            ],\n            deadline:  getDate(7)\n        },\n        watchProgress: locked ? undefined : (100 - j * 15),\n    });\n});\n\nexport const HOMEWORK = {\n    comment: \"Очень плохо\",\n    date: new Date(),\n    files: [\n        {\n            original_file_name: 'Стыд.jpg',\n            id_file_name: '51657ffc-fc8f-11e9-a562-0338e4bfa1ca.jpg',\n            file_link: `${API_ROOT}/files/51657ffc-fc8f-11e9-a562-0338e4bfa1ca.jpg?disp=attachment`\n        }\n    ],\n    lesson_id: 0,\n    mark: 4,\n    pupil_id: 0\n};\n\nexport const SHOP_CATALOG = COURSES.map((course, i) => ({...course, price: 2500, discount: i === 0 ? 1000 : undefined}));\n\nexport const MY_COURSES = COURSES.slice(0, 3).map((course, i) => ({\n    ...course,\n    status: i <= 1 ? LEARNING_STATUS.finished : LEARNING_STATUS.learning\n}));\n// export const MY_COURSES = COURSES.map((course, i) => ({\n//     ...course,\n//     lessons: LESSONS.map((lesson, j) => ({\n//         ...lesson,\n//         watchProgress: lesson.locked ? undefined : (100 - j * 15),\n//         homework: {\n//             files: [\n//                 {name: \"Задание\", url: \"/robots.txt\"},\n//                 {name: \"Дополнительное задание\", url: \"/robots.txt\"}\n//             ],\n//             description: lorem.generateParagraphs(1),\n//             deadline: getDate(7),\n//             submit: true,\n//             submittedFiles: [\n//                 {\n//                     original_file_name: \"5_64x64.png\",\n//                     id_file_name: \"501371cc-f349-11e9-aa47-7990bff4dcd7.png\",\n//                     file_link: \"/files/601371cc-f349-11e9-aa47-7990bff4dcd7.png\"\n//                 }\n//             ]\n//         }\n//     })),\n//     status: i <= 2 ? LEARNING_STATUS.finished : LEARNING_STATUS.learning\n// }));\n\nexport const WEBINAR_SCHEDULE = COURSES.slice(0, 3).map(({id, name, subject_id}, i) => ({\n    subject_id,\n    subject_name: SUBJECTS[subject_id - 1].name,\n    course_id: id,\n    course_name: name,\n    id: i,\n    name: \"Играю в майнкрафт\",\n    description: \"Скидывайте ваши донаты\",\n    date_start: getDate(i),\n    duration: 60*2,\n    date_end: new Date(getDate(1 + i).getTime() + 60*2 * 1000 * 60),\n    image_link: pic\n}));\n\nexport const TEST_ID = 1;\nexport const TEST_HASH = '2d01669a3c8cda169545b4f7b607efb3';\n","import React from 'react';\nimport Truncate from 'react-truncate';\nimport {useTruncate} from \"hooks/common\";\nimport {Link} from \"react-router-dom\";\n\nexport default function ListItem(props) {\n    const {\n        preview, title, subtitle, description, item, selectable,\n        className,\n        children: action,\n        link,\n        onClick: clickCallback,\n        onActionClick: actionCallback,\n        callbackProps} = props;\n    const [descriptionRef, isFontLoaded] = useTruncate(description);\n    const onClick = React.useCallback((event) => {\n        const clicked = selectable && !(actionCallback && event.target.closest('.list__item-action'));\n        if (clicked && clickCallback)\n            clickCallback(item, callbackProps);\n        else if (!clicked && link)\n            event.preventDefault();\n    }, [item, clickCallback, selectable, callbackProps, link, actionCallback]);\n    const onActionClick = React.useCallback((event) => {\n        if (selectable && actionCallback)\n            actionCallback(item, callbackProps);\n    }, [item, actionCallback, selectable, callbackProps]);\n    const content = (\n        <div className=\"row align-items-center\">\n            <div className=\"list__item-preview col-12 col-md-auto\">\n                {preview}\n            </div>\n            <div className=\"list__item-description col align-self-stretch\">\n                <div className=\"list__item-description-inner\">\n                    <div className=\"title font-size-lg\">{title}</div>\n                    {subtitle && <div className=\"subtitle\">{subtitle}</div>}\n                    {description && (\n                        <div className=\"description-container font-size-xs\">\n                            <div className=\"description-text\">\n                                {isFontLoaded ? (\n                                    <Truncate lines={2} ref={descriptionRef}>\n                                        {description}\n                                    </Truncate>\n                                ) : null}\n                            </div>\n                        </div>\n                    )}\n                </div>\n            </div>\n            {action && (\n                <div\n                    className=\"list__item-action col-auto d-flex align-items-center flex-column\"\n                    onClick={onActionClick}>\n                    {action}\n                </div>\n            )}\n        </div>\n    );\n    if (link) {\n        return (\n            <Link\n                className={`list__item container ${selectable ? 'list__item-selectable' : ''} ${className || ''}`}\n                to={link}\n                onClick={onClick}>\n                {content}\n            </Link>\n        );\n    }\n    else {\n        return (\n            <div className={`list__item container ${selectable ? 'list__item-selectable' : ''} ${className || ''}`} onClick={onClick}>\n                {content}\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport ListItem from \"./ListItem\";\n\nexport default function List(props) {\n    const {children, renderItem, renderProps, flex, className} = props;\n    return flex\n        ? (\n            <div className={`${className || ''} list`}>\n                <div className=\"container p-0 overflow-hidden\">\n                    <div className=\"row\">\n                        {children.map((item, index) => renderItem(item, renderProps, index))}\n                    </div>\n                </div>\n            </div>\n        )\n        : (\n        <div className={`${className || ''} list`}>\n            {children.map((item, index) => renderItem(item, renderProps, index))}\n        </div>\n    );\n}\n\nList.defaultProps = {\n    renderItem: (item, props, index) => <ListItem {...item} {...props} key={index}/>\n};\n","import React from 'react';\nimport {Scrollbars as ScrollComponent} from 'react-custom-scrollbars';\n\nconst renderEmpty = () => <div/>;\n\nconst renderTrackVertical = props => (<div {...props} className=\"track track-vertical\"/>);\nconst renderThumbVertical = props => (<div {...props} className=\"thumb thumb-vertical\"/>);\nconst renderTrackHorizontal = props => (<div {...props} className=\"track track-horizontal\"/>);\nconst renderThumbHorizontal = props => (<div {...props} className=\"thumb thumb-horizontal\"/>);\n\nconst ScrollBars = React.forwardRef(({children, hideVerticalScrollbar=false, hideHorizontalScrollbar=false, ...props}, ref) => {\n    return (\n        <ScrollComponent\n            renderTrackVertical={hideVerticalScrollbar ? renderEmpty : renderTrackVertical}\n            renderThumbVertical={renderThumbVertical}\n            renderTrackHorizontal={hideHorizontalScrollbar ? renderEmpty : renderTrackHorizontal}\n            renderThumbHorizontal={renderThumbHorizontal}\n            ref={ref}\n            {...props}>\n            {children}\n        </ScrollComponent>\n    );\n});\n\nexport default ScrollBars;\n","import React, {Component} from 'react';\nimport SelectInput, { components } from 'react-select';\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport ScrollBars from \"./ScrollBars\";\n\nconst DropdownIndicator = (props) => (\n    <components.DropdownIndicator {...props}>\n        <i className=\"icon-angle\"/>\n    </components.DropdownIndicator>\n);\n\nconst SelectContainer = ({ children, selectProps, hasValue, setValue, ...props }) => (\n    <div className=\"select\">\n        <components.SelectContainer\n            selectProps={{...selectProps, isClearable: false}}\n            hasValue={hasValue}\n            setValue={setValue}\n            {...props}>\n            {children}\n        </components.SelectContainer>\n        {selectProps.isClearable && (\n            <div className={hasValue ? 'select__clear-btn' : 'select__clear-btn select__clear-btn-hidden'} onClick={() => {setValue(null);}}>\n                <i className=\"icon-close\"/>\n            </div>\n        )}\n    </div>\n);\n\n\nexport const Option = ({content, ...props}) => (\n    <components.Option {...props}>\n        {content ? content : props.label}\n    </components.Option>\n);\n\nOption.propTypes = {\n    content: PropTypes.node,\n    label: PropTypes.node\n};\n\nclass MenuList extends Component {\n    componentDidMount() {\n        //needed to the select to scroll the list to the selected option\n        this.props.innerRef(this.scrollBar.view);\n    }\n\n    render() {\n        return (\n            <ScrollBars\n                autoHeight\n                hideTracksWhenNotNeeded\n                ref={ref => { this.scrollBar = ref; }}\n                autoHeightMax={this.props.maxHeight}>\n                <components.MenuList {...this.props}>\n                    {this.props.children}\n                </components.MenuList>\n            </ScrollBars>\n        );\n    }\n\n    static propTypes = {\n        maxHeight: PropTypes.number.isRequired,\n        children: PropTypes.node.isRequired,\n        innerRef: PropTypes.func.isRequired\n    }\n}\n\n//TODO: try react virtualized select\nexport default class Select extends React.PureComponent {\n    onChange = (option) => {\n        this.props.callback(option ? option.value : null, this.props.name);\n    };\n\n    render() {\n        const {name, options, value, components, selectProps, isClearable=true, isSearchable=true, placeholder} = this.props;\n        return (\n            <SelectInput\n                name={name}\n                options={options}\n                maxMenuHeight={200}\n                value={_.find(options, {value: value}) || null}\n                className='select__container' classNamePrefix='select'\n                onChange={this.onChange}\n                menuPlacement=\"auto\"\n                noOptionsMessage={() => 'Нет опций'}\n                components={\n                    components ? ({\n                        Option,\n                        MenuList,\n                        DropdownIndicator,\n                        SelectContainer,\n                        ...components\n                    }) : ({\n                        Option,\n                        MenuList,\n                        DropdownIndicator,\n                        SelectContainer,\n                    })\n                }\n                styles={{\n                    //removes default styles from option elements\n                    option: () => ({})\n                }}\n                isClearable={isClearable}\n                isSearchable={isSearchable}\n                placeholder={placeholder}\n                {...selectProps}\n            />\n        );\n    }\n\n    static propTypes = {\n        name: PropTypes.string.isRequired,\n        options: PropTypes.arrayOf(PropTypes.shape({\n            value: PropTypes.any,\n            label: PropTypes.any\n        })).isRequired,\n        callback: PropTypes.func.isRequired,\n        value: PropTypes.any,\n        selectProps: PropTypes.object,\n        components: PropTypes.object\n    }\n}\n","import React from 'react';\nimport Select from \"./Select\";\n\nfunction useChangeHandler(callback, inputProp = 'value') {\n    return React.useCallback((event) => {\n        callback(event.currentTarget[inputProp], event.currentTarget.name, event);\n    }, [callback, inputProp])\n}\n\nconst CheckBox = ({value, onChange: callback, name, label, ...props}) => {\n    const onChange = useChangeHandler(callback, 'checked');\n    return (\n        <label className={`input input-checkbox`}>\n            <input type=\"checkbox\" name={name} checked={value} onChange={onChange} {...props}/>\n            <span className=\"input__box\"/>\n            <span className=\"input__label\">{label}</span>\n        </label>\n    );\n};\n\nconst Input = ({className, onChange: callback, ...props}) => {\n    const onChange = useChangeHandler(callback);\n    return (\n        <input className={`input ${className || ''}`} onChange={onChange} {...props}/>\n    );\n};\n\nObject.assign(Input, {\n    CheckBox,\n    Select\n});\n\nexport default Input;\n\n","import React from 'react';\nimport {useHistory, useLocation} from 'react-router-dom';\nimport List from \"./List\";\nimport Input from \"../ui/Input\";\nimport Page from \"../Page\";\n\nexport const CatalogContext = React.createContext({});\n\nconst Filter = ({filterBy: {subject:filterBySubject = true, online:filterByOnline = true}={}}) => {\n    const {options, subject, online, onChange} = React.useContext(CatalogContext);\n    return (\n        <div className=\"layout__content-block catalog__filters\">\n            <div className=\"container p-0\">\n                <div className=\"row\">\n                    {filterBySubject && (\n                        <div className=\"col-auto d-flex align-items-center\">\n                            <Input.Select\n                                name=\"subject\"\n                                options={options}\n                                value={subject}\n                                placeholder='Предмет'\n                                callback={onChange}/>\n                        </div>\n                    )}\n                    {filterByOnline && (\n                        <div className=\"col-auto d-flex align-items-center\">\n                            <Input.CheckBox\n                                name=\"online\"\n                                value={online}\n                                label=\"Онлайн\"\n                                onChange={onChange}/>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst Catalog = ({renderFunc, placeholder, baseUrl, ...listProps}) => {\n    const {items, renderProps} = React.useContext(CatalogContext);\n    const renderItem = React.useCallback((item) => {\n        return renderFunc(item, {link: `${item.id}/`, ...renderProps});\n    }, [renderFunc, renderProps]);\n    return (\n        <div className=\"layout__content-block catalog__catalog\">\n            {items.length > 0 ? (\n                <List {...listProps}\n                    renderItem={renderItem}>\n                    {items}\n                </List>\n            ) : (\n                <div className=\"catalog__empty-catalog-fallback-message text-center font-size-sm\">\n                    {placeholder}\n                </div>\n            )}\n        </div>\n    );\n};\n\nconst Body = (props) => {\n    const {options, filterItems, children, renderProps={}} = props;\n    const history = useHistory();\n    const location = useLocation();\n    const params = new URLSearchParams(location.search);\n    const subject = parseInt(params.get('subject')) || null;\n    const online = params.get('online') === 'true';\n    const onFilterChange = React.useCallback((value, name) => {\n        const params = new URLSearchParams(location.search);\n        if (value)\n            params.set(name, value);\n        else\n            params.delete(name);\n        // setSubject(option);\n        history.push({\n            pathname: location.pathname,\n            search: `?${params}`\n        });\n    }, [location, history]);\n    const matchingItems = filterItems(subject, online);\n\n    return (\n        <CatalogContext.Provider\n            value={{\n                options, subject, online, onChange: onFilterChange, items: matchingItems, renderProps\n            }}>\n            <div className=\"catalog\">\n                {children}\n            </div>\n        </CatalogContext.Provider>\n    );\n};\n//\n// const CatalogPage = ({title, className, BodyComponent = Body, ...props}) => {\n//     return (\n//         <Page title={title} className={className}>\n//             <BodyComponent {...props}/>\n//         </Page>\n//     )\n// };\n\nexport default {\n    Filter,\n    Catalog,\n    Body,\n    // Page: CatalogPage\n};\n","import React from 'react';\nimport _ from 'lodash';\nimport {Link} from \"react-router-dom\";\nimport CoverImage from \"./CoverImage\";\nimport Contacts from \"./Contacts\";\n\nexport default function Teacher(props) {\n    const {\n        teacher: {\n        vk_info: {first_name, last_name, photo_max_orig: photo}, contacts, subjects: teacherSubjects, bio: about\n        },\n        subjects,\n        link,\n        bio=false,\n        className} = props;\n    const onClick = React.useCallback((event) => {\n        const clicked = !event.target.closest('.social-media');\n        // event.preventDefault();\n    }, []);\n    // const teacherSubjects = subject_ids.map(id => _.find(subjects, {id}));\n    return (\n        <Link to={link} className={`${className} teacher-profile`} onClick={onClick}>\n            <div className=\"container p-0\">\n                <div className=\"row flex-nowrap\">\n                    <div className=\"col-auto d-flex align-items-center\">\n                        <CoverImage src={photo} className=\"teacher-profile__photo\" round square/>\n                    </div>\n                    <div className=\"col d-flex flex-column justify-content-center\">\n                        <h3 className=\"teacher-profile__name\">{first_name} {last_name}</h3>\n                        {bio && (\n                            <div className=\"teacher-profile__subjects font-size-sm\">\n                                {teacherSubjects.map(({name}, i) => i === 0 ? name : name.toLowerCase()).join(', ')}\n                            </div>)}\n                        {contacts && (<Contacts contacts={contacts}/>)}\n                    </div>\n                </div>\n                {bio && (\n                    <div className=\"row\">\n                        <div className=\"col-12 description-text\">\n                            {about}\n                        </div>\n                    </div>\n                )}\n            </div>\n        </Link>\n    );\n}\n","import React from 'react';\nimport _  from 'lodash';\nimport Catalog from \"components/common/Catalog\";\nimport Teacher from \"../../../common/Teacher\";\n\nconst Filter = (props) => (<Catalog.Filter filterBy={{online: false}} {...props}/>);\n\nconst TeachersCatalog = (props) => {\n    const renderTeacher = React.useCallback((teacher, {link, subjects}) => (\n        <div className=\"list__item col-12 col-md-6 d-flex\" key={teacher.id}>\n            <Teacher\n                teacher={teacher}\n                subjects={subjects}\n                bio\n                link={link}/>\n        </div>\n    ), []);\n    return (\n        <Catalog.Catalog\n            placeholder=\"Нет преподавателей, соответствующих условиям поиска\"\n            flex\n            renderFunc={renderTeacher}\n            {...props}/>\n    );\n};\n\nconst Body = (props) => {\n    const {teachers, subjects, ...otherProps} = props;\n\n    const options = React.useMemo(() => {\n        const subjectsMap = _.zipObject(subjects.map(({id}) => id), subjects);\n        const subjectsTeachers = _.reduce(teachers, (result, teacher) => {\n            teacher.subjects.forEach(subject => {result[subject.id] = subject});\n            return result;\n        }, {});\n        return _.values(subjectsTeachers).map(({id, name}) => ({value: id, label: name}));\n    }, [teachers, subjects]);\n\n    const getMatchingCourses = React.useCallback((subject) => teachers.filter((teacher) =>\n        (subject ? teacher.subjects.some(({id}) => subject === id)  : true)), [teachers]);\n\n    return (\n        <Catalog.Body\n            options={options}\n            renderProps={{subjects}}\n            filterItems={getMatchingCourses}\n            {...otherProps}/>\n    )\n};\n\n// const Page = (props) => (<Catalog.Page BodyComponent={Body} {...props}/>);\n\nexport default {\n    ...Catalog,\n    Filter,\n    Catalog: TeachersCatalog,\n    Body,\n    // Page\n}\n","import React from \"react\";\nimport Page, {PageContent, PageLoadingPlaceholder} from \"components/Page\";\nimport TeachersCatalog from \"./TeachersCatalog\";\nimport {useTeachers} from \"store\";\n\nconst TeachersCatalogPage = ({location}) => {\n    const {teachers, subjects, error, retry} = useTeachers();\n    return (\n        <Page\n            title=\"Мои курсы\"\n            className=\"catalog teachers-catalog\"\n            location={location}>\n            {!(teachers && subjects) ? (\n                    <PageLoadingPlaceholder/>\n                ) : (\n                <TeachersCatalog.Body\n                    subjects={subjects}\n                    teachers={teachers}>\n                    <PageContent>\n                        <TeachersCatalog.Filter/>\n                        <TeachersCatalog.Catalog/>\n                    </PageContent>\n                </TeachersCatalog.Body>\n            )\n            }\n        </Page>\n    );\n};\n\nexport default TeachersCatalogPage;\n","import React from \"react\";\n\nconst Button = ({className, children, active = true, neutral=false, icon, iconAction, tag:Tag='div', onClick, ...props}) => {\n    // const clickCallback = React.useCallback((e) => {\n    //     console.log(e.target, e.currentTarget, e.target === e.currentTarget);\n    //     if (e.target === e.currentTarget)\n    //         onClick(e);\n    // }, [onClick]);\n    return (\n        <Tag\n            className={`btn ${active ? '' : 'btn-inactive'} ${neutral ? 'btn-neutral' : ''} ${className ? className : ''}`}\n            {...props}>\n        <span className=\"btn__content\">\n            {icon && <div className=\"btn__after\" onClick={iconAction ? iconAction : onClick}>{icon}</div>}\n            <span\n                className=\"btn__name\"\n                onClick={onClick}>\n                {children}\n            </span>\n        </span>\n        </Tag>\n    );\n};\n\nexport default Button;\n","import React from \"react\";\nimport Page from \"./Page\";\nimport {Link} from \"react-router-dom\";\nimport Button from \"./ui/Button\";\n\nconst ErrorPage = ({errorCode = 404, message, link: {text, url} = {}}) => {\n    const code = errorCode && errorCode.toString();\n    return (\n        <Page title={code} className=\"error-page\">\n            <div className=\"error-page__error-code\">\n                {code && code.split('').map((number, i) => <span key={i}>{number}</span>)}\n            </div>\n            <div className=\"error-page__error-message\">{message || 'Похоже, вы потерялись'}</div>\n            <Button tag={Link} to={`${url || ''}/`} replace className=\"btn\">{text || 'На главную'}</Button>\n        </Page>\n    );\n};\n\nexport default ErrorPage;\n","import React from 'react';\nimport Catalog from \"./Catalog\";\nimport _ from \"lodash\";\n\nconst CourseCatalog = ({renderCourse, ...otherProps}) => (\n    <Catalog.Catalog\n        placeholder=\"Нет курсов, соответствующих условиям поиска\"\n        renderFunc={renderCourse}\n        {...otherProps}/>\n);\n\nconst Body = (props) => {\n    const {courses, subjects, ...otherProps} = props;\n\n    const options = React.useMemo(() =>\n            subjects.map(({id, name}) => ({value: id, label: name})),\n        [subjects]);\n\n    const getMatchingCourses = React.useCallback((subject, online) => courses.filter((course) =>\n        (subject ? course.subject_id === subject : true) && (online ? course.online === online : true)), [courses]);\n\n    return (\n        <Catalog.Body\n            options={options}\n            filterItems={getMatchingCourses}\n            {...otherProps}/>\n    )\n};\n\n// const CourseCatalogPage = (props) => (<Catalog.Page BodyComponent={Body} {...props}/>);\n\nexport default {\n    ...Catalog,\n    Catalog: CourseCatalog,\n    Body,\n    // Page: CourseCatalogPage\n}\n","import React from 'react';\nimport {daysBetween} from \"../../definitions/helpers\";\nimport ListItem from \"./ListItem\";\nimport CoverImage from \"./CoverImage\";\n\nexport default function Course({course, online=true, isSelected=false, ...props}) {\n    const {name, image_link, date_start, description} = course;\n    const startsIn = daysBetween(new Date(), date_start);\n    return (\n        <ListItem\n            item={course}\n            className={isSelected ? 'course course-selected' : 'course'}\n            title={name}\n            subtitle={`До начала курса ${startsIn} ${startsIn === 1 ? 'день' : 'дней'}`}\n            description={description}\n            preview={(\n                <div className=\"course__cover-container\">\n                    {course.online && (\n                        <div className={`course__online-badge ${online ? 'course__online-text' : ''} font-size-xs`}>\n                            <span>Онлайн</span>\n                        </div>\n                    )}\n                    <CoverImage src={image_link} className=\"poster-cover course__cover\"/>\n                </div>\n            )}\n            {...props}/>\n    );\n}\n","import React from \"react\";\nimport _ from \"lodash\";\nimport Page, {PageContent, PageLoadingPlaceholder} from \"components/Page\";\nimport ErrorPage from \"components/ErrorPage\";\nimport CourseCatalog from \"components/common/CourseCatalog\";\nimport Course from \"components/common/Course\";\nimport Button from \"components/ui/Button\";\nimport UserProfile from \"components/common/UserProfile\";\nimport {useShopCatalog, useTeachers} from \"store\";\n\nconst TeacherPage = (props) => {\n    const {match: {params: {id: param_id}}, path: root, className, location} = props;\n    const {teachers, subjects, error, retry} = useTeachers();\n    const {catalog, error: errorLoadingCatalog, retry: reloadCatalog} = useShopCatalog();\n    const id = parseInt(param_id);\n\n    const renderCourse = React.useCallback((course, {link}) => {\n        const {price, discount} = course;\n        return (\n            <Course\n                course={course}\n                selectable\n                key={course.id}\n                link={`/shop/${link}`}>\n                <div className=\"list__item-action-info\">\n                    <span className=\"price\">{price}₽</span> {discount && <span className=\"discount font-size-xs\">{discount + price}₽</span>}\n                </div>\n                <Button style={{minWidth: '110px'}}>Открыть</Button>\n            </Course>\n        )\n    }, []);\n\n    if (teachers && catalog && subjects) {\n        const teacher = _.find(teachers, {id});\n\n        if (teacher) {\n            const {vk_info: {first_name, last_name, photo_max_orig: photo}, contacts, subjects: teacherSubjects, bio} = teacher;\n            // const teacherSubjects = subject_ids.map(id => _.find(subjects, {id}));\n            const teachersCourses = catalog.filter(course => _.indexOf(course.teacher_ids, id) >= 0);\n            const profile = {\n                first_name,\n                last_name,\n                photo,\n                contacts,\n                about: bio,\n                role: teacherSubjects.map(({name}, i) => i === 0 ? name : name.toLowerCase()).join(', ')\n            };\n            const fullName = `${first_name} ${last_name}`;\n            return (\n                <Page\n                    title={`${fullName}`}\n                    className={`teacher-page ${className || ''}`}\n                    location={location}>\n                    <PageContent parentSection={{name: \"Преподаватели\"}}>\n                        <UserProfile {...profile}/>\n                        <div className=\"layout__content-block\">\n                            <h3>Курсы преподавателя</h3>\n                        </div>\n                        <CourseCatalog.Body\n                            className=\"course-shop\"\n                            subjects={subjects}\n                            courses={teachersCourses}>\n                            <CourseCatalog.Filter/>\n                            <CourseCatalog.Catalog\n                                renderCourse={renderCourse}/>\n                        </CourseCatalog.Body>\n                    </PageContent>\n                </Page>\n            )\n        } else\n            return <ErrorPage errorCode={404} message=\"Преподаватель не найден\" link={{url: root}}/>;\n    }\n    else {\n        return (\n            <Page\n                location={location}>\n                <PageLoadingPlaceholder/>\n            </Page>\n        );\n    }\n};\n\nexport default TeacherPage;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport {TEACHERS} from \"data/test_data\";\nimport {SHOP_CATALOG} from \"data/test_data\";\nimport CatalogPage from \"./catalog-page\";\nimport TeacherPage from \"./teacher-page\";\n\nconst Teachers = (props) => {\n    const {match} = props;\n    return (\n        <Switch>\n            <Route path={`${match.path}/:id`} render={(props) => (\n                <TeacherPage\n                    teachers={TEACHERS}\n                    courses={SHOP_CATALOG.catalog}\n                    path={match.path}\n                    {...props}/>\n            )}/>\n            <Route exact path={`${match.path}`} render={(props) => (\n                <CatalogPage {...props}/>\n            )}/>\n        </Switch>\n    );\n};\n\nexport default Teachers;\n","import React from 'react';\nimport {CSSTransition, TransitionGroup} from \"react-transition-group\";\nimport {useTruncate} from \"hooks/common\";\nimport CoverImage from \"components/common/CoverImage\";\nimport Truncate from \"react-truncate\";\nimport _ from \"lodash\";\nimport {BottomTab} from \"components/Page\";\nimport ScrollBars from \"components/ui/ScrollBars\";\nimport Button from \"components/ui/Button\";\n\nconst SelectedCourse = ({course, onCourseDeselect, onTruncate}) => {\n    const {name} = course;\n    const [descriptionRef] = useTruncate(name);\n    const onDeselectClick = React.useCallback(() => {\n        onCourseDeselect(course);\n    }, [onCourseDeselect, course]);\n    return (\n        <div className=\"selected-course d-flex align-items-center flex-shrink-0\">\n            <div className=\"selected-course__cover-container\">\n                <CoverImage src={course.image_link} className=\"selected-course__cover poster-cover\"/>\n                <i className=\"icon-close selected-course__deselect-btn animated__action-button\" onClick={onDeselectClick}/>\n            </div>\n            <div className=\"selected-course__description-container font-size-xs\">\n                <div className=\"selected-course__description\">\n                    <Truncate lines={2} ref={descriptionRef} onTruncate={onTruncate}>\n                        {name}\n                    </Truncate>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst renderView = ({style, ...props}) => (<div style={{...style, height: `calc(100% + ${style.minHeight}px)`}} {...props}/>);\n\nconst SelectedCoursesTab = ({courses, discount: discountInfo, onCourseDeselect}) => {\n    let price, discount, message;\n    if (discountInfo) {\n        const fullPrice = _.sumBy(courses, 'price');\n        price = discountInfo.discounted_price;\n        discount = fullPrice - discountInfo.discounted_price;\n        message = discountInfo.message;\n    }\n    // const discount = _.sumBy(courses, 'discount');\n    React.useEffect(() => {\n        if (window.dispatchEvent)\n            window.dispatchEvent(new CustomEvent('scroll'));\n    });\n    return (\n        <BottomTab\n            className={`selected-courses ${courses.length === 0 ? 'hidden' : ''}`}>\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-12 col-md p-0 selected-courses__courses\">\n                        <ScrollBars\n                            autoHeight\n                            autoHeightMax=\"unset\"\n                            hideTracksWhenNotNeeded\n                            renderView={renderView}\n                            style={{height: '100%'}}\n                            className=\"scrollbars\">\n                            <TransitionGroup\n                                className=\"layout__bottom-tab-container container-fluid d-flex flex-nowrap\"\n                                style={{height: '100%'}}>\n                                {courses.map(course => (\n                                    <CSSTransition\n                                        classNames=\"animation-fade\"\n                                        key={course.id}\n                                        timeout={300}>\n                                        <SelectedCourse\n                                            course={course}\n                                            onCourseDeselect={onCourseDeselect}\n                                            onTruncate={() => {\n                                                window.dispatchEvent(new CustomEvent('scroll'));\n                                            }}/>\n                                    </CSSTransition>\n                                ))}\n                            </TransitionGroup>\n                        </ScrollBars>\n                    </div>\n                    <div className=\"col-12 col-md-auto p-0 selected-courses__price\">\n                        <div className=\"layout__bottom-tab-container container d-flex align-items-center justify-content-end\">\n                            {discountInfo ? (\n                                <React.Fragment>\n                                    <Button className=\"order-1 order-md-0 flex-shrink-0\">Оплатить</Button>\n                                    <div className=\"price selected-courses__price-container container\">\n                                        {discount > 0 && <div className=\"discount font-size-sm d-inline-block d-md-block\">{price + discount}₽</div>}\n                                        <div className=\"price font-size-lg d-inline-block d-md-block\">{price}₽</div>\n                                        {message && <div className=\"promotion font-size-xs\">{message}</div>}\n                                    </div>\n                                </React.Fragment>\n                            ) : (\n                                <div className=\"spinner-border\"/>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </BottomTab>\n    );\n};\n\nexport default SelectedCoursesTab;\n","import React from \"react\";\nimport Page, {PageContent, PageLoadingPlaceholder} from \"components/Page\";\nimport CourseCatalog from \"components/common/CourseCatalog\";\nimport SelectedCoursesTab from \"./SelectedCoursesTab\";\nimport Course from \"components/common/Course\";\nimport Button from \"components/ui/Button\";\nimport {useDiscount, useShopCatalog} from \"store\";\n\nconst ShopCatalogPage = ({selectedCourses, onCourseClick, onCourseSelect, onCourseDeselect, location}) => {\n    const {catalog, subjects, error, retry} = useShopCatalog();\n    const {discount, error: errorLoadingDiscount, retry: reloadDiscount} = useDiscount(selectedCourses);\n    const renderCourse = React.useCallback((course, props) => {\n        const isSelected = selectedCourses.has(course);\n        const {price, discount, purchased} = course;\n        return (\n            <Course\n                course={course}\n                selectable\n                isSelected={isSelected}\n                onActionClick={purchased ? null : onCourseSelect}\n                key={course.id}\n                {...props}>\n                {purchased ? (\n                    <Button style={{minWidth: '110px'}} active={false}>Куплено</Button>\n                ) : (\n                    <React.Fragment>\n                        <div className=\"list__item-action-info\">\n                            <span className=\"price\">{price}₽</span> {discount && <span className=\"discount font-size-xs\">{discount + price}₽</span>}\n                        </div>\n                        <Button style={{minWidth: '110px'}}>{isSelected ? 'Выбрано' : 'Выбрать'}</Button>\n                    </React.Fragment>\n                )}\n            </Course>\n        )\n    }, [selectedCourses, onCourseSelect]);\n    return (\n        <Page\n            className=\"course-shop\"\n            title=\"Магазин курсов\"\n            location={location}>\n            {!(catalog && subjects) ? (\n                <PageLoadingPlaceholder/>\n            ) : (\n                <CourseCatalog.Body\n                    subjects={subjects}\n                    courses={catalog}>\n                    <PageContent>\n                        <CourseCatalog.Filter/>\n                        <CourseCatalog.Catalog\n                            renderCourse={renderCourse}/>\n                    </PageContent>\n                </CourseCatalog.Body>\n            )}\n            <SelectedCoursesTab\n                onCourseDeselect={onCourseDeselect}\n                courses={[...selectedCourses]}\n                discount={discount}/>\n        </Page>\n    );\n};\n\nexport default ShopCatalogPage;\n","import React from 'react';\nimport _ from 'lodash';\nimport CoverImage from \"components/common/CoverImage\";\nimport {renderDate} from \"../../definitions/helpers\";\nimport List from \"./List\";\nimport Teacher from \"./Teacher\";\nimport Page, {PageLink} from \"../Page\";\nimport ErrorPage from \"../ErrorPage\";\n\nwindow._ = _;\n\nexport const CourseOverviewContext = React.createContext({});\n\nconst Description = () => {\n    const {course} = React.useContext(CourseOverviewContext);\n    return (\n        <React.Fragment>\n            <CoverImage src={course.image_link} className=\"course-overview__cover\"/>\n            <div className=\"course-overview__info layout__content-block\">\n                <h2>{course.name}</h2>\n                <div className=\"course-overview__summary\">\n                    <div className=\"col-auto course-overview__summary-item\">\n                        <i className=\"far fa-calendar-alt\"/>\n                        Начало: {renderDate(course.date_start, renderDate.date)}\n                    </div>\n                    <div className=\"col-auto course-overview__summary-item\">\n                        <i className=\"far fa-clock\"/>\n                        Длительность: {course.total_hours} часов\n                    </div>\n                </div>\n                <div className=\"description-text font-size-sm\">{course.description}</div>\n            </div>\n        </React.Fragment>\n    );\n};\n\nconst Title = () => {\n    const {course} = React.useContext(CourseOverviewContext);\n    return (\n        <div className=\"course-overview__title layout__content-block\">\n            <h2>{course.name}</h2>\n            <PageLink className=\"course-overview__link\" to={`/shop/${course.id}`}>\n                Страница курса\n            </PageLink>\n        </div>\n    );\n};\n\n//TODO: error boundaries\nconst Teachers = () => {\n    const {course, teachers} = React.useContext(CourseOverviewContext);\n    return (\n        <div className=\"layout__content-block\">\n            <h3>Преподаватели</h3>\n            <div className=\"course-overview__teachers container negate-block-padding\">\n                <div className=\"row\">\n                    {course.teacher_ids.map((id, i) => (\n                        <div className=\"col-12 col-md d-flex p-0\" key={i}>\n                            <Teacher\n                                teacher={_.find(teachers, {id})}\n                                link={`/teachers/${id}/`}/>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst Lessons = ({renderLesson: renderFunc}) => {\n    const {course, lessons} = React.useContext(CourseOverviewContext);\n    const renderCourse = React.useCallback((item) => {\n        return renderFunc(item, {link: `${item.id}/`});\n    }, [renderFunc]);\n    return (\n        <div className=\"layout__content-block\">\n            <h3>Уроки</h3>\n            <List\n                renderItem={renderCourse}>\n                {lessons}\n            </List>\n        </div>\n    );\n};\n\nconst CourseOverview = (props) => {\n    const {match: {params: {id: param_id}}, path: root, courses, teachers, lessons, children, className, location} = props;\n    const id = parseInt(param_id);\n    const course = _.find(courses, {id});\n    if (course) {\n        return (\n            <Page\n                title={`${course.title}`}\n                className={`course-overview ${className || ''}`}\n                location={location}>\n                <CourseOverviewContext.Provider\n                    value={{\n                        course,\n                        teachers,\n                        lessons\n                    }}>\n                    {children}\n                </CourseOverviewContext.Provider>\n            </Page>\n        )\n    } else\n        return <ErrorPage errorCode={404} message=\"Курс не найден\" link={{url: root}}/>;\n};\n\nexport default {\n    Description,\n    Teachers,\n    Lessons,\n    Title,\n    Body: CourseOverview\n};\n","import React from \"react\";\nimport {CourseOverviewContext} from \"components/common/CourseOverview\";\nimport {BottomTab} from \"components/Page\";\nimport Button from \"../../../ui/Button\";\nimport _ from \"lodash\";\n\nconst CoursePriceTab = (props) => {\n    const {discount: discountInfo, error, retry} = props;\n    const {course: {price: fullPrice, purchased}} = React.useContext(CourseOverviewContext);\n    let price, discount, message;\n    if (discountInfo) {\n        price = discountInfo.discounted_price;\n        discount = fullPrice - discountInfo.discounted_price;\n        message = discountInfo.message;\n    }\n    React.useEffect(() => {\n        if (window.dispatchEvent)\n            window.dispatchEvent(new CustomEvent('scroll'));\n    });\n    return (\n        <BottomTab className=\"course-overview__offer\">\n            <div className=\"container layout__bottom-tab-container\">\n                <div className=\"row justify-content-end align-items-center\">\n                    {purchased ? (\n                        <Button active={false}>Куплено</Button>\n                    ) : (\n                        discountInfo ? (\n                            <React.Fragment>\n                                {discount > 0 && (\n                                    <div className=\"col-auto\">\n                                        <div className=\"discount\">{price + discount}₽</div>\n                                    </div>\n                                )}\n                                <div className=\"col-auto\">\n                                    <h2 className=\"price\">\n                                        {price}₽\n                                    </h2>\n                                </div>\n                                <div className=\"col-auto\">\n                                    <Button>Купить</Button>\n                                </div>\n                            </React.Fragment>\n                        ) : (\n                            <div className=\"spinner-border\"/>\n                        )\n                    )}\n                </div>\n            </div>\n        </BottomTab>\n    );\n};\n\nexport default CoursePriceTab;\n","import React from \"react\";\nimport CoverImage from \"./CoverImage\";\n\nconst VideoCover = ({cover, watchProgress, locked=false, className}) => (\n    <CoverImage\n        src={cover}\n        className={`video-cover ${locked ? 'video-locked' : ''} ${className || ''}`}>\n        {watchProgress && (\n            <div className=\"video-cover__watch-progress-bar\">\n                <div\n                    className=\"watch-progress-bar__progress-line\"\n                    style={{width: `${watchProgress}%`}}/>\n            </div>\n        )}\n    </CoverImage>\n);\n\nexport default VideoCover;\n","import React from 'react';\nimport ListItem from \"./ListItem\";\nimport VideoCover from \"./VideoCover\";\n\nexport default function Lesson({lesson, locked=false, link, ...props}) {\n    const {name, image_link: cover, description, watchProgress} = lesson;\n    return (\n        <ListItem\n            item={lesson}\n            className={`video-class ${locked ? 'disabled' : ''}`}\n            title={name}\n            description={description}\n            preview={(\n                <VideoCover\n                    cover={cover}\n                    className=\"video-class__cover\"\n                    locked={locked}\n                    watchProgress={!locked && watchProgress}/>\n            )}\n            key={lesson.id}\n            link={locked ? undefined : link}\n            {...props}/>\n    );\n}\n","import React from \"react\";\nimport Page, {PageContent, PageLoadingPlaceholder} from \"components/Page\";\nimport CourseOverview from \"components/common/CourseOverview\";\nimport CoursePriceTab from \"./CoursePriceTab\";\nimport Lesson from \"components/common/Lesson\";\nimport {useShopCatalog, useTeachers, useLessons, useDiscount} from \"store\";\n\nconst CoursePage = ({path, location, match}) => {\n    const {params: {id: courseId}} = match;\n    const {catalog, subjects, error, retry} = useShopCatalog();\n    const {teachers, error: errorLoadingTeachers, retry: reloadTeachers} = useTeachers();\n    const {lessons, error: errorLoadingLessons, retry: reloadLessons} = useLessons(courseId);\n    const {discount, error: errorLoadingDiscount, retry: reloadDiscount} = useDiscount(courseId);\n    const renderLesson = (lesson, props) => (\n        <Lesson\n            lesson={lesson}\n            selectable={false}\n            locked={false}\n            key={lesson.id}/>\n    );\n    if (catalog && teachers && lessons ) {\n        return (\n            <CourseOverview.Body\n                match={match}\n                path={path}\n                courses={catalog}\n                teachers={teachers}\n                lessons={lessons}\n                location={location}>\n                <PageContent parentSection={{name: \"Магазин курсов\"}}>\n                    <CourseOverview.Description/>\n                    <CourseOverview.Teachers/>\n                    <CourseOverview.Lessons renderLesson={renderLesson}/>\n                </PageContent>\n                <CoursePriceTab\n                    discount={discount}\n                    error={error}\n                    retry={reloadDiscount}/>\n            </CourseOverview.Body>\n        );\n    }\n    else {\n        return (\n            <Page\n                location={location}>\n                <PageLoadingPlaceholder/>\n            </Page>\n        );\n    }\n};\n\nexport default CoursePage;\n","import React from 'react';\nimport { Switch, Route } from \"react-router-dom\";\nimport ShopCatalogPage from \"./catalog-page\";\nimport CoursePage from \"./course-page\";\n\nexport default function Shop(props) {\n    const [selectedCourses, setSelectedCourses] = React.useState(new Set());\n    const onCourseSelect = React.useCallback((course) => {\n        setSelectedCourses(selectedCourses => {\n            if (selectedCourses.has(course))\n                return selectedCourses;\n            selectedCourses = new Set(selectedCourses);\n            selectedCourses.add(course);\n            return selectedCourses;\n        });\n    }, []);\n    const onCourseDeselect = React.useCallback((course) => {\n        setSelectedCourses(selectedCourses => {\n            selectedCourses = new Set(selectedCourses);\n            selectedCourses.delete(course);\n            return selectedCourses;\n        });\n    }, []);\n    const {match} = props;\n    return (\n        <Switch>\n            <Route path={`${match.path}/:id`} render={(props) => (\n                <CoursePage\n                    path={match.path}\n                    {...props}/>\n            )}/>\n            <Route exact path={`${match.path}`} render={(props) => (\n                <ShopCatalogPage\n                    selectedCourses={selectedCourses}\n                    onCourseSelect={onCourseSelect}\n                    onCourseDeselect={onCourseDeselect}\n                    {...props}/>\n            )}/>\n        </Switch>\n    )\n}\n","import React from \"react\";\nimport Countdown from 'react-countdown-now';\nimport ScrollBars from \"components/ui/ScrollBars\";\nimport CoverImage from \"./CoverImage\";\nimport APIRequest from \"api\";\n\n// const getTimerState = (releaseDate) => {\n//     console.log(releaseDate);\n//     const total = Math.max(releaseDate - new Date(), 0);\n//     const seconds = Math.floor((total / 1000) % 60);\n//     const minutes = Math.floor((total / 1000 / 60) % 60);\n//     const hours = Math.floor((total / (1000 * 60 * 60)) % 24);\n//     const days = Math.floor(total / (1000 * 60 * 60 * 24));\n//     return ({\n//         isAvailable: total === 0,\n//         remainingTime: {\n//             total,\n//             days,\n//             hours,\n//             minutes,\n//             seconds,\n//         }});\n// };\n//\n// function useCountdown(deadline) {\n//     const [state, setState] = React.useState(getTimerState(deadline));\n//     const timer = React.useRef();\n//     React.useEffect(() => {\n//         if (deadline > new Date()) {\n//             // noinspection JSValidateTypes\n//             timer.current = setInterval(() => {\n//                 const newState = getTimerState(deadline);\n//                 if (newState.isAvailable)\n//                     clearInterval(timer.current);\n//                 setState(newState);\n//             }, 1000);\n//         }\n//         return () => {clearInterval(timer.current);};\n//     }, [deadline]);\n//     return state;\n// }\n\nconst WEBINAR_STATE = {\n    WAITING: 'WAITING',\n    AIRING: 'AIRING',\n    ENDED: 'ENDED'\n};\n\nconst getWebinarState = (webinar) => {\n    const now = new Date();\n    return webinar.date_start > now ? WEBINAR_STATE.WAITING : (now > webinar.date_end ? WEBINAR_STATE.ENDED : WEBINAR_STATE.AIRING);\n};\n\nconst Webinar = ({webinar, courseId}) => {\n    const [state, setState] = React.useState(getWebinarState(webinar));\n    const onWebinarStart = React.useCallback(() => {\n        setState(WEBINAR_STATE.AIRING);\n    }, []);\n    React.useEffect(() => {\n        if (state === WEBINAR_STATE.AIRING) {\n            const now = new Date();\n            const timeTillEnd = webinar.date_end.getTime() - now.getTime();\n            const timeout = setTimeout(() => {\n                setState(WEBINAR_STATE.ENDED);\n            }, timeTillEnd);\n            return () => {\n                clearTimeout(timeout);\n            };\n        }\n    }, [state, webinar]);\n    const onClick = React.useCallback(async (event) => {\n        if (state !== WEBINAR_STATE.AIRING) {\n            event.preventDefault();\n            return;\n        }\n        const newWindow = window.open();\n        const response = await APIRequest.get(`/courses/${webinar.course_id || courseId}/schedule/link`);\n        newWindow.location = response.link;\n    }, [state, webinar, courseId]);\n    if (state === WEBINAR_STATE.ENDED) {\n        return null;\n    }\n    const isAiring = state === WEBINAR_STATE.AIRING;\n    const renderCountdown = (remainingTime) => {\n        const {formatted: {days, hours, minutes, seconds}, completed} = remainingTime;\n        return completed ? (\n            <div className=\"d-flex\"><span>В</span><span>&nbsp;</span><span>эфире</span></div> //fixes a big on mobile\n        ) : (\n            <div className=\"countdown\">\n                <span>{days}</span>:\n                <span>{hours}</span>:\n                <span>{minutes}</span>:\n                <span>{seconds}</span>\n            </div>\n        );\n    };\n    return (\n        <div\n            onClick={onClick}\n            className={`webinar-schedule__webinar d-flex ${isAiring ? '' : 'webinar-schedule__webinar-locked'}`}>\n            <div className=\"container d-flex overflow-hidden\">\n                <div className=\"row flex-nowrap flex-grow-1\">\n                    <div className=\"col-auto d-flex align-items-center webinar-schedule__webinar-status\">\n                        {isAiring ? <i className=\"fas fa-unlock\"/> : <i className=\"fas fa-lock\"/>}\n                    </div>\n                    <div className=\"col d-flex flex-shrink-0 p-0\">\n                        <CoverImage\n                            className=\"webinar-schedule__webinar-poster\"\n                            src={webinar.image_link}/>\n                        <div className=\"webinar-schedule__webinar-title d-flex flex-column justify-content-center p-2\">\n                            <div>{webinar.subject_name}</div>\n                            <div>{webinar.name}</div>\n                        </div>\n                    </div>\n                    <div className=\"col-auto d-flex align-items-center webinar-schedule__webinar-countdown\">\n                        <Countdown\n                            date={webinar.date_start}\n                            className=\"countdown\"\n                            renderer={renderCountdown}\n                            onComplete={onWebinarStart}>\n                        </Countdown>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst WebinarSchedule = ({schedule}) => {\n    if (schedule.length === 0)\n        return null;\n    return (\n        <div className=\"layout__content-block webinar-schedule\">\n            <ScrollBars\n                autoHeight\n                autoHeightMax=\"unset\"\n                hideVerticalScrollbar\n                hideHorizontalScrollbar\n                hideTracksWhenNotNeeded\n                style={{height: '100%'}}\n                className=\"scrollbars\">\n                <div className=\"d-flex flex-nowrap\">\n                    {schedule.map((webinar) => (\n                        <Webinar webinar={webinar} key={webinar.id}/>\n                    ))}\n                </div>\n            </ScrollBars>\n        </div>\n    );\n};\n\nexport default WebinarSchedule;\n","import React from \"react\";\nimport CourseCatalog from \"components/common/CourseCatalog\";\nimport Course from \"components/common/Course\";\nimport Button from \"components/ui/Button\";\nimport Page, {PageContent, PageLoadingPlaceholder} from \"components/Page\";\nimport {LEARNING_STATUS} from \"definitions/constants\";\nimport {useUpcomingWebinars, useUserCourses} from \"store\";\nimport WebinarSchedule from \"components/common/WebinarSchedule\";\n\nconst CatalogPage = ({location}) => {\n    const {courses, subjects, error, retry} = useUserCourses();\n    const {webinars, error: errorLoadingWebinars, retry: reloadWebinars} = useUpcomingWebinars();\n    const renderCourse = React.useCallback((course, props) => (\n        <Course\n            course={course}\n            selectable\n            online={false}\n            key={course.id}\n            {...props}>\n            {course.status === LEARNING_STATUS.learning\n                ? <Button className=\"course__select-btn\">Изучать</Button>\n                : <Button className=\"course__select-btn\" active={false}>Пройден</Button>}\n        </Course>\n    ), []);\n    return (\n        <Page\n            className=\"user-courses\"\n            location={location}\n            title=\"Мои курсы\">\n            {!(courses && subjects && webinars) ? (\n                    <PageLoadingPlaceholder/>\n                ) : (\n                <CourseCatalog.Body\n                    courses={courses}\n                    subjects={subjects}>\n                    <PageContent>\n                        <CourseCatalog.Filter/>\n                        <WebinarSchedule schedule={webinars}/>\n                        <CourseCatalog.Catalog\n                            renderCourse={renderCourse}/>\n                    </PageContent>\n                </CourseCatalog.Body>\n            )\n            }\n        </Page>\n    );\n};\n\nexport default CatalogPage;\n","import React from \"react\";\nimport Page, {PageContent, PageLoadingPlaceholder} from \"components/Page\";\nimport CourseOverview from \"components/common/CourseOverview\";\nimport Lesson from \"components/common/Lesson\";\nimport Button from \"components/ui/Button\";\nimport {renderDate} from \"definitions/helpers\";\nimport {useCourseWebinars, useLessons, useUpcomingWebinars, useUserCourses} from \"store\";\nimport WebinarSchedule from \"../../../common/WebinarSchedule\";\n\nconst CoursePage = ({path, match, location, ...props}) => {\n    const {params: {id: courseId}} = match;\n    const {courses, error, retry} = useUserCourses();\n    const {webinars, error: errorLoadingWebinars, retry: reloadWebinars} = useCourseWebinars(courseId);\n    // const {teachers, error: errorLoadingTeachers, retry: reloadTeachers} = useTeachers();\n    const {lessons, error: errorLoadingLessons, retry: reloadLessons} = useLessons(courseId);\n    const renderLesson = (lesson, props) => {\n        const {date, id, locked} = lesson;\n        return (\n            <Lesson\n                lesson={lesson}\n                locked={locked}\n                selectable={!locked}\n                key={id}\n                {...props}>\n                {/*<div className=\"list__item-action-info\">{renderDate(date, renderDate.shortDate)}</div>*/}\n                {!locked\n                    ? <Button>Изучать</Button>\n                    : <Button active={false}>Скоро</Button>}\n            </Lesson>\n        );\n    };\n    if (courses && lessons && webinars) {\n        return (\n            <CourseOverview.Body\n                match={match}\n                path={path}\n                courses={courses}\n                lessons={lessons}\n                location={location}>\n                <PageContent parentSection={{name: \"Мои курсы\"}}>\n                    <CourseOverview.Title/>\n                    <WebinarSchedule\n                        schedule={webinars}\n                        courseId={courseId}/>\n                    <CourseOverview.Lessons renderLesson={renderLesson}/>\n                </PageContent>\n            </CourseOverview.Body>\n        );\n    } else {\n        return (\n            <Page\n                location={location}>\n                <PageLoadingPlaceholder/>\n            </Page>\n        );\n    }\n};\n\nexport default CoursePage;\n","import React, { Component, Fragment } from 'react';\n\nclass Tooltip extends Component {\n    componentDidMount() {\n    }\n\n    render() {\n        let child = React.Children.only(this.props.children);\n        let position = 'pos-' + this.props.position;\n        return React.cloneElement(child, {\n            className: (child.props.className ? child.props.className + ' tooltip ' : 'tooltip ') + position,\n            children: (\n                <Fragment>\n                    {child.props.children}\n                    <div className=\"tooltip-arrow\"/>\n                    <div className=\"tooltip-block\">\n                        {\n                            this.props.content\n                        }\n                    </div>\n                </Fragment>\n            )\n        });\n    }\n}\n\nexport default Tooltip;\n","import React from 'react';\nimport {useUpdateEffect} from \"hooks/common\";\nimport {CSSTransition, SwitchTransition} from \"react-transition-group\";\nimport Tooltip from \"./Tooltip\";\n\nexport const LOADING_STATE = {\n    PENDING: 'pending',\n    LOADING: 'loading',\n    LOADED: 'loaded',\n    SUCCESS: 'success',\n    DONE: 'done',\n    REJECTED: 'rejected',\n    ERROR: 'error'\n};\n\nexport function useLoadingState(loading, done, rejected, error) {\n    const [state, setState] = React.useState(loading === null || done\n        ? LOADING_STATE.DONE\n        : (rejected\n            ? LOADING_STATE.REJECTED\n            : LOADING_STATE.LOADING));\n    useUpdateEffect(() => {\n        if (loading === false) {\n            setState(LOADING_STATE.LOADED);\n        } else if (loading === true) {\n            setState(LOADING_STATE.LOADING);\n        }\n    }, [loading]);\n    useUpdateEffect(() => {\n        if (state === LOADING_STATE.LOADED && done) {\n            setState(LOADING_STATE.SUCCESS);\n        }\n        else if (state === LOADING_STATE.SUCCESS) {\n            const timeout = setTimeout(() => {\n                setState(LOADING_STATE.DONE);\n            }, 1000);\n            return () => {\n                clearTimeout(timeout);\n            };\n        }\n    }, [state, done]);\n    useUpdateEffect(() => {\n        if (error)\n            setState(LOADING_STATE.ERROR);\n    }, [error]);\n    useUpdateEffect(() => {\n        if (rejected)\n            setState(LOADING_STATE.REJECTED);\n    }, [rejected]);\n    return state;\n}\n\nexport const LoadingIndicator = ({state, onClick, errorMessage}) => {\n    const icon = (state === LOADING_STATE.LOADED && \"spinner-border\")\n        || (state === LOADING_STATE.SUCCESS && \"icon-check\")\n        || (state === LOADING_STATE.ERROR && \"icon-reload\")\n        || (state === LOADING_STATE.REJECTED && \"icon-alert\")\n        || \"spinner-border\";\n    return (\n        <SwitchTransition>\n            {state !== LOADING_STATE.DONE ? (\n                <CSSTransition\n                    key={icon}\n                    appear={true}\n                    classNames=\"animation-scale\"\n                    timeout={300}>\n                    <div\n                        className=\"file__state-indicator\"\n                        onClick={onClick}>\n                        <Tooltip content={errorMessage}>\n                            <i\n                                className={icon}/>\n                        </Tooltip>\n                    </div>\n                </CSSTransition>\n            ) : null}\n        </SwitchTransition>\n    );\n};\n","import React from 'react';\nimport Button from \"./Button\";\nimport {downloadFile} from \"../../definitions/helpers\";\nimport {LoadingIndicator, useLoadingState} from \"./LoadingIndicator\";\n\nconst File = ({\n                  file: {name, downloadName, url},\n                  error=null,\n                  rejected=null,\n                  loading=null,\n                  done=true,\n                  deletable=false,\n                  onDelete,\n                  onIndicatorClick,\n                  className,\n                  errorMessage,\n                  ...props\n              }) => {\n    const downloadCallback = React.useCallback(() => {\n        if (url)\n            downloadFile(url, downloadName || name);\n    }, [url, name, downloadName]);\n    const isUpload = loading !== null;\n    const state = useLoadingState(loading !== null ? loading < 100 : null, done, rejected, error);\n    return (\n        <div className={`file file-${state} ${className || ''}`}>\n            <Button\n                neutral\n                className=\"file__btn\"\n                icon={deletable\n                    ? <i className=\"icon-close file__action-btn file__delete-btn animated__action-button\"/>\n                    : <i className=\"icon-download file__action-btn file__download-btn animated__action-button\"/>}\n                iconAction={deletable ? onDelete : undefined}\n                onClick={downloadCallback}\n                {...props}>\n                {loading !== null && <div className=\"file__loading-progress\" style={{width: `${loading}%`}}/>}\n                <i className=\"file__icon far fa-file-alt\"/>\n                <span\n                    className=\"file__name\"\n                    title={name}>\n                {name}\n            </span>\n            </Button>\n            {isUpload && (\n                <LoadingIndicator\n                    onClick={onIndicatorClick}\n                    state={state}\n                    errorMessage={errorMessage}/>\n            )}\n        </div>\n    );\n};\n\nexport default File;\n\n","import React from \"react\";\n\nconst VideoPlayer = ({video_link}) => (\n    <div className=\"video-player\">\n        <iframe\n            className=\"video-player__video\"\n            src={`https://player.vimeo.com/video/${video_link}?color=fa9346&title=0&byline=0&portrait=0`}\n            frameBorder=\"0\"\n            allow=\"autoplay; fullscreen\"\n            allowFullScreen/>\n    </div>\n);\n\nexport default VideoPlayer;\n","import {CSSTransition} from \"react-transition-group\";\nimport ReactDOM from 'react-dom';\n\n//hack to get context because lib doesn't export it properly and import doesn't work\n// const TransitionGroupContext = Transition.contextType;\n//\n// const getClassNames = (classNames, type) => {\n//     const isStringClassNames = typeof classNames === 'string';\n//     const prefix = isStringClassNames && classNames\n//         ? `${classNames}-`\n//         : '';\n//\n//     let baseClassName = isStringClassNames\n//         ? `${prefix}${type}`\n//         : classNames[type];\n//\n//     let activeClassName = isStringClassNames\n//         ? `${baseClassName}-active`\n//         : classNames[`${type}Active`];\n//\n//     let doneClassName = isStringClassNames\n//         ? `${baseClassName}-done`\n//         : classNames[`${type}Done`];\n//\n//     return {\n//         baseClassName,\n//         activeClassName,\n//         doneClassName\n//     };\n// };\n//\n// function getClassName(classNames, type, phase) {\n//     // console.log(arguments);\n//     let className = getClassNames(classNames, type)[`${phase}ClassName`];\n//\n//     if (type === 'appear' && phase === 'done') {\n//         className += ` ${getClassNames(classNames, 'enter').doneClassName}`;\n//     }\n//\n//     return className;\n// }\n//\n// const State = {\n//     entering: 'entering',\n//     entered:  'entered',\n//     exiting:  'exiting',\n//     exited: 'exited'\n// };\n//\n// const StableCSSTransition = ({classNames='', appear, children, ...props}) => {\n//     const isMounting = !useIsMounted();\n//     const context = React.useContext(TransitionGroupContext);\n//         const appearingRef = React.useRef(context ? context.isMounting : appear);\n//     const prevStateRef = React.useRef(null);\n//     const appliedClassNamesRef = React.useRef('');\n//     return (\n//         <Transition\n//             // mountOnEnter\n//             // unmountOnExit\n//             {...props}\n//             appear={appear}>\n//             {(state) => {\n//                 const appearing = appearingRef.current;\n//                 const prevState = prevStateRef.current;\n//                 const animateMounting = context != null;\n//\n//                 console.log(prevState, '->', state);\n//                 let className = appliedClassNamesRef.current;\n//                 if (state === State.exited) {\n//                     if (prevState !== State.exiting) {\n//                         if (appearing) {\n//                             className = getClassName(classNames, 'appear', 'base');\n//                         }\n//                         else if (prevState !== null || animateMounting) {\n//                             className = getClassName(classNames, 'enter', 'base');\n//                         }\n//                     }\n//                     else {\n//                         className = getClassName(classNames, 'exit', 'done');\n//                     }\n//                 }\n//                 else if (state === State.exiting) {\n//                     className = getClassName(classNames, 'exit', 'active');\n//                 }\n//                 else if (state === State.entered) {\n//                     if (prevState === State.entered) {\n//                         className = getClassName(classNames, 'exit', 'base');\n//                     }\n//                     else if (prevState !== null || animateMounting) {\n//                         className = getClassName(classNames, appearing ? 'appear' : 'enter', 'done');\n//                     }\n//                     appearingRef.current = false;\n//                 }\n//                 else if (state === State.entering || animateMounting) {\n//                     className = getClassName(classNames, appearing ? 'appear' : 'enter', 'active');\n//                 }\n//                 prevStateRef.current = state;\n//                 appliedClassNamesRef.current = className;\n//                 console.log(className);\n//                 const child = React.Children.only(children);\n//                 return React.cloneElement(child, {\n//                     className: child.props.className ? `${child.props.className} ${className}` : className\n//                 });\n//             }}\n//         </Transition>\n//     );\n// };\n\nclass StableCSSTransition extends CSSTransition {\n    type = null;\n    phase = null;\n\n    addClass(node, type, phase) {\n        super.addClass(node, type, phase);\n        this.type = type;\n        this.phase = phase;\n    }\n\n    componentDidUpdate() {\n        if (this.appliedClasses[this.type] && this.appliedClasses[this.type][this.phase])\n            super.addClass(ReactDOM.findDOMNode(this), this.type, this.phase);\n    }\n}\n\nexport default StableCSSTransition;\n","import React from 'react';\nimport _ from 'lodash';\nimport Dropzone from \"react-dropzone-uploader\";\nimport {TransitionGroup} from \"react-transition-group\";\nimport {useRefValue} from \"hooks/common\";\nimport Auth from 'definitions/auth';\nimport {API_ROOT} from \"api\";\nimport {getAuthHeader, trimFileExtension} from \"definitions/helpers\";\nimport StableCSSTransition from \"components/common/StableCSSTransition\";\nimport {LOADING_STATE, LoadingIndicator, useLoadingState} from \"./LoadingIndicator\";\nimport File from \"./File\";\nimport Button from \"./Button\";\n\nimport 'react-dropzone-uploader/dist/styles.css';\n\nconst FILE_STATUS = {\n    rejected_file_type: 'rejected_file_type',\n    rejected_max_files: 'rejected_max_files',\n    preparing: 'preparing',\n    error_file_size: 'error_file_size',\n    error_validation: 'error_validation',\n    ready: 'ready',\n    started: 'started',\n    getting_upload_params: 'getting_upload_params',\n    error_upload_params: 'error_upload_params',\n    uploading: 'uploading',\n    exception_upload: 'exception_upload',\n    aborted: 'aborted',\n    restarted: 'restarted',\n    removed: 'removed',\n    error_upload: 'error_upload',\n    headers_received: 'headers_received',\n    done: 'done',\n};\nconst FileInputContext = React.createContext(null);\nconst isFileReady = f => f.meta.status === 'done';\nconst allFilesReady = files => files.every(f => isFileReady(f));\nconst getUploadParams = () => {\n    // return { url: 'https://httpbin.org/post' };\n    if (Auth.user) {\n        return {\n            url: `${API_ROOT}/files/`,\n            headers: getAuthHeader(Auth.user.uid, Auth.user.hash)\n        };\n    }\n    else\n        throw new Error('User not logged in');\n};\n\nconst getFileProp = ({file_name, file_link}) => ({\n    name: file_name,\n    url: file_link\n});\n\nconst Input = (props) => {\n    const {\n        className,\n        style,\n        getFilesFromEvent,\n        accept,\n        multiple,\n        disabled,\n        onFiles,\n        files,\n        content,\n        extra: { maxFiles }\n    } = props;\n    const onChange = React.useCallback(async e => {\n        const target = e.target;\n        const chosenFiles = await getFilesFromEvent(e);\n        onFiles(chosenFiles);\n        target.value = null\n    }, [getFilesFromEvent, onFiles]);\n    const isActive = files.length < maxFiles && !disabled;\n    return (\n        <Button\n            tag=\"label\"\n            active={isActive}\n            icon={<i className=\"icon-add\"/>}>\n            {content}\n            <input\n                className={className}\n                style={style}\n                type=\"file\"\n                accept={accept}\n                multiple={multiple}\n                disabled={!isActive}\n                onChange={isActive ? onChange : null}\n            />\n        </Button>\n    );\n};\n\nconst Preview = (props) => {\n    const {\n        fileWithMeta: { cancel, remove, restart, xhr },\n        meta: { name = '', percent = 0, status},\n        isUpload,\n        canRemove,\n        className\n    } = props;\n    const [getResponse, setResponse] = useRefValue(null);\n    if (!getResponse() && xhr && xhr.responseText) {\n        try {\n            const {file_name, file_link, file_id} = JSON.parse(xhr.responseText);\n            if (!(file_name && file_link && file_id))\n                throw new Error('Incorrect response');\n            setResponse({file_name, file_link, file_id});\n        }\n        catch (e) {\n            console.log(e);\n        }\n    }\n    const response = getResponse();\n    const deleteCallback = React.useCallback(() => {\n        if (isUpload && !(status === 'done' || status === 'headers_received')) {\n            cancel();\n        }\n        remove();\n    }, [cancel, remove, isUpload, status]);\n    const hasError = _.startsWith(status, 'error') || _.startsWith(status, 'exception');\n    const isRejected = status === FILE_STATUS.error_file_size ? true : undefined;\n    const loading = isUpload ? status === 'done' || status === 'headers_received' ? 100 : percent : null;\n    const isDone = status === 'done';\n    return (\n        <File\n            file={response ? getFileProp(response) : ({name})}\n            loading={loading}\n            className={className}\n            done={isDone}\n            rejected={hasError && isRejected ? true : undefined}\n            error={hasError}\n            errorMessage={hasError && isRejected ? 'Файл превышает максимальный допустимый размер' : undefined}\n            deletable={canRemove}\n            onDelete={deleteCallback}\n            onIndicatorClick={hasError && !isRejected ? restart : undefined}/>\n    );\n};\n\nconst SubmitButton = (props) => {\n    const {submitting, hasChanged} = React.useContext(FileInputContext) || ({});\n    const { disabled, onSubmit, files, content } = props;\n    const isDisabled = !allFilesReady(files) || disabled;\n\n    const submitCallback = React.useCallback(() => {\n        onSubmit(files);\n    }, [onSubmit, files]);\n\n    const state = useLoadingState(submitting, submitting === false);\n    console.log(state);\n    return (\n        <StableCSSTransition\n            in={onSubmit != null && (hasChanged || state !== LOADING_STATE.DONE)}\n            appear\n            mountOnEnter\n            unmountOnExit\n            classNames=\"animation-fade\"\n            timeout={300}>\n            <React.Fragment>\n                <Button\n                    active={!isDisabled}\n                    icon={\n                        hasChanged\n                            ? (<i className=\"icon-upload\"/>)\n                            : (<LoadingIndicator state={state}/>)\n                    }\n                    onClick={submitCallback}>\n                    {hasChanged ? content : 'Сохранено'}\n                </Button>\n            </React.Fragment>\n        </StableCSSTransition>\n    );\n};\n\nconst Layout = ({input, previews=[], submitButton, dropzoneProps, files, extra: { maxFiles } }) => {\n    const context = React.useContext(FileInputContext);\n    const {preloadedFiles=[], deletePreloadedFile, disabled} = context || ({});\n    const { ref } = dropzoneProps;\n    return (\n        <div\n            ref={ref}\n            className=\"file-input\">\n            {/*<StableCSSTransition*/}\n            {/*    in={previews.length > 0 || preloadedFiles.length > 0}*/}\n            {/*    mountOnEnter*/}\n            {/*    unmountOnExit*/}\n            {/*    classNames=\"animation-fade\"*/}\n            {/*    timeout={300}>*/}\n            <h4 className=\"file-input__files-title\">Загруженные файлы</h4>\n            {/*</StableCSSTransition>*/}\n            <TransitionGroup className=\"file-container\">\n                {\n                    preloadedFiles && (\n                        preloadedFiles.map((file) => {\n                            const {file_id} = file;\n                            const deleteCallback = () => {deletePreloadedFile(file);};\n                            return (\n                                <StableCSSTransition\n                                    classNames=\"animation-fade\"\n                                    timeout={300}\n                                    key={file_id}>\n                                    <File\n                                        file={getFileProp(file)}\n                                        done={true}\n                                        deletable={!disabled}\n                                        onDelete={deleteCallback}/>\n                                </StableCSSTransition>\n                            );\n                        }\n                    ))\n                }\n                {previews.map((preview, i) => (\n                    <StableCSSTransition\n                        classNames=\"animation-fade\"\n                        timeout={300}\n                        key={preview.props.meta.id}>\n                        {preview}\n                    </StableCSSTransition>\n                ))}\n            </TransitionGroup>\n            <div className=\"file-input__controls\">\n                {input}\n                {submitButton}\n            </div>\n        </div>\n    );\n};\n\nconst getCallbackFiles = (files, preloadedFiles) => {\n    if (!allFilesReady(files))\n        return null;\n    else\n        return _.concat(preloadedFiles, files.map(({xhr}) => JSON.parse(xhr.responseText)));\n};\n\n//TODO: check disabled on capturing phase of click\nconst FileInput = (props) => {\n    let {\n        initialFiles=[],\n        inputContent=\"Загрузить файл\",\n        onChange,\n        onSubmit,\n        maxFiles=5,\n        maxSizeBytes=1024 * 1024 * 4,\n        accept,\n        isDisabled=false,\n        ...otherProps\n    } = props;\n\n    const [preloadedFiles, setPreloadedFiles] = React.useState(initialFiles);\n    const [hasChanged, setChanged] = React.useState(false);\n    const [submitting, setSubmitting] = React.useState(null);\n    const [getInputFiles, setInputFiles] = useRefValue([]);\n\n    const deletePreloadedFile = React.useCallback((file) => {\n        const newPreloadedFiles = preloadedFiles.filter(item => item !== file);\n        setChanged(true);\n        setPreloadedFiles(newPreloadedFiles);\n        onChange && onChange(getCallbackFiles(getInputFiles(), newPreloadedFiles));\n    }, [preloadedFiles, onChange, getInputFiles]);\n\n    const handleChangeStatus = React.useCallback(({meta, ...file}, status, files) => {\n        console.log(status, meta, _.cloneDeep(files));\n        setChanged(true);\n        setInputFiles(files);\n        onChange && onChange(true, getCallbackFiles(files, preloadedFiles));\n    }, [onChange, preloadedFiles, setInputFiles]);\n\n    const handleSubmit = React.useCallback(async (files) => {\n        console.log(files.map(f => f.meta));\n        if (onSubmit) {\n            const filesToSubmit = getCallbackFiles(files, preloadedFiles);\n            const returnValue = onSubmit(filesToSubmit);\n            if (returnValue instanceof Promise) {\n                setSubmitting(true);\n                try {\n                    await returnValue;\n                    setChanged(false);\n                    onChange && onChange(false, filesToSubmit);\n                }\n                finally {\n                    setSubmitting(false);\n                }\n            }\n        }\n    }, [onSubmit, preloadedFiles]);\n\n    maxFiles = preloadedFiles ? maxFiles - preloadedFiles.length : maxFiles;\n    const disabled = typeof isDisabled === 'function' ? isDisabled() : isDisabled;\n    return (\n        <FileInputContext.Provider\n            value={{\n                preloadedFiles,\n                deletePreloadedFile,\n                hasChanged,\n                disabled,\n                submitting\n            }}>\n            <Dropzone\n                inputContent={inputContent}\n                submitButtonContent={'Сохранить'}\n                {...otherProps}\n                getUploadParams={getUploadParams}\n                onChangeStatus={handleChangeStatus}\n                onSubmit={onSubmit && handleSubmit}\n                canCancel={false}\n                SubmitButtonComponent={SubmitButton}\n                LayoutComponent={Layout}\n                InputComponent={Input}\n                PreviewComponent={Preview}\n                maxFiles={maxFiles}\n                maxSizeBytes={maxSizeBytes}\n                accept={accept}\n                classNames={{preview: ''}}\n                disabled={isDisabled}\n            />\n        </FileInputContext.Provider>\n    )\n};\n\nexport default FileInput;\n\n\n","import React from 'react';\nimport {Prompt} from \"react-router-dom\";\n\nconst NavigationBlocker = () => {\n    const unloadCallback = React.useCallback((event) => {\n        // Cancel the event as stated by the standard.\n        event.preventDefault();\n        // Chrome requires returnValue to be set.\n        event.returnValue = '';\n    }, []);\n    React.useEffect(() => {\n        window.addEventListener('beforeunload', unloadCallback);\n        return () => {\n            window.removeEventListener('beforeunload', unloadCallback);\n        };\n    }, [unloadCallback]);\n    return (\n        <Prompt\n            message='У вас есть несохраненные изменения, покинуть страницу?'\n        />\n    );\n};\n\nexport default NavigationBlocker;\n","import React from \"react\";\nimport FileInput from \"components/ui/FileInput\";\nimport APIRequest from \"api\";\nimport NavigationBlocker from \"components/common/NavigationBlocker\";\nimport {useHomework} from \"store\";\n\nconst HomeworkLoader = ({homework, deadline, lessonId}) => {\n    const isHomeworkSubmissionClosed = React.useCallback(() => deadline && new Date() >= deadline, [deadline]);\n    const [hasChanges, setChanges] = React.useState(false);\n    const onChange = React.useCallback((changed, files) => {\n        console.log('files changed', changed, files);\n        setChanges(changed);\n    }, []);\n    const onSubmit = React.useCallback(async (files) => {\n        console.log('files submitted', files);\n        const file = files[0] ? files[0].file_id : null;\n        //TODO: add error alert\n        return APIRequest({\n            url: `/lessons/${lessonId}/homeworks/pupil`,\n            method: file ? 'PUT' : 'DELETE',\n            data: {\n                file\n            }\n        }).then(() => {\n            console.log('loaded');\n            setChanges(false);\n        });\n        // return Promise.resolve();\n    }, [homework, lessonId, setChanges]);\n    return (\n        <div className=\"submission\">\n            {hasChanges && <NavigationBlocker/>}\n            <FileInput\n                maxFiles={1}\n                // accept=\"image/*,audio/*,video/*\"\n                initialFiles={homework.files}\n                onChange={onChange}\n                onSubmit={onSubmit}\n                isDisabled={isHomeworkSubmissionClosed}/>\n        </div>\n    );\n};\n\nexport default HomeworkLoader;\n","import React from \"react\";\nimport File from \"components/ui/File\";\nimport VideoPlayer from \"components/common/VideoPlayer\";\nimport {renderDate} from \"definitions/helpers\";\nimport HomeworkLoader from \"./HomeworkLoader\";\n\nconst LessonView = ({lesson: {id, name, image_link: cover, video_link: video, description, assignment}, homework}) => {\n    return (\n        <div className=\"col-12 col-lg layout__content-block lesson-page__current-lesson\">\n            <div className=\"block-container video-container\">\n                <VideoPlayer video_link={video}/>\n            </div>\n            <div className=\"block-container description-container\">\n                <h2>{name}</h2>\n                <div className=\"description-text\">{description}</div>\n            </div>\n            {assignment && (\n                <div className=\"block-container hw-container\">\n                    <h3>Домашнее задание</h3>\n                    <div className=\"assignment\">\n                        {assignment.files && (\n                            <div className=\"assignment__files file-container\">\n                                {assignment.files.map((assignment, i) => (\n                                    <File file={assignment} key={i}/>\n                                ))}\n                            </div>\n                        )}\n                        {assignment.description && <div className=\"description-text\">{assignment.description}</div>}\n                        {assignment.deadline &&\n                        <div className=\"assignment__deadline\">Дедлайн: {renderDate(assignment.deadline, renderDate.date)}</div>}\n                    </div>\n                    <HomeworkLoader\n                        homework={homework}\n                        deadline={assignment.deadline}\n                        lessonId={id}/>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default LessonView;\n","import React from \"react\";\nimport _ from \"lodash\";\nimport Page, {PageContent, PageLoadingPlaceholder} from \"components/Page\";\nimport ErrorPage from \"components/ErrorPage\";\nimport Lesson from \"components/common/Lesson\";\nimport List from \"components/common/List\";\nimport LessonView from \"./LessonView\";\nimport {useHomework, useLessons, useUserCourses} from \"store\";\n\nconst LessonPage = (props) => {\n    const {match: {params: {courseId: param_course, lessonId: param_lesson}}, location} = props;\n    const courseId = parseInt(param_course);\n    const lessonId = parseInt(param_lesson);\n\n    const {courses, error, retry} = useUserCourses();\n    // const {teachers, error: errorLoadingTeachers, retry: reloadTeachers} = useTeachers();\n    const {lessons, error: errorLoadingLessons, retry: reloadLessons} = useLessons(courseId);\n    const {homework, error: errorLoadingHomework, retry: reloadHomework} = useHomework(lessonId);\n    const renderLesson = (lesson) => {\n        const {id, locked} = lesson;\n        return (\n            <Lesson\n                lesson={lesson}\n                locked={locked}\n                selectable={!locked}\n                key={id}\n                link={`../${lesson.id}/`}>\n            </Lesson>\n        );\n    };\n\n    if (courses && lessons && homework) {\n        const course = _.find(courses, {id: courseId});\n        const selectedLesson = (course && _.find(lessons, {id: lessonId})) || null;\n        if (selectedLesson && !selectedLesson.locked) {\n            let nextVideo = lessons[selectedLesson.num];\n            if (!nextVideo || nextVideo.locked)\n                nextVideo = null;\n            const otherLessons = _.sortBy(lessons.filter(lesson => (\n                lesson.id !== selectedLesson.id && (nextVideo ? lesson.id !== nextVideo.id : true\n                ))), 'num');\n            return (\n                <Page title={`${selectedLesson.title}`} className=\"lesson-page\" location={location}>\n                    <PageContent parentSection={{name: course.name}}>\n                        <div className=\"layout__content-block\">\n                            <div className=\"container p-lg-0\">\n                                <div className=\"row\">\n                                    <LessonView lesson={selectedLesson} homework={homework}/>\n                                    <div className=\"col-12 col-lg-auto layout__content-block lesson-page__other-lessons\">\n                                        {nextVideo && <h3>Следующее занятие</h3>}\n                                        {nextVideo && (\n                                            <List renderItem={renderLesson}>{[nextVideo]}</List>\n                                        )}\n                                        {(otherLessons && otherLessons.length > 0) && (\n                                            <React.Fragment>\n                                                <h3>Другие занятия</h3>\n                                                <List\n                                                    renderItem={renderLesson}>\n                                                    {otherLessons}\n                                                </List>\n                                            </React.Fragment>\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </PageContent>\n                </Page>\n            );\n        } else\n            return <ErrorPage errorCode={404} message=\"Урок не найден\" />;\n    } else {\n        return (\n            <Page\n                location={location}>\n                <PageLoadingPlaceholder/>\n            </Page>\n        );\n    }\n};\n\nexport default LessonPage;\n","import React from 'react';\nimport _ from 'lodash';\nimport { Switch, Route } from \"react-router-dom\";\nimport {MY_COURSES} from \"data/test_data\";\nimport {LEARNING_STATUS} from \"definitions/constants\";\nimport CatalogPage from \"./catalog-page\";\nimport CoursePage from \"./course-page\";\nimport LessonPage from \"./lesson-page\";\n\nexport default class MyCourses extends React.Component {\n    state = {\n        courses: _.sortBy(MY_COURSES, (course) => course.status === LEARNING_STATUS.finished ? 1 : 0)\n    };\n\n    render() {\n        const {match} = this.props;\n        const {courses} = this.state;\n        return (\n            <Switch>\n                <Route path={`${match.path}/:courseId/:lessonId`} render={(props) => (\n                    <LessonPage catalog={courses}\n                                {...props}/>\n                )}/>\n                <Route path={`${match.path}/:id`} render={(props) => (\n                    <CoursePage\n                        catalog={courses}\n                        path={match.path}\n                        {...props}/>\n                )}/>\n                <Route exact path={`${match.path}`} render={(props) => (\n                    <CatalogPage catalog={courses} {...props}/>\n                )}/>\n            </Switch>\n        )\n    }\n}\n","import React from 'react';\nimport {CSSTransition} from \"react-transition-group\";\nimport {BrowserRouter as Router, Redirect, Route, Switch, useHistory, useLocation} from \"react-router-dom\";\nimport Header from \"./Header\";\nimport SideBar from \"./SideBar\";\nimport Page from \"./Page\";\nimport {useRefValue} from \"hooks/common\";\nimport GlobalStore, {useUser} from \"store\";\n\nimport Login from \"./pages/login\";\nimport Account from \"./pages/account\";\nimport Teachers from \"./pages/teachers\";\nimport Shop from \"./pages/shop\";\nimport MyCourses from \"./pages/courses\";\n\nimport 'sass/index.scss';\nimport ErrorPage from \"./ErrorPage\";\n\nfunction useLocationChangeEffect(effect) {\n    const history = useHistory();\n    React.useEffect(() => {\n        return history.listen(effect);\n    }, [history, effect]);\n}\n\nfunction useScrollToTop() {\n    const [getPrevPath, setPrevPath] = useRefValue(useLocation().pathname);\n    const onLocationChange = React.useCallback((location, action) => {\n        console.log('update');\n        if (getPrevPath() !== location.pathname && action !== 'POP') {\n            window.scrollTo(0, 0);\n        }\n        setPrevPath(location.pathname);\n    }, [getPrevPath, setPrevPath]);\n    useLocationChangeEffect(onLocationChange);\n}\n\nfunction useForceTrailingSlash() {\n    const location = useLocation();\n    const history = useHistory();\n    const path = location.pathname;\n    if (path.slice(-1) !== '/') {\n        history.replace(path + '/');\n    }\n}\n\nfunction useSideBarState() {\n    const [isSideBarOpened, setSideBar] = React.useState(false);\n    const toggleSideBar = React.useCallback(() => {\n        setSideBar(opened => !opened);\n    }, []);\n    return [isSideBarOpened, toggleSideBar];\n}\n\nconst onLocationChange = (location, args) => {\n    console.log(`- - - location: '${location.pathname}'`, args);\n};\n\nconst DefaultRedirect = () => <Redirect to=\"/courses\"/>;\n\nfunction App() {\n    // routing effects\n    useForceTrailingSlash();\n    useScrollToTop();\n    useLocationChangeEffect(onLocationChange);\n\n    const [isSideBarOpened, toggleSideBar] = useSideBarState();\n    const {user, userInfo} = useUser();\n    const showSidebar = user !== null;\n    return (\n        <div className=\"app\">\n            <Header\n                onMenuButtonClick={toggleSideBar}\n                user={user}\n                sidebar={showSidebar}/>\n            <CSSTransition\n                in={isSideBarOpened}\n                timeout={200}\n                classNames={App.layoutAnimationClassNames}>\n                <div className=\"layout\">\n                    <React.Fragment>\n                        {showSidebar && (\n                            <SideBar\n                                accountRoles={user ? (userInfo ? userInfo.roles : undefined) : null}\n                                onMenuClose={toggleSideBar}/>\n                        )}\n                        <Switch>\n                            <Route path=\"/index.html\" component={DefaultRedirect}/>\n                            <Route exact path=\"/\" component={DefaultRedirect}/>\n                            <Route path=\"/login\" component={Login}/>\n                            <Route path=\"/courses\" component={MyCourses}/>\n                            <Route path=\"/shop\" component={Shop}/>\n                            <Route path=\"/teachers\" component={Teachers}/>\n                            <Route path=\"/account\" component={Account}/>\n                            {/*<Route path=\"/:section\" component={Page}/>*/}\n                            <Route component={ErrorPage}/>\n                        </Switch>\n                    </React.Fragment>\n                </div>\n            </CSSTransition>\n        </div>\n    );\n}\n\nApp.layoutAnimationClassNames = {\n    enter: 'sidebar-opened',\n    enterActive: 'sidebar-opened',\n    enterDone: 'sidebar-opened',\n    exit: 'sidebar-hiding',\n    exitActive: 'sidebar-hiding'\n};\n\nexport default () => (\n    <Router basename={process.env.REACT_APP_BASE_URL}>\n        <GlobalStore>\n            <App/>\n        </GlobalStore>\n    </Router>\n);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'definitions/polyfills';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/dummy_poster.f51c6af6.jpg\";"],"sourceRoot":""}