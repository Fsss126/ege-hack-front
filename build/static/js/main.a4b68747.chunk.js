(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{219:function(e,t,a){e.exports=a.p+"static/media/logo.9d4c48e7.svg"},225:function(e,t,a){e.exports=a.p+"static/media/dummy-pic.c0547b67.jpg"},233:function(e,t,a){e.exports=a(501)},500:function(e,t,a){},501:function(e,t,a){"use strict";a.r(t);a(234),a(243);var n=a(218);Object(n.a)(window),function(){if("function"===typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}e.prototype=window.Event.prototype,window.CustomEvent=e}();var r=a(0),c=a.n(r),s=a(45),o=a.n(s),l=a(4),i=a(503),u=a(61),m=a(20),d=a(219),f=a.n(d),p=a(7),v=a.n(p),b=a(18),h=a(28),E=a(38),g=a(5),_=a(22),k=a(6),w=a.n(k),O=a(109),j=a.n(O),N="ADMIN",y="MODERATOR",C="TEACHER",x="PUPIL",S={learning:"learning",finished:"finished"},P=function(e,t){var a=new Date(e.getYear(),e.getMonth(),e.getDate()).getTime(),n=new Date(t.getYear(),t.getMonth(),t.getDate()).getTime()-a;return Math.floor(n/864e5)},D=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ru";return e.toLocaleString(a,t)};Object.assign(D,{date:{day:"numeric",month:"long"},shortDate:{day:"numeric",month:"numeric"},hour:{hour:"numeric",minute:"numeric"}});var I=function(){var e=Object(b.a)(v.a.mark(function e(t,a){var n,r,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t,a),!navigator.msSaveBlob){e.next=8;break}return e.next=4,fetch(t).then(function(e){return e.blob()});case 4:return n=e.sent,e.abrupt("return",navigator.msSaveBlob(n,a));case 8:(r=document.createElement("a")).download=a,r.href=t,c=new MouseEvent("click"),r.dispatchEvent(c);case 13:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}();function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach(function(t){Object(_.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var T="https://egehackplatform.ru",R=j.a.CancelToken,z=function(){var e=R.source();return{token:e.token,cancel:e.cancel}},A=j.a.create({baseURL:T,paramsSerializer:function(e){var t=new URLSearchParams;return w.a.forEach(e,function(e,a){if(e instanceof Array){var n=!0,r=!1,c=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var l=s.value;t.append(a,l)}}catch(i){r=!0,c=i}finally{try{n||null==o.return||o.return()}finally{if(r)throw c}}}else t.append(a,e)}),t.toString()}});A.interceptors.request.use(function(e){if(V.user)return F({auth:{username:V.user.uid,password:V.user.hash}},e);throw new j.a.Cancel("User not logged in.")});A.interceptors.response.use(function(e){var t=e.config,a=e.data;if("get"!==t.method)return e.data;var n=new URL(t.url);switch(!0){case"/accounts/teachers"===n.pathname:return a.map(function(e){return F({id:e.account_id},Object(g.a)(e,["account_id"]))});case"/courses"===n.pathname:return a.map(function(e){var a=e.date_start,n=e.date_end,r=e.image_link,c=e.teacher_id,s=Object(g.a)(e,["date_start","date_end","image_link","teacher_id"]);return F({date_start:new Date(a),date_end:new Date(n),image_link:"".concat(T).concat(r),teacher_ids:[c],status:"PERSON"===t.params.group?S.learning:void 0},s)});case"/lessons"===n.pathname:return w.a.sortBy(a,"num").map(function(e){var t=e.hometask,a=e.is_locked,n=Object(g.a)(e,["hometask","is_locked"]);return F({},n,{locked:a,image_link:"".concat(T).concat(n.image_link),assignment:t?{deadline:t.deadline?new Date(t.deadline):t.deadline,description:t.description,files:t.file_info?[{name:t.file_info.file_name,url:"".concat(T).concat(t.file_info.file_link,"?disp=attachment")}]:t.file_link}:t})});case/\/lessons\/(.*)\/homeworks\/pupil$/.test(n.pathname):var r=e.data,c=r.file_info,s=c.file_id,o=c.file_name,l=c.file_link;return r.date,F({},Object(g.a)(r,["file_info","date"]),{date:new Date,files:[{file_name:o,file_id:s,file_link:"".concat(T).concat(l,"?disp=attachment")}]});case"/courses/schedule/person"===n.pathname:case/\/courses\/(.*)\/schedule\/person$/.test(n.pathname):return w.a.sortBy(a.map(function(e){var t=e.webinar,a=t.date_start,n=t.duration,r=Object(g.a)(t,["date_start","duration"]),c=e.image_link,s=Object(g.a)(e,["webinar","image_link"]);return F({date_start:new Date(a),date_end:new Date(a+1e3*n*60),duration:n,image_link:"".concat(T).concat(c)},r,{},s)}),"date_start");default:return e.data}},function(e){if(!e.toJSON)throw e;var t=e.toJSON().config,a=new URL(t.url);if(!e.response||404!==e.response.status)throw e;switch(!0){case/\/lessons\/(.*)\/homeworks\/pupil$/.test(a.pathname):return{data:{}};default:throw e}}),window.APIRequest=A;var B=A,M="ege-hack-user-data",U={login:"auth.login",logout:"auth.logout"},H=!0;VK.init({apiId:"7228636"},!0);var V=new(function(){function e(){var t=this;Object(h.a)(this,e),this.user=null,this.eventHandlers={},this.login=function(){var e=Object(b.a)(v.a.mark(function e(a){var n,r,c,s,o;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(VK){e.next=2;break}return e.abrupt("return");case 2:for(H||VK.init({apiId:"7228636"},!0),console.info("Login",a),localStorage.setItem(M,JSON.stringify(a)),t.user=a,n=!0,r=!1,c=void 0,e.prev=9,s=(t.eventHandlers[U.login]||[])[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)(0,o.value)(t.user);e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),r=!0,c=e.t0;case 17:e.prev=17,e.prev=18,n||null==s.return||s.return();case 20:if(e.prev=20,!r){e.next=23;break}throw c;case 23:return e.finish(20);case 24:return e.finish(17);case 25:case"end":return e.stop()}},e,null,[[9,13,17,25],[18,,20,24]])}));return function(t){return e.apply(this,arguments)}}(),this.logout=function(){console.info("Logout"),localStorage.removeItem(M),t.user=null,t.userInfo=null;var e=!0,a=!1,n=void 0;try{for(var r,c=(t.eventHandlers[U.logout]||[])[Symbol.iterator]();!(e=(r=c.next()).done);e=!0){(0,r.value)()}}catch(s){a=!0,n=s}finally{try{e||null==c.return||c.return()}finally{if(a)throw n}}};try{var a=localStorage.getItem(M);if(!a)return void(this.user=null);var n=JSON.parse(a),r=n.uid,c=n.first_name,s=n.last_name,o=n.photo,l=n.photo_rec,i=n.hash;if(!r||!i)throw new Error("Incomplete data parsed from local storage: ".concat(a));this.user={uid:r,first_name:c,last_name:s,photo:o,photo_rec:l,hash:i}}catch(u){console.error("User data can not be recovered",u),localStorage.removeItem(M),this.user=null}}return Object(E.a)(e,[{key:"subscribe",value:function(e,t){(this.eventHandlers[e]||(this.eventHandlers[e]=[])).push(t)}},{key:"unsubscribe",value:function(e,t){this.eventHandlers[e]=this.eventHandlers[e].filter(function(e){return e!==t})}},{key:"getUser",value:function(){return this.user}},{key:"getUserInfo",value:function(){var e=Object(b.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.userInfo){e.next=2;break}return e.abrupt("return",this.userInfo);case 2:return e.prev=2,e.next=5,B.get("/accounts/info");case 5:this.userInfo=e.sent,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),this.userInfo=null;case 12:return e.abrupt("return",this.userInfo);case 13:case"end":return e.stop()}},e,this,[[2,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"loginWidget",value:function(e){VK&&(H||VK.init({apiId:"7228636"}),VK.Widgets.Auth(e,{onAuth:this.login}))}}]),e}()),W=function(e){var t=e.src,a=e.className,n=e.children,r=e.square,s=void 0!==r&&r,o=e.round,l=void 0!==o&&o;return c.a.createElement("div",{className:"".concat(a||""," cover ").concat(s?"square-cover":""," ").concat(l?"round-cover":"")},c.a.createElement("div",{className:"cover-img",style:{backgroundImage:"url(".concat(t,")")}}),n)},J=function(e){var t=e.onMenuButtonClick,a=e.user,n=e.sidebar;return c.a.createElement("header",null,c.a.createElement("div",{className:"container-fluid header__container"},c.a.createElement("div",{className:"row"},n&&c.a.createElement("div",{className:"col-auto d-lg-none"},c.a.createElement("div",{className:"nav-btn",onClick:t},c.a.createElement("i",{className:"icon-bars"}))),c.a.createElement("div",{className:"col d-flex justify-content-center justify-content-lg-start p-0"},c.a.createElement("div",{className:"logo-container container d-flex align-items-center justify-content-center m-0"},c.a.createElement("img",{src:f.a,className:"logo",alt:"Logo"}))),c.a.createElement("div",{className:"col-auto d-flex"},c.a.createElement("div",{className:"user-nav"},a?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"user-nav__user-name"},a.first_name," ",a.last_name),a.photo_rec?c.a.createElement("div",{className:"nav-btn"},c.a.createElement(W,{src:a.photo_rec,round:!0,square:!0})):c.a.createElement("div",{className:"nav-btn"},c.a.createElement("i",{className:"icon-profile"})),c.a.createElement("div",{className:"user-nav__menu-container"},c.a.createElement("div",{className:"user-nav__menu"},c.a.createElement("div",{className:"user-nav__menu-options"},c.a.createElement(m.b,{to:"/account/",className:"menu-option"},c.a.createElement("i",{className:"icon-profile"}),"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"),c.a.createElement(m.b,{to:"/account/settings/",className:"menu-option"},c.a.createElement("i",{className:"icon-settings"}),"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),c.a.createElement("div",{className:"menu-option",tabIndex:2,onClick:V.logout},c.a.createElement("i",{className:"icon-logout"}),"\u0412\u044b\u0445\u043e\u0434"))))):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"nav-btn"},c.a.createElement("i",{className:"icon-profile"})),c.a.createElement("div",{className:"user-nav__menu-container"},c.a.createElement("div",{className:"user-nav__menu"},c.a.createElement("div",{className:"user-nav__menu-options"},c.a.createElement(m.b,{to:"/login/",className:"menu-option"},c.a.createElement("i",{className:"icon-login"}),"\u0412\u043e\u0439\u0442\u0438"))))))))))},K=a(39),q=a(25),G=a(40);function $(e){var t=e.contacts,a=t.vk,n=t.fb,r=t.ok,s=t.ig;return c.a.createElement("div",{className:"social-media font-light-grey"},a&&c.a.createElement("a",{href:a,className:"social-media__link"},c.a.createElement("i",{className:"fab fa-vk vk"})),n&&c.a.createElement("a",{href:n,className:"social-media__link"},c.a.createElement("i",{className:"fab fa-facebook-f fb"})),r&&c.a.createElement("a",{href:r,className:"social-media__link"},c.a.createElement("i",{className:"fab fa-odnoklassniki ok"})),s&&c.a.createElement("a",{href:s,className:"social-media__link"},c.a.createElement("i",{className:"fab fa-instagram ig"})))}function Y(e){return c.a.createElement(m.c,Object.assign({className:"layout__sidebar-menu-link",activeClassName:"active"},e))}var Q=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(K.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(e){(e.target===e.currentTarget||e.target.classList.contains("layout__sidebar-menu-link"))&&a.props.onMenuClose()},a}return Object(G.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e,t,a,n=this.props.accountRoles;return void 0===n?(e=void 0,t=void 0,void 0,a=void 0):null===n&&(e=null,t=null,null,a=null),n&&(e=w.a.includes(n,N),t=w.a.includes(n,y),w.a.includes(n,C),a=w.a.includes(n,x)),null===n?null:c.a.createElement("div",{className:"layout__sidebar",onClick:this.onClick},c.a.createElement("div",{className:"layout__sidebar-bar"},void 0===n?c.a.createElement("div",{className:"layout__sidebar-content"},c.a.createElement("div",{className:"layout__sidebar-menu ph-item"},c.a.createElement("div",{className:"layout__sidebar-menu-section"},c.a.createElement("div",{className:"layout__sidebar-menu-link"},c.a.createElement("div",{className:"ph-text"})),c.a.createElement("div",{className:"layout__sidebar-menu-link"},c.a.createElement("div",{className:"ph-text"})),c.a.createElement("div",{className:"layout__sidebar-menu-link"},c.a.createElement("div",{className:"ph-text"})),c.a.createElement("div",{className:"layout__sidebar-menu-link"},c.a.createElement("div",{className:"ph-text"})),c.a.createElement("div",{className:"layout__sidebar-menu-link"},c.a.createElement("div",{className:"ph-text"}))))):c.a.createElement("div",{className:"layout__sidebar-content"},c.a.createElement("div",{className:"layout__sidebar-menu"},a&&c.a.createElement("div",{className:"layout__sidebar-menu-section"},c.a.createElement(Y,{to:"/courses/"},"\u041c\u043e\u0438 \u043a\u0443\u0440\u0441\u044b")),c.a.createElement("div",{className:"layout__sidebar-menu-section"},c.a.createElement(Y,{to:"/shop/"},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043a\u0443\u0440\u0441\u043e\u0432"),c.a.createElement(Y,{to:"/teachers/"},"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438"),c.a.createElement(Y,{to:"/about/"},"\u041e \u043d\u0430\u0441")),(e||t)&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"layout__sidebar-menu-section"},c.a.createElement(Y,{to:"/courses/"},"\u041c\u043e\u0438 \u043a\u0443\u0440\u0441\u044b"),c.a.createElement(Y,{to:"/homework/"},"\u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0440\u0430\u0431\u043e\u0442\u0430")),c.a.createElement("div",{className:"layout__sidebar-menu-section"},c.a.createElement(Y,{to:"/shop/"},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043a\u0443\u0440\u0441\u043e\u0432"),c.a.createElement(Y,{to:"/teachers/"},"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438")))),c.a.createElement($,{contacts:{vk:"/",fb:"/",ig:"/"}}),c.a.createElement("div",{className:"layout__sidebar-copyright font-size-sm font-light-grey"},"\u0412\u0441\u0435 \u043f\u0440\u0430\u0432\u0430 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u044b",c.a.createElement("br",null),'"\u0415\u0413\u042dHACK"'))))}}]),t}(c.a.Component),X=a(222),Z=a(223),ee=a.n(Z),te=a(108);function ae(e){var t=c.a.useRef(null),a=c.a.useState("complete"===document.readyState),n=Object(l.a)(a,2),r=n[0],s=n[1];return c.a.useEffect(function(){if(e){if(window.addEventListener("resize",n),r)return function(){window.removeEventListener("resize",n)};if("complete"===document.readyState)return s(!0),function(){window.removeEventListener("resize",n)};var a=function(){s(!0)};return window.addEventListener("load",a),function(){window.removeEventListener("load",a)}}function n(){t.current&&t.current.onResize()}},[r,e]),[t,r]}function ne(e){var t=c.a.useRef(e);return[c.a.useCallback(function(){return t.current},[]),c.a.useCallback(function(e){t.current=e},[])]}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=c.a.useRef(!0);c.a.useEffect(function(){a.current||e()},t),c.a.useEffect(function(){a.current=!1},[])}function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(a,!0).forEach(function(t){Object(_.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var oe=c.a.createContext(null);var le=function(){return c.a.useState(null)},ie=function(){return c.a.useState(null)},ue=function(){return c.a.useState(null)},me=function(){return c.a.useState(null)},de=function(){return c.a.useState({})},fe=function(){return c.a.useState({})};var pe={};function ve(){var e=c.a.useContext(oe),t=e.data.subjects,a=e.setters.setSubjects,n=c.a.useState(null),r=Object(l.a)(n,2),s=r[0],o=r[1],i=c.a.useCallback(Object(b.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!pe.subjects){e.next=2;break}return e.abrupt("return",pe.subjects);case 2:return t=B.get("/subjects"),pe.subjects=t,e.prev=4,s&&o(null),e.next=8,t;case 8:n=e.sent,a(n),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0),o(e.t0);case 16:return e.prev=16,delete pe.subjects,e.finish(16);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}},e,null,[[4,12,16,19]])})),[s]);return c.a.useEffect(function(){t||pe.subjects||s||i()},[t,s]),s?{subjects:t,error:s,retry:i}:{subjects:t}}function be(e){var t=c.a.useState(null),a=Object(l.a)(t,2),n=a[0],r=a[1],s=c.a.useState(null),o=Object(l.a)(s,2),i=o[0],u=o[1],m=ne(null),d=Object(l.a)(m,2),f=d[0],p=d[1],h=c.a.useCallback(Object(b.a)(v.a.mark(function t(){var a,n,c,s,o,l;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(a=e instanceof Set?Object(te.a)(e).map(function(e){return e.id}):[e]).length){t.next=3;break}return t.abrupt("return");case 3:return(n=f())&&n(),c=z(),s=c.token,o=c.cancel,p(o),t.prev=7,i&&u(null),r(null),t.next=12,B.get("/payments/discounts",{params:{coursesIds:a},cancelToken:s});case 12:l=t.sent,r(l),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(7),console.log("error loading discount",t.t0),u(t.t0);case 20:case"end":return t.stop()}},t,null,[[7,16]])})),[e,i]);return c.a.useEffect(function(){i||h()},[e,i]),i?{discount:n,error:i,retry:h}:{discount:n}}function he(){var e=ve(),t=e.subjects,a=e.errorLoadingSubjects,n=e.reloadSubjects,r=c.a.useContext(oe),s=r.data.teachers,o=r.setters.setTeachers,i=c.a.useState(null),u=Object(l.a)(i,2),m=u[0],d=u[1],f=c.a.useCallback(Object(b.a)(v.a.mark(function e(){var t,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!pe.teachers){e.next=2;break}return e.abrupt("return",pe.teachers);case 2:return t=B.get("/accounts/teachers"),pe.teachers=t,e.prev=4,m&&d(null),e.next=8,t;case 8:a=e.sent,console.log("set teachers",a),o(a),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0),d(e.t0);case 17:return e.prev=17,delete pe.teachers,e.finish(17);case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}},e,null,[[4,13,17,20]])})),[m]);return c.a.useEffect(function(){s||pe.teachers||m||f()},[s,m]),m||a?{teachers:s,subjects:t,error:m||a,retry:function(){m&&f(),a&&n()}}:{teachers:s,subjects:t}}function Ee(){var e=ve(),t=e.subjects,a=e.errorLoadingSubjects,n=e.reloadSubjects,r=c.a.useContext(oe),s=r.data.catalog,o=r.setters.setCatalog,i=c.a.useState(null),u=Object(l.a)(i,2),m=u[0],d=u[1],f=c.a.useCallback(Object(b.a)(v.a.mark(function e(){var t,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!pe.shopCatalog){e.next=2;break}return e.abrupt("return",pe.shopCatalog);case 2:return t=B.get("/courses",{params:{group:"MARKET"}}),pe.shopCatalog=t,e.prev=4,m&&d(null),e.next=8,t;case 8:a=e.sent,o(a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0),d(e.t0);case 16:return e.prev=16,delete pe.shopCatalog,e.finish(16);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}},e,null,[[4,12,16,19]])})),[m]);return c.a.useEffect(function(){s||pe.shopCatalog||m||f()},[s,m]),m||a?{catalog:s,subjects:t,error:m||a,retry:function(){m&&f(),a&&n()}}:{catalog:s,subjects:t}}function ge(){var e=ve(),t=e.subjects,a=e.errorLoadingSubjects,n=e.reloadSubjects,r=c.a.useContext(oe),s=r.data.userCourses,o=r.setters.setUserCourses,i=c.a.useState(null),u=Object(l.a)(i,2),m=u[0],d=u[1],f=c.a.useCallback(Object(b.a)(v.a.mark(function e(){var t,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!pe.userCourses){e.next=2;break}return e.abrupt("return",pe.userCourses);case 2:return t=B.get("/courses",{params:{group:"PERSON"}}),pe.userCourses=t,e.prev=4,m&&d(null),e.next=8,t;case 8:a=e.sent,o(a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0),d(e.t0);case 16:return e.prev=16,delete pe.userCourses,e.finish(16);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}},e,null,[[4,12,16,19]])})),[m]);return c.a.useEffect(function(){s||pe.userCourses||m||f()},[s,m]),m||a?{courses:s,subjects:t,error:m||a,retry:function(){m&&f(),a&&n()}}:{courses:s,subjects:t}}function _e(e){var t=c.a.useContext(oe),a=t.data.lessons,n=t.setters.setLessons,r=c.a.useState(null),s=Object(l.a)(r,2),o=s[0],i=s[1],u=c.a.useCallback(function(){var e=Object(b.a)(v.a.mark(function e(t){var a,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!pe.lessons||!pe.lessons[t]){e.next=2;break}return e.abrupt("return",pe.lessons[t]);case 2:return a=B.get("/lessons",{params:{courseId:t}}),(pe.lessons||(pe.lessons={}))[t]=a,e.prev=4,o&&i(null),e.next=8,a;case 8:r=e.sent,console.log("set lessons",r),n(function(e){return se({},e,Object(_.a)({},t,r))}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0),i(e.t0);case 17:return e.prev=17,delete pe.lessons[t],e.finish(17);case 20:return e.abrupt("return",a);case 21:case"end":return e.stop()}},e,null,[[4,13,17,20]])}));return function(t){return e.apply(this,arguments)}}(),[o]);return c.a.useEffect(function(){a[e]||pe.lessons&&pe.lessons[e]||o||u(e)},[a,e,o]),o?{lessons:a[e],error:o,retry:function(){o&&u(e)}}:{lessons:a[e]}}var ke=function(e){var t=e.children,a=function(){var e=c.a.useState(V.getUser()),t=Object(l.a)(e,2),a=t[0],n=t[1],r=c.a.useState(null),s=Object(l.a)(r,2),o=s[0],i=s[1];c.a.useEffect(function(){a&&function(){var e=Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getUserInfo();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[a]);var u=c.a.useCallback(function(e,t){n(e)},[]),m=c.a.useCallback(function(){n(null),i(null)},[]);return c.a.useLayoutEffect(function(){return V.subscribe(U.login,u),V.subscribe(U.logout,m),function(){V.unsubscribe(U.login,u),V.unsubscribe(U.logout,m)}},[u,m]),[a,o]}(),n=Object(l.a)(a,2),r=n[0],s=n[1],o=function(){var e=le(),t=Object(l.a)(e,2),a=t[0],n=t[1],r=ie(),c=Object(l.a)(r,2),s=c[0],o=c[1],i=ue(),u=Object(l.a)(i,2),m=u[0],d=u[1],f=me(),p=Object(l.a)(f,2),v=p[0],b=p[1],h=de(),E=Object(l.a)(h,2),g=E[0],_=E[1],k=fe(),w=Object(l.a)(k,2);return{data:{catalog:a,subjects:m,teachers:v,lessons:g,userCourses:s,webinars:w[0]},setters:{setCatalog:n,setSubjects:d,setTeachers:b,setLessons:_,setUserCourses:o,setWebinars:w[1]}}}();return c.a.createElement(oe.Provider,{value:se({user:r,userInfo:s},o)},t)};function we(){var e=c.a.useContext(oe);return{user:e.user,userInfo:e.userInfo}}var Oe=function(){return c.a.createElement("div",{className:"layout__content"},c.a.createElement("div",{className:"layout__loading-spinner"},c.a.createElement("i",{className:"spinner-border"})))},je=function(e){var t=e.to,a=e.arrow,n=void 0===a||a,r=e.forward,s=void 0===r||r,o=e.className,l=e.children,i=Object(g.a)(e,["to","arrow","forward","className","children"]);return c.a.createElement(m.b,Object.assign({className:"".concat(n?"arrow-link":""," ").concat(s?"arrow-link-forward":"arrow-link-backward"," ").concat(o||""),to:t},i),l)},Ne=function(e){var t=e.children,a=e.className,n=e.parentSection;return c.a.createElement("div",{className:"layout__content-container container ".concat(a||"")},n&&c.a.createElement(je,{to:n.url||"..",forward:!1,className:"layout__content-parent-section-link"},n.name),t)},ye=function(e){var t=e.children,a=e.className,n=Object(g.a)(e,["children","className"]);return c.a.createElement(ee.a,Object.assign({mode:"bottom"},n),c.a.createElement("div",{className:"layout__bottom-tab ".concat(a||"")},t))},Ce=(c.a.Component,function(e){var t=e.title,a=e.className,n=e.children,r=e.checkLogin,s=void 0===r||r,o=e.location,l=we(),i=l.user;l.userInfo;return s&&!i?c.a.createElement(u.b,{to:{pathname:"/login/",state:o?{referrer:o.pathname}:void 0}}):c.a.createElement("div",{className:"layout__content ".concat(a||"")},t&&c.a.createElement(X.Helmet,null,c.a.createElement("title",null,t," \u2013 \u0415\u0413\u042d HACK")),n)}),xe=function(e){var t=e.location,a=we(),n=a.user;a.userInfo;return c.a.useLayoutEffect(function(){V.loginWidget("vk-auth")},[]),n?t.state&&t.state.referrer?c.a.createElement(u.b,{to:t.state.referrer}):c.a.createElement(u.b,{to:"/shop/"}):c.a.createElement(Ce,{title:"\u0412\u0445\u043e\u0434",className:"login-page align-items-center justify-content-center",checkLogin:!1,location:t},c.a.createElement("div",{id:"vk-auth"}))},Se=function(e){var t=e.first_name,a=e.last_name,n=e.photo,r=e.contacts,s=e.about,o=e.role,l="".concat(t," ").concat(a);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"user-profile__avatar-container"},c.a.createElement("div",{className:"user-profile__avatar-wrap"},c.a.createElement(W,{src:n,className:"user-profile__avatar",round:!0,square:!0}))),c.a.createElement("div",{className:"user-profile__info layout__content-block"},c.a.createElement("div",{className:"d-flex flex-column align-items-center"},c.a.createElement("h2",null,l),o&&c.a.createElement("div",{className:"font-size-sm"},o),r&&c.a.createElement($,{contacts:r}),c.a.createElement("div",{className:"description-text font-size-sm"},s))))},Pe=function(){var e=we(),t=e.user;e.userInfo;return c.a.createElement(Ce,{title:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442",className:"account-page"},c.a.createElement(Ne,null,c.a.createElement(Se,t)))},De=a(224),Ie=a(68),Le=a.n(Ie),Fe=a(225),Te=a.n(Fe);function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(a,!0).forEach(function(t){Object(_.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ae=new De.LoremIpsum;function Be(e){var t=new Date;return t.setDate(t.getDate()+e),t}Le.a;var Me=[{id:1,name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a"},{id:2,name:"\u041b\u0438\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430"},{id:3,name:"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430"},{id:4,name:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u043a\u0430"},{id:5,name:"\u0424\u0438\u0437\u0438\u043a\u0430"},{id:6,name:"\u0425\u0438\u043c\u0438\u044f"},{id:7,name:"\u0411\u0438\u043e\u043b\u043e\u0433\u0438\u044f"},{id:8,name:"\u041e\u0431\u0449\u0435\u0441\u0442\u0432\u043e\u0437\u043d\u0430\u043d\u0438\u0435"},{id:9,name:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"},{id:10,name:"\u0413\u0435\u043e\u0433\u0440\u0430\u0444\u0438\u044f"},{id:11,name:"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a"},{id:12,name:"\u041d\u0435\u043c\u0435\u0446\u043a\u0438\u0439 \u044f\u0437\u044b\u043a"},{id:13,name:"\u0424\u0440\u0430\u043d\u0446\u0443\u0437\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a"},{id:14,name:"\u041a\u0438\u0442\u0430\u0439\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a"},{id:15,name:"\u0418\u0441\u043f\u0430\u043d\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a"}],Ue=[{id:154792439,vk_info:{id:154792439,first_name:"Alexandra",last_name:"Petrova",photo_max_orig:Le.a},subjects:[{id:1,name:"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430",description:"\u041b\u0443\u0447\u0448\u0438\u0439 \u043f\u0440\u0435\u0434\u043c\u0435\u0442",image_link:"/files/asdsadasda.jpg"}]},{id:1,vk_info:{id:1,first_name:"\u0415\u043b\u0435\u043d\u0430",last_name:"\u0427\u0435\u0440\u0442\u043a\u043e\u0432\u0430",photo_max_orig:Le.a},subjects:Me.slice(0,2),contacts:{vk:"/",fb:"/",ok:"/",ig:"/"},bio:Ae.generateSentences(1)},{id:2,vk_info:{id:2,first_name:"\u0421\u0435\u0440\u0433\u0435\u0439",last_name:"\u0410\u0432\u0434\u043e\u0448\u0438\u043d",photo_max_orig:Le.a},subjects:[Me[3]],contacts:{vk:"/",fb:"/",ok:"/",ig:"/"},bio:Ae.generateSentences(1)}],He=Me.slice(0,5).map(function(e,t){return{name:"".concat(e.name,". \u041c\u0430\u0441\u0442\u0435\u0440 \u0433\u0440\u0443\u043f\u043f\u0430. \u0410\u043f\u0440\u0435\u043b\u044c."),id:t,subject_id:e.id,online:t<=2,image_link:Le.a,date_start:Be(7+t),date_end:Be(7+t),description:Ae.generateParagraphs(1),teacher_ids:t<=2?[Ue[0].id]:Ue.map(function(e){return e.id})}}),Ve=(w.a.times(4,function(e){var t=-2+e>0;return{num:e+1,id:e,name:"\u0417\u0430\u043d\u044f\u0442\u0438\u0435 ".concat(e+1),description:Ae.generateParagraphs(1),image_link:Le.a,video_link:"375255364",locked:t,assignment:{description:Ae.generateParagraphs(1),files:[{name:"\u0417\u0430\u0434\u0430\u043d\u0438\u0435",id:0,url:"/robots.txt"},{name:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435",id:1,url:"/robots.txt"}],deadline:Be(7)},watchProgress:t?void 0:100-15*e}}),new Date,"".concat(T,"/files/51657ffc-fc8f-11e9-a562-0338e4bfa1ca.jpg?disp=attachment"),He.map(function(e,t){return ze({},e,{price:2500,discount:0===t?1e3:void 0})})),We=He.slice(0,3).map(function(e,t){return ze({},e,{status:t<=1?S.finished:S.learning})}),Je=(He.slice(0,3).map(function(e,t){var a=e.id,n=e.name,r=e.subject_id;return{subject_id:r,subject_name:Me[r-1].name,course_id:a,course_name:n,id:t,name:"\u0418\u0433\u0440\u0430\u044e \u0432 \u043c\u0430\u0439\u043d\u043a\u0440\u0430\u0444\u0442",description:"\u0421\u043a\u0438\u0434\u044b\u0432\u0430\u0439\u0442\u0435 \u0432\u0430\u0448\u0438 \u0434\u043e\u043d\u0430\u0442\u044b",date_start:Be(t),duration:120,date_end:new Date(Be(1+t).getTime()+72e5),image_link:Te.a}}),a(107));function Ke(e){var t=e.preview,a=e.title,n=e.subtitle,r=e.description,s=e.item,o=e.selectable,i=e.className,u=e.children,d=e.link,f=e.onClick,p=e.onActionClick,v=e.callbackProps,b=ae(r),h=Object(l.a)(b,2),E=h[0],g=h[1],_=c.a.useCallback(function(e){var t=o&&!(p&&e.target.closest(".list__item-action"));t&&f?f(s,v):!t&&d&&e.preventDefault()},[s,f,o,v,d,p]),k=c.a.useCallback(function(e){o&&p&&p(s,v)},[s,p,o,v]),w=c.a.createElement("div",{className:"row align-items-center"},c.a.createElement("div",{className:"list__item-preview col-12 col-md-auto"},t),c.a.createElement("div",{className:"list__item-description col align-self-stretch"},c.a.createElement("div",{className:"list__item-description-inner"},c.a.createElement("div",{className:"title font-size-lg"},a),n&&c.a.createElement("div",{className:"subtitle"},n),r&&c.a.createElement("div",{className:"description-container font-size-xs"},c.a.createElement("div",{className:"description-text"},g?c.a.createElement(Je.a,{lines:2,ref:E},r):null)))),u&&c.a.createElement("div",{className:"list__item-action col-auto d-flex align-items-center flex-column",onClick:k},u));return d?c.a.createElement(m.b,{className:"list__item container ".concat(o?"list__item-selectable":""," ").concat(i||""),to:d,onClick:_},w):c.a.createElement("div",{className:"list__item container ".concat(o?"list__item-selectable":""," ").concat(i||""),onClick:_},w)}function qe(e){var t=e.children,a=e.renderItem,n=e.renderProps,r=e.flex,s=e.className;return r?c.a.createElement("div",{className:"".concat(s||""," list")},c.a.createElement("div",{className:"container p-0 overflow-hidden"},c.a.createElement("div",{className:"row"},t.map(function(e,t){return a(e,n,t)})))):c.a.createElement("div",{className:"".concat(s||""," list")},t.map(function(e,t){return a(e,n,t)}))}qe.defaultProps={renderItem:function(e,t,a){return c.a.createElement(Ke,Object.assign({},e,t,{key:a}))}};var Ge=a(74),$e=a(226),Ye=function(){return c.a.createElement("div",null)},Qe=function(e){return c.a.createElement("div",Object.assign({},e,{className:"track track-vertical"}))},Xe=function(e){return c.a.createElement("div",Object.assign({},e,{className:"thumb thumb-vertical"}))},Ze=function(e){return c.a.createElement("div",Object.assign({},e,{className:"track track-horizontal"}))},et=function(e){return c.a.createElement("div",Object.assign({},e,{className:"thumb thumb-horizontal"}))},tt=c.a.forwardRef(function(e,t){var a=e.children,n=e.hideVerticalScrollbar,r=void 0!==n&&n,s=e.hideHorizontalScrollbar,o=void 0!==s&&s,l=Object(g.a)(e,["children","hideVerticalScrollbar","hideHorizontalScrollbar"]);return c.a.createElement($e.Scrollbars,Object.assign({renderTrackVertical:r?Ye:Qe,renderThumbVertical:Xe,renderTrackHorizontal:o?Ye:Ze,renderThumbHorizontal:et,ref:t},l),a)});function at(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?at(a,!0).forEach(function(t){Object(_.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):at(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var rt=function(e){return c.a.createElement(Ge.a.DropdownIndicator,e,c.a.createElement("i",{className:"icon-angle"}))},ct=function(e){var t=e.children,a=e.selectProps,n=e.hasValue,r=e.setValue,s=Object(g.a)(e,["children","selectProps","hasValue","setValue"]);return c.a.createElement("div",{className:"select"},c.a.createElement(Ge.a.SelectContainer,Object.assign({selectProps:nt({},a,{isClearable:!1}),hasValue:n,setValue:r},s),t),a.isClearable&&c.a.createElement("div",{className:n?"select__clear-btn":"select__clear-btn select__clear-btn-hidden",onClick:function(){r(null)}},c.a.createElement("i",{className:"icon-close"})))},st=function(e){var t=e.content,a=Object(g.a)(e,["content"]);return c.a.createElement(Ge.a.Option,a,t||a.label)},ot=function(e){function t(){return Object(h.a)(this,t),Object(K.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.innerRef(this.scrollBar.view)}},{key:"render",value:function(){var e=this;return c.a.createElement(tt,{autoHeight:!0,hideTracksWhenNotNeeded:!0,ref:function(t){e.scrollBar=t},autoHeightMax:this.props.maxHeight},c.a.createElement(Ge.a.MenuList,this.props,this.props.children))}}]),t}(r.Component),lt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(K.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){a.props.callback(e?e.value:null,a.props.name)},a}return Object(G.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.options,n=e.value,r=e.components,s=e.selectProps,o=e.isClearable,l=void 0===o||o,i=e.isSearchable,u=void 0===i||i,m=e.placeholder;return c.a.createElement(Ge.b,Object.assign({name:t,options:a,maxMenuHeight:200,value:w.a.find(a,{value:n})||null,className:"select__container",classNamePrefix:"select",onChange:this.onChange,menuPlacement:"auto",noOptionsMessage:function(){return"\u041d\u0435\u0442 \u043e\u043f\u0446\u0438\u0439"},components:r?nt({Option:st,MenuList:ot,DropdownIndicator:rt,SelectContainer:ct},r):{Option:st,MenuList:ot,DropdownIndicator:rt,SelectContainer:ct},styles:{option:function(){return{}}},isClearable:l,isSearchable:u,placeholder:m},s))}}]),t}(c.a.PureComponent);function it(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";return c.a.useCallback(function(a){e(a.currentTarget[t],a.currentTarget.name,a)},[e,t])}var ut=function(e){var t=e.className,a=e.onChange,n=Object(g.a)(e,["className","onChange"]),r=it(a);return c.a.createElement("input",Object.assign({className:"input ".concat(t||""),onChange:r},n))};Object.assign(ut,{CheckBox:function(e){var t=e.value,a=e.onChange,n=e.name,r=e.label,s=Object(g.a)(e,["value","onChange","name","label"]),o=it(a,"checked");return c.a.createElement("label",{className:"input input-checkbox"},c.a.createElement("input",Object.assign({type:"checkbox",name:n,checked:t,onChange:o},s)),c.a.createElement("span",{className:"input__box"}),c.a.createElement("span",{className:"input__label"},r))},Select:lt});var mt=ut;function dt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var ft=c.a.createContext({}),pt={Filter:function(e){var t=e.filterBy,a=(t=void 0===t?{}:t).subject,n=void 0===a||a,r=t.online,s=void 0===r||r,o=c.a.useContext(ft),l=o.options,i=o.subject,u=o.online,m=o.onChange;return c.a.createElement("div",{className:"layout__content-block catalog__filters"},c.a.createElement("div",{className:"container p-0"},c.a.createElement("div",{className:"row"},n&&c.a.createElement("div",{className:"col-auto d-flex align-items-center"},c.a.createElement(mt.Select,{name:"subject",options:l,value:i,placeholder:"\u041f\u0440\u0435\u0434\u043c\u0435\u0442",callback:m})),s&&c.a.createElement("div",{className:"col-auto d-flex align-items-center"},c.a.createElement(mt.CheckBox,{name:"online",value:u,label:"\u041e\u043d\u043b\u0430\u0439\u043d",onChange:m})))))},Catalog:function(e){var t=e.renderFunc,a=e.placeholder,n=(e.baseUrl,Object(g.a)(e,["renderFunc","placeholder","baseUrl"])),r=c.a.useContext(ft),s=r.items,o=r.renderProps,l=c.a.useCallback(function(e){return t(e,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dt(a,!0).forEach(function(t){Object(_.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({link:"".concat(e.id,"/")},o))},[t,o]);return c.a.createElement("div",{className:"layout__content-block catalog__catalog"},s.length>0?c.a.createElement(qe,Object.assign({},n,{renderItem:l}),s):c.a.createElement("div",{className:"catalog__empty-catalog-fallback-message text-center font-size-sm"},a))},Body:function(e){var t=e.options,a=e.filterItems,n=e.children,r=e.renderProps,s=void 0===r?{}:r,o=Object(u.h)(),l=Object(u.i)(),i=new URLSearchParams(l.search),m=parseInt(i.get("subject"))||null,d="true"===i.get("online"),f=c.a.useCallback(function(e,t){var a=new URLSearchParams(l.search);e?a.set(t,e):a.delete(t),o.push({pathname:l.pathname,search:"?".concat(a)})},[l,o]),p=a(m,d);return c.a.createElement(ft.Provider,{value:{options:t,subject:m,online:d,onChange:f,items:p,renderProps:s}},c.a.createElement("div",{className:"catalog"},n))}};function vt(e){var t=e.teacher,a=t.vk_info,n=a.first_name,r=a.last_name,s=a.photo_max_orig,o=t.contacts,l=t.subjects,i=t.bio,u=(e.subjects,e.link),d=e.bio,f=void 0!==d&&d,p=e.className,v=c.a.useCallback(function(e){e.target.closest(".social-media")},[]);return c.a.createElement(m.b,{to:u,className:"".concat(p," teacher-profile"),onClick:v},c.a.createElement("div",{className:"container p-0"},c.a.createElement("div",{className:"row flex-nowrap"},c.a.createElement("div",{className:"col-auto d-flex align-items-center"},c.a.createElement(W,{src:s,className:"teacher-profile__photo",round:!0,square:!0})),c.a.createElement("div",{className:"col d-flex flex-column justify-content-center"},c.a.createElement("h3",{className:"teacher-profile__name"},n," ",r),f&&c.a.createElement("div",{className:"teacher-profile__subjects font-size-sm"},l.map(function(e,t){var a=e.name;return 0===t?a:a.toLowerCase()}).join(", ")),o&&c.a.createElement($,{contacts:o}))),f&&c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 description-text"},i))))}function bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var ht=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bt(a,!0).forEach(function(t){Object(_.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},pt,{Filter:function(e){return c.a.createElement(pt.Filter,Object.assign({filterBy:{online:!1}},e))},Catalog:function(e){var t=c.a.useCallback(function(e,t){var a=t.link,n=t.subjects;return c.a.createElement("div",{className:"list__item col-12 col-md-6 d-flex",key:e.id},c.a.createElement(vt,{teacher:e,subjects:n,bio:!0,link:a}))},[]);return c.a.createElement(pt.Catalog,Object.assign({placeholder:"\u041d\u0435\u0442 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439, \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c \u043f\u043e\u0438\u0441\u043a\u0430",flex:!0,renderFunc:t},e))},Body:function(e){var t=e.teachers,a=e.subjects,n=Object(g.a)(e,["teachers","subjects"]),r=c.a.useMemo(function(){w.a.zipObject(a.map(function(e){return e.id}),a);var e=w.a.reduce(t,function(e,t){return t.subjects.forEach(function(t){e[t.id]=t}),e},{});return w.a.values(e).map(function(e){return{value:e.id,label:e.name}})},[t,a]),s=c.a.useCallback(function(e){return t.filter(function(t){return!e||t.subjects.some(function(t){var a=t.id;return e===a})})},[t]);return c.a.createElement(pt.Body,Object.assign({options:r,renderProps:{subjects:a},filterItems:s},n))}}),Et=function(e){var t=e.location,a=he(),n=a.teachers,r=a.subjects;a.error,a.retry;return c.a.createElement(Ce,{title:"\u041c\u043e\u0438 \u043a\u0443\u0440\u0441\u044b",className:"catalog teachers-catalog",location:t},n&&r?c.a.createElement(ht.Body,{subjects:r,teachers:n},c.a.createElement(Ne,null,c.a.createElement(ht.Filter,null),c.a.createElement(ht.Catalog,null))):c.a.createElement(Oe,null))},gt=function(e){var t=e.className,a=e.children,n=e.active,r=void 0===n||n,s=e.neutral,o=void 0!==s&&s,l=e.icon,i=e.iconAction,u=e.tag,m=void 0===u?"div":u,d=e.onClick,f=Object(g.a)(e,["className","children","active","neutral","icon","iconAction","tag","onClick"]);return c.a.createElement(m,Object.assign({className:"btn ".concat(r?"":"btn-inactive"," ").concat(o?"btn-neutral":""," ").concat(t||"")},f),c.a.createElement("span",{className:"btn__content"},l&&c.a.createElement("div",{className:"btn__after",onClick:i||d},l),c.a.createElement("span",{className:"btn__name",onClick:d},a)))},_t=function(e){var t=e.errorCode,a=void 0===t?404:t,n=e.message,r=e.link,s=(r=void 0===r?{}:r).text,o=r.url,l=a&&a.toString();return c.a.createElement(Ce,{title:l,className:"error-page"},c.a.createElement("div",{className:"error-page__error-code"},l&&l.split("").map(function(e,t){return c.a.createElement("span",{key:t},e)})),c.a.createElement("div",{className:"error-page__error-message"},n||"\u041f\u043e\u0445\u043e\u0436\u0435, \u0432\u044b \u043f\u043e\u0442\u0435\u0440\u044f\u043b\u0438\u0441\u044c"),c.a.createElement(gt,{tag:m.b,to:"".concat(o||"","/"),replace:!0,className:"btn"},s||"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"))};function kt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var wt=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?kt(a,!0).forEach(function(t){Object(_.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},pt,{Catalog:function(e){var t=e.renderCourse,a=Object(g.a)(e,["renderCourse"]);return c.a.createElement(pt.Catalog,Object.assign({placeholder:"\u041d\u0435\u0442 \u043a\u0443\u0440\u0441\u043e\u0432, \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c \u043f\u043e\u0438\u0441\u043a\u0430",renderFunc:t},a))},Body:function(e){var t=e.courses,a=e.subjects,n=Object(g.a)(e,["courses","subjects"]),r=c.a.useMemo(function(){return a.map(function(e){return{value:e.id,label:e.name}})},[a]),s=c.a.useCallback(function(e,a){return t.filter(function(t){return(!e||t.subject_id===e)&&(!a||t.online===a)})},[t]);return c.a.createElement(pt.Body,Object.assign({options:r,filterItems:s},n))}});function Ot(e){var t=e.course,a=e.online,n=void 0===a||a,r=e.isSelected,s=void 0!==r&&r,o=Object(g.a)(e,["course","online","isSelected"]),l=t.name,i=t.image_link,u=t.date_start,m=t.date_end,d=t.description,f=P(new Date,u);return c.a.createElement(Ke,Object.assign({item:t,className:s?"course course-selected":"course",title:l,subtitle:f>0?"\u0414\u043e \u043d\u0430\u0447\u0430\u043b\u0430 \u043a\u0443\u0440\u0441\u0430 ".concat(f," ").concat(f%10===1?"\u0434\u0435\u043d\u044c":f%10>=2&&f%10<=4?"\u0434\u043d\u044f":"\u0434\u043d\u0435\u0439"):m>new Date?"\u041a\u0443\u0440\u0441 \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u0430\u043b":"\u041a\u0443\u0440\u0441 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d",description:d,preview:c.a.createElement("div",{className:"course__cover-container"},t.online&&c.a.createElement("div",{className:"course__online-badge ".concat(n?"course__online-text":""," font-size-xs")},c.a.createElement("span",null,"\u041e\u043d\u043b\u0430\u0439\u043d")),c.a.createElement(W,{src:i,className:"poster-cover course__cover"}))},o))}var jt=function(e){var t=e.match.params.id,a=e.path,n=e.className,r=e.location,s=he(),o=s.teachers,l=s.subjects,i=(s.error,s.retry,Ee()),u=i.catalog,m=(i.error,i.retry,parseInt(t)),d=c.a.useCallback(function(e,t){var a=t.link,n=e.price,r=e.discount;return c.a.createElement(Ot,{course:e,selectable:!0,key:e.id,link:"/shop/".concat(a)},c.a.createElement("div",{className:"list__item-action-info"},c.a.createElement("span",{className:"price"},n,"\u20bd")," ",r&&c.a.createElement("span",{className:"discount font-size-xs"},r+n,"\u20bd")),c.a.createElement(gt,{style:{minWidth:"110px"}},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"))},[]);if(o&&u&&l){var f=w.a.find(o,{id:m});if(f){var p=f.vk_info,v=p.first_name,b=p.last_name,h=p.photo_max_orig,E=f.contacts,g=f.subjects,_=f.bio,k=u.filter(function(e){return w.a.indexOf(e.teacher_ids,m)>=0}),O={first_name:v,last_name:b,photo:h,contacts:E,about:_,role:g.map(function(e,t){var a=e.name;return 0===t?a:a.toLowerCase()}).join(", ")},j="".concat(v," ").concat(b);return c.a.createElement(Ce,{title:"".concat(j),className:"teacher-page ".concat(n||""),location:r},c.a.createElement(Ne,{parentSection:{name:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438"}},c.a.createElement(Se,O),c.a.createElement("div",{className:"layout__content-block"},c.a.createElement("h3",null,"\u041a\u0443\u0440\u0441\u044b \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044f")),c.a.createElement(wt.Body,{className:"course-shop",subjects:l,courses:k},c.a.createElement(wt.Filter,null),c.a.createElement(wt.Catalog,{renderCourse:d}))))}return c.a.createElement(_t,{errorCode:404,message:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d",link:{url:a}})}return c.a.createElement(Ce,{location:r},c.a.createElement(Oe,null))},Nt=function(e){var t=e.match;return c.a.createElement(u.e,null,c.a.createElement(u.c,{path:"".concat(t.path,"/:id"),render:function(e){return c.a.createElement(jt,Object.assign({teachers:Ue,courses:Ve.catalog,path:t.path},e))}}),c.a.createElement(u.c,{exact:!0,path:"".concat(t.path),render:function(e){return c.a.createElement(Et,e)}}))},yt=a(504);function Ct(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function xt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ct(a,!0).forEach(function(t){Object(_.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ct(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var St=function(e){var t=e.course,a=e.onCourseDeselect,n=e.onTruncate,r=t.name,s=ae(r),o=Object(l.a)(s,1)[0],i=c.a.useCallback(function(){a(t)},[a,t]);return c.a.createElement("div",{className:"selected-course d-flex align-items-center flex-shrink-0"},c.a.createElement("div",{className:"selected-course__cover-container"},c.a.createElement(W,{src:t.image_link,className:"selected-course__cover poster-cover"}),c.a.createElement("i",{className:"icon-close selected-course__deselect-btn animated__action-button",onClick:i})),c.a.createElement("div",{className:"selected-course__description-container font-size-xs"},c.a.createElement("div",{className:"selected-course__description"},c.a.createElement(Je.a,{lines:2,ref:o,onTruncate:n},r))))},Pt=function(e){var t=e.style,a=Object(g.a)(e,["style"]);return c.a.createElement("div",Object.assign({style:xt({},t,{height:"calc(100% + ".concat(t.minHeight,"px)")})},a))},Dt=function(e){var t,a,n,r=e.courses,s=e.discount,o=e.onCourseDeselect;if(s){var l=w.a.sumBy(r,"price");t=s.discounted_price,a=l-s.discounted_price,n=s.message}return c.a.useEffect(function(){window.dispatchEvent&&window.dispatchEvent(new CustomEvent("scroll"))}),c.a.createElement(ye,{className:"selected-courses ".concat(0===r.length?"hidden":"")},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 col-md p-0 selected-courses__courses"},c.a.createElement(tt,{autoHeight:!0,autoHeightMax:"unset",hideTracksWhenNotNeeded:!0,renderView:Pt,style:{height:"100%"},className:"scrollbars"},c.a.createElement(yt.a,{className:"layout__bottom-tab-container container-fluid d-flex flex-nowrap",style:{height:"100%"}},r.map(function(e){return c.a.createElement(i.a,{classNames:"animation-fade",key:e.id,timeout:300},c.a.createElement(St,{course:e,onCourseDeselect:o,onTruncate:function(){window.dispatchEvent(new CustomEvent("scroll"))}}))})))),c.a.createElement("div",{className:"col-12 col-md-auto p-0 selected-courses__price"},c.a.createElement("div",{className:"layout__bottom-tab-container container d-flex align-items-center justify-content-end"},s?c.a.createElement(c.a.Fragment,null,c.a.createElement(gt,{className:"order-1 order-md-0 flex-shrink-0"},"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c"),c.a.createElement("div",{className:"price selected-courses__price-container container"},a>0&&c.a.createElement("div",{className:"discount font-size-sm d-inline-block d-md-block"},t+a,"\u20bd"),c.a.createElement("div",{className:"price font-size-lg d-inline-block d-md-block"},t,"\u20bd"),n&&c.a.createElement("div",{className:"promotion font-size-xs"},n))):c.a.createElement("div",{className:"spinner-border"}))))))},It=function(e){var t=e.selectedCourses,a=(e.onCourseClick,e.onCourseSelect),n=e.onCourseDeselect,r=e.location,s=Ee(),o=s.catalog,l=s.subjects,i=(s.error,s.retry,be(t)),u=i.discount,m=(i.error,i.retry,c.a.useCallback(function(e,n){var r=t.has(e),s=e.price,o=e.discount,l=e.purchased;return c.a.createElement(Ot,Object.assign({course:e,selectable:!0,isSelected:r,onActionClick:l?null:a,key:e.id},n),l?c.a.createElement(gt,{style:{minWidth:"110px"},active:!1},"\u041a\u0443\u043f\u043b\u0435\u043d\u043e"):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"list__item-action-info"},c.a.createElement("span",{className:"price"},s,"\u20bd")," ",o&&c.a.createElement("span",{className:"discount font-size-xs"},o+s,"\u20bd")),c.a.createElement(gt,{style:{minWidth:"110px"}},r?"\u0412\u044b\u0431\u0440\u0430\u043d\u043e":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c")))},[t,a]));return c.a.createElement(Ce,{className:"course-shop",title:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043a\u0443\u0440\u0441\u043e\u0432",location:r},o&&l?c.a.createElement(wt.Body,{subjects:l,courses:o},c.a.createElement(Ne,null,c.a.createElement(wt.Filter,null),c.a.createElement(wt.Catalog,{renderCourse:m}))):c.a.createElement(Oe,null),c.a.createElement(Dt,{onCourseDeselect:n,courses:Object(te.a)(t),discount:u}))};window._=w.a;var Lt=c.a.createContext({}),Ft=function(){var e=c.a.useContext(Lt).course;return c.a.createElement(c.a.Fragment,null,c.a.createElement(W,{src:e.image_link,className:"course-overview__cover"}),c.a.createElement("div",{className:"course-overview__info layout__content-block"},c.a.createElement("h2",null,e.name),c.a.createElement("div",{className:"course-overview__summary"},c.a.createElement("div",{className:"col-auto course-overview__summary-item"},c.a.createElement("i",{className:"far fa-calendar-alt"}),"\u041d\u0430\u0447\u0430\u043b\u043e: ",D(e.date_start,D.date)),c.a.createElement("div",{className:"col-auto course-overview__summary-item"},c.a.createElement("i",{className:"far fa-clock"}),"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c: ",e.total_hours," \u0447\u0430\u0441\u043e\u0432")),c.a.createElement("div",{className:"description-text font-size-sm"},e.description)))},Tt=function(){var e=c.a.useContext(Lt),t=e.course,a=e.teachers;return c.a.createElement("div",{className:"layout__content-block"},c.a.createElement("h3",null,"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438"),c.a.createElement("div",{className:"course-overview__teachers container negate-block-padding"},c.a.createElement("div",{className:"row"},t.teacher_ids.map(function(e,t){return c.a.createElement("div",{className:"col-12 col-md d-flex p-0",key:t},c.a.createElement(vt,{teacher:w.a.find(a,{id:e}),link:"/teachers/".concat(e,"/")}))}))))},Rt=function(e){var t=e.renderLesson,a=c.a.useContext(Lt),n=(a.course,a.lessons),r=c.a.useCallback(function(e){return t(e,{link:"".concat(e.id,"/")})},[t]);return c.a.createElement("div",{className:"layout__content-block"},c.a.createElement("h3",null,"\u0423\u0440\u043e\u043a\u0438"),c.a.createElement(qe,{renderItem:r},n))},zt=function(){var e=c.a.useContext(Lt).course;return c.a.createElement("div",{className:"course-overview__title layout__content-block"},c.a.createElement("h2",null,e.name),c.a.createElement(je,{className:"course-overview__link",to:"/shop/".concat(e.id)},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043a\u0443\u0440\u0441\u0430"))},At=function(e){var t=e.match.params.id,a=e.path,n=e.courses,r=e.teachers,s=e.lessons,o=e.children,l=e.className,i=e.location,u=parseInt(t),m=w.a.find(n,{id:u});return m?c.a.createElement(Ce,{title:"".concat(m.title),className:"course-overview ".concat(l||""),location:i},c.a.createElement(Lt.Provider,{value:{course:m,teachers:r,lessons:s}},o)):c.a.createElement(_t,{errorCode:404,message:"\u041a\u0443\u0440\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d",link:{url:a}})},Bt=function(e){var t,a,n=e.discount,r=(e.error,e.retry,c.a.useContext(Lt).course),s=r.price,o=r.purchased;return n&&(t=n.discounted_price,a=s-n.discounted_price,n.message),c.a.useEffect(function(){window.dispatchEvent&&window.dispatchEvent(new CustomEvent("scroll"))}),c.a.createElement(ye,{className:"course-overview__offer"},c.a.createElement("div",{className:"container layout__bottom-tab-container"},c.a.createElement("div",{className:"row justify-content-end align-items-center"},o?c.a.createElement(gt,{active:!1},"\u041a\u0443\u043f\u043b\u0435\u043d\u043e"):n?c.a.createElement(c.a.Fragment,null,a>0&&c.a.createElement("div",{className:"col-auto"},c.a.createElement("div",{className:"discount"},t+a,"\u20bd")),c.a.createElement("div",{className:"col-auto"},c.a.createElement("h2",{className:"price"},t,"\u20bd")),c.a.createElement("div",{className:"col-auto"},c.a.createElement(gt,null,"\u041a\u0443\u043f\u0438\u0442\u044c"))):c.a.createElement("div",{className:"spinner-border"}))))},Mt=function(e){var t=e.cover,a=e.watchProgress,n=e.locked,r=void 0!==n&&n,s=e.className;return c.a.createElement(W,{src:t,className:"video-cover ".concat(r?"video-locked":""," ").concat(s||"")},a&&c.a.createElement("div",{className:"video-cover__watch-progress-bar"},c.a.createElement("div",{className:"watch-progress-bar__progress-line",style:{width:"".concat(a,"%")}})))};function Ut(e){var t=e.lesson,a=e.locked,n=void 0!==a&&a,r=e.link,s=Object(g.a)(e,["lesson","locked","link"]),o=t.name,l=t.image_link,i=t.description,u=t.watchProgress;return c.a.createElement(Ke,Object.assign({item:t,className:"video-class ".concat(n?"disabled":""),title:o,description:i,preview:c.a.createElement(Mt,{cover:l,className:"video-class__cover",locked:n,watchProgress:!n&&u}),key:t.id,link:n?void 0:r},s))}var Ht=function(e){var t=e.path,a=e.location,n=e.match,r=n.params.id,s=Ee(),o=s.catalog,l=(s.subjects,s.error),i=(s.retry,he()),u=i.teachers,m=(i.error,i.retry,_e(r)),d=m.lessons,f=(m.error,m.retry,be(r)),p=f.discount,v=(f.error,f.retry);return o&&u&&d?c.a.createElement(At,{match:n,path:t,courses:o,teachers:u,lessons:d,location:a},c.a.createElement(Ne,{parentSection:{name:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043a\u0443\u0440\u0441\u043e\u0432"}},c.a.createElement(Ft,null),c.a.createElement(Tt,null),c.a.createElement(Rt,{renderLesson:function(e,t){return c.a.createElement(Ut,{lesson:e,selectable:!1,locked:!1,key:e.id})}})),c.a.createElement(Bt,{discount:p,error:l,retry:v})):c.a.createElement(Ce,{location:a},c.a.createElement(Oe,null))};function Vt(e){var t=c.a.useState(new Set),a=Object(l.a)(t,2),n=a[0],r=a[1],s=c.a.useCallback(function(e){r(function(t){return t.has(e)?t:((t=new Set(t)).add(e),t)})},[]),o=c.a.useCallback(function(e){r(function(t){return(t=new Set(t)).delete(e),t})},[]),i=e.match;return c.a.createElement(u.e,null,c.a.createElement(u.c,{path:"".concat(i.path,"/:id"),render:function(e){return c.a.createElement(Ht,Object.assign({path:i.path},e))}}),c.a.createElement(u.c,{exact:!0,path:"".concat(i.path),render:function(e){return c.a.createElement(It,Object.assign({selectedCourses:n,onCourseSelect:s,onCourseDeselect:o},e))}}))}var Wt=a(229),Jt="WAITING",Kt="AIRING",qt="ENDED",Gt=function(e){var t=e.webinar,a=e.courseId,n=c.a.useState(function(e){var t=new Date;return e.date_start>t?Jt:t>e.date_end?qt:Kt}(t)),r=Object(l.a)(n,2),s=r[0],o=r[1],i=c.a.useCallback(function(){o(Kt)},[]);c.a.useEffect(function(){if(s===Kt){var e=new Date,a=t.date_end.getTime()-e.getTime(),n=setTimeout(function(){o(qt)},a);return function(){clearTimeout(n)}}},[s,t]);var u=c.a.useCallback(function(){var e=Object(b.a)(v.a.mark(function e(n){var r,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s===Kt){e.next=3;break}return n.preventDefault(),e.abrupt("return");case 3:return r=window.open(),e.next=6,B.get("/courses/".concat(t.course_id||a,"/schedule/link"));case 6:c=e.sent,r.location=c.link;case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[s,t,a]);if(s===qt)return null;var m=s===Kt;return c.a.createElement("div",{onClick:u,className:"webinar-schedule__webinar d-flex ".concat(m?"":"webinar-schedule__webinar-locked")},c.a.createElement("div",{className:"container d-flex overflow-hidden"},c.a.createElement("div",{className:"row flex-nowrap flex-grow-1"},c.a.createElement("div",{className:"col-auto d-flex align-items-center webinar-schedule__webinar-status"},m?c.a.createElement("i",{className:"fas fa-unlock"}):c.a.createElement("i",{className:"fas fa-lock"})),c.a.createElement("div",{className:"col d-flex flex-shrink-0 p-0"},c.a.createElement(W,{className:"webinar-schedule__webinar-poster",src:t.image_link}),c.a.createElement("div",{className:"webinar-schedule__webinar-title d-flex flex-column justify-content-center p-2"},c.a.createElement("div",null,t.subject_name),c.a.createElement("div",null,t.name))),c.a.createElement("div",{className:"col-auto d-flex align-items-center webinar-schedule__webinar-countdown"},c.a.createElement(Wt.a,{date:t.date_start,className:"countdown",renderer:function(e){var t=e.formatted,a=t.days,n=t.hours,r=t.minutes,s=t.seconds;return e.completed?c.a.createElement("div",{className:"d-flex"},c.a.createElement("span",null,"\u0412"),c.a.createElement("span",null,"\xa0"),c.a.createElement("span",null,"\u044d\u0444\u0438\u0440\u0435")):c.a.createElement("div",{className:"countdown"},c.a.createElement("span",null,a),":",c.a.createElement("span",null,n),":",c.a.createElement("span",null,r),":",c.a.createElement("span",null,s))},onComplete:i})))))},$t=function(e){var t=e.schedule;return 0===t.length?null:c.a.createElement("div",{className:"layout__content-block webinar-schedule"},c.a.createElement(tt,{autoHeight:!0,autoHeightMax:"unset",hideVerticalScrollbar:!0,hideHorizontalScrollbar:!0,hideTracksWhenNotNeeded:!0,style:{height:"100%"},className:"scrollbars"},c.a.createElement("div",{className:"d-flex flex-nowrap"},t.map(function(e){return c.a.createElement(Gt,{webinar:e,key:e.id})}))))},Yt=function(e){var t=e.location,a=ge(),n=a.courses,r=a.subjects,s=(a.error,a.retry,function(){var e=c.a.useContext(oe),t=e.data.webinars,a=e.setters.setWebinars,n=c.a.useState(null),r=Object(l.a)(n,2),s=r[0],o=r[1],i=c.a.useCallback(Object(b.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!pe.webinars||!pe.webinars.upcoming){e.next=2;break}return e.abrupt("return",pe.webinars.upcoming);case 2:return t=B.get("/courses/schedule/person"),(pe.webinars||(pe.webinars={})).upcoming=t,e.prev=4,s&&o(null),e.next=8,t;case 8:n=e.sent,console.log("set webinars",n),a(function(e){return se({},e,{upcoming:n})}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0),o(e.t0);case 17:return e.prev=17,delete pe.webinars.upcoming,e.finish(17);case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}},e,null,[[4,13,17,20]])})),[s]);return c.a.useEffect(function(){t.upcoming||pe.webinars&&pe.webinars.upcoming||s||i()},[t,s]),s?{webinars:t.upcoming,error:s,retry:function(){s&&i()}}:{webinars:t.upcoming}}()),o=s.webinars,i=(s.error,s.retry,c.a.useCallback(function(e,t){return c.a.createElement(Ot,Object.assign({course:e,selectable:!0,online:!1,key:e.id},t),e.status===S.learning?c.a.createElement(gt,{className:"course__select-btn"},"\u0418\u0437\u0443\u0447\u0430\u0442\u044c"):c.a.createElement(gt,{className:"course__select-btn",active:!1},"\u041f\u0440\u043e\u0439\u0434\u0435\u043d"))},[]));return c.a.createElement(Ce,{className:"user-courses",location:t,title:"\u041c\u043e\u0438 \u043a\u0443\u0440\u0441\u044b"},n&&r&&o?c.a.createElement(wt.Body,{courses:n,subjects:r},c.a.createElement(Ne,null,c.a.createElement(wt.Filter,null),c.a.createElement($t,{schedule:o}),c.a.createElement(wt.Catalog,{renderCourse:i}))):c.a.createElement(Oe,null))},Qt=function(e){var t=e.path,a=e.match,n=e.location,r=(Object(g.a)(e,["path","match","location"]),a.params.id),s=ge(),o=s.courses,i=(s.error,s.retry,function(e){var t=c.a.useContext(oe),a=t.data.webinars,n=t.setters.setWebinars,r=c.a.useState(null),s=Object(l.a)(r,2),o=s[0],i=s[1],u=c.a.useCallback(function(){var e=Object(b.a)(v.a.mark(function e(t){var a,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!pe.webinars||!pe.webinars[t]){e.next=2;break}return e.abrupt("return",pe.webinars.upcoming);case 2:return a=B.get("/courses/".concat(t,"/schedule/person")),(pe.webinars||(pe.webinars={}))[t]=a,e.prev=4,o&&i(null),e.next=8,a;case 8:r=e.sent,console.log("set course webinars",r),n(function(e){return se({},e,Object(_.a)({},t,r))}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0),i(e.t0);case 17:return e.prev=17,delete pe.webinars[t],e.finish(17);case 20:return e.abrupt("return",a);case 21:case"end":return e.stop()}},e,null,[[4,13,17,20]])}));return function(t){return e.apply(this,arguments)}}(),[o]);return c.a.useEffect(function(){a[e]||pe.webinars&&pe.webinars[e]||o||u(e)},[a,e,o]),o?{webinars:a[e],error:o,retry:function(){o&&u(e)}}:{webinars:a[e]}}(r)),u=i.webinars,m=(i.error,i.retry,_e(r)),d=m.lessons;m.error,m.retry;return o&&d&&u?c.a.createElement(At,{match:a,path:t,courses:o,lessons:d,location:n},c.a.createElement(Ne,{parentSection:{name:"\u041c\u043e\u0438 \u043a\u0443\u0440\u0441\u044b"}},c.a.createElement(zt,null),c.a.createElement($t,{schedule:u,courseId:r}),c.a.createElement(Rt,{renderLesson:function(e,t){e.date;var a=e.id,n=e.locked;return c.a.createElement(Ut,Object.assign({lesson:e,locked:n,selectable:!n,key:a},t),n?c.a.createElement(gt,{active:!1},"\u0421\u043a\u043e\u0440\u043e"):c.a.createElement(gt,null,"\u0418\u0437\u0443\u0447\u0430\u0442\u044c"))}}))):c.a.createElement(Ce,{location:n},c.a.createElement(Oe,null))},Xt=a(502),Zt=function(e){function t(){return Object(h.a)(this,t),Object(K.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=c.a.Children.only(this.props.children),t="pos-"+this.props.position;return c.a.cloneElement(e,{className:(e.props.className?e.props.className+" tooltip ":"tooltip ")+t,children:c.a.createElement(r.Fragment,null,e.props.children,c.a.createElement("div",{className:"tooltip-arrow"}),c.a.createElement("div",{className:"tooltip-block"},this.props.content))})}}]),t}(r.Component),ea={PENDING:"pending",LOADING:"loading",LOADED:"loaded",SUCCESS:"success",DONE:"done",REJECTED:"rejected",ERROR:"error"};function ta(e,t,a,n){var r=c.a.useState(null===e||t?ea.DONE:a?ea.REJECTED:ea.LOADING),s=Object(l.a)(r,2),o=s[0],i=s[1];return re(function(){!1===e?i(ea.LOADED):!0===e&&i(ea.LOADING)},[e]),re(function(){if(o===ea.LOADED&&t)i(ea.SUCCESS);else if(o===ea.SUCCESS){var e=setTimeout(function(){i(ea.DONE)},1e3);return function(){clearTimeout(e)}}},[o,t]),re(function(){n&&i(ea.ERROR)},[n]),re(function(){a&&i(ea.REJECTED)},[a]),o}var aa=function(e){var t=e.state,a=e.onClick,n=e.errorMessage,r=(t===ea.LOADED?"spinner-border":t===ea.SUCCESS&&"icon-check")||t===ea.ERROR&&"icon-reload"||t===ea.REJECTED&&"icon-alert"||"spinner-border";return c.a.createElement(Xt.a,null,t!==ea.DONE?c.a.createElement(i.a,{key:r,appear:!0,classNames:"animation-scale",timeout:300},c.a.createElement("div",{className:"file__state-indicator",onClick:a},c.a.createElement(Zt,{content:n},c.a.createElement("i",{className:r})))):null)},na=function(e){var t=e.file,a=t.name,n=t.downloadName,r=t.url,s=e.error,o=void 0===s?null:s,l=e.rejected,i=void 0===l?null:l,u=e.loading,m=void 0===u?null:u,d=e.done,f=void 0===d||d,p=e.deletable,v=void 0!==p&&p,b=e.onDelete,h=e.onIndicatorClick,E=e.className,_=e.errorMessage,k=Object(g.a)(e,["file","error","rejected","loading","done","deletable","onDelete","onIndicatorClick","className","errorMessage"]),w=c.a.useCallback(function(){r&&I(r,n||a)},[r,a,n]),O=null!==m,j=ta(null!==m?m<100:null,f,i,o);return c.a.createElement("div",{className:"file file-".concat(j," ").concat(E||"")},c.a.createElement(gt,Object.assign({neutral:!0,className:"file__btn",icon:v?c.a.createElement("i",{className:"icon-close file__action-btn file__delete-btn animated__action-button"}):c.a.createElement("i",{className:"icon-download file__action-btn file__download-btn animated__action-button"}),iconAction:v?b:void 0,onClick:w},k),null!==m&&c.a.createElement("div",{className:"file__loading-progress",style:{width:"".concat(m,"%")}}),c.a.createElement("i",{className:"file__icon far fa-file-alt"}),c.a.createElement("span",{className:"file__name",title:a},a)),O&&c.a.createElement(aa,{onClick:h,state:j,errorMessage:_}))},ra=function(e){var t=e.video_link;return c.a.createElement("div",{className:"video-player"},c.a.createElement("iframe",{className:"video-player__video",src:"https://player.vimeo.com/video/".concat(t,"?color=fa9346&title=0&byline=0&portrait=0"),frameBorder:"0",allow:"autoplay; fullscreen",allowFullScreen:!0}))},ca=a(230),sa=a.n(ca),oa=a(141),la=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(K.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).type=null,a.phase=null,a}return Object(G.a)(t,e),Object(E.a)(t,[{key:"addClass",value:function(e,a,n){Object(oa.a)(Object(q.a)(t.prototype),"addClass",this).call(this,e,a,n),this.type=a,this.phase=n}},{key:"componentDidUpdate",value:function(){this.appliedClasses[this.type]&&this.appliedClasses[this.type][this.phase]&&Object(oa.a)(Object(q.a)(t.prototype),"addClass",this).call(this,o.a.findDOMNode(this),this.type,this.phase)}}]),t}(i.a),ia=(a(499),"error_file_size"),ua=c.a.createContext(null),ma=function(e){return e.every(function(e){return function(e){return"done"===e.meta.status}(e)})},da=function(){if(V.user)return{url:"".concat(T,"/files/"),headers:(e=V.user.uid,t=V.user.hash,{Authorization:"Basic ".concat(btoa(e+":"+t))})};throw new Error("User not logged in");var e,t},fa=function(e){return{name:e.file_name,url:e.file_link}},pa=function(e){var t=e.className,a=e.style,n=e.getFilesFromEvent,r=e.accept,s=e.multiple,o=e.disabled,l=e.onFiles,i=e.files,u=e.content,m=e.extra.maxFiles,d=c.a.useCallback(function(){var e=Object(b.a)(v.a.mark(function e(t){var a,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,e.next=3,n(t);case 3:r=e.sent,l(r),a.value=null;case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[n,l]),f=i.length<m&&!o;return c.a.createElement(gt,{tag:"label",active:f,icon:c.a.createElement("i",{className:"icon-add"})},u,c.a.createElement("input",{className:t,style:a,type:"file",accept:r,multiple:s,disabled:!f,onChange:f?d:null}))},va=function(e){var t=e.fileWithMeta,a=t.cancel,n=t.remove,r=t.restart,s=t.xhr,o=e.meta,i=o.name,u=void 0===i?"":i,m=o.percent,d=void 0===m?0:m,f=o.status,p=e.isUpload,v=e.canRemove,b=e.className,h=ne(null),E=Object(l.a)(h,2),g=E[0],_=E[1];if(!g()&&s&&s.responseText)try{var k=JSON.parse(s.responseText),O=k.file_name,j=k.file_link,N=k.file_id;if(!(O&&j&&N))throw new Error("Incorrect response");_({file_name:O,file_link:j,file_id:N})}catch(I){console.log(I)}var y=g(),C=c.a.useCallback(function(){p&&"done"!==f&&"headers_received"!==f&&a(),n()},[a,n,p,f]),x=w.a.startsWith(f,"error")||w.a.startsWith(f,"exception"),S=f===ia||void 0,P=p?"done"===f||"headers_received"===f?100:d:null,D="done"===f;return c.a.createElement(na,{file:y?fa(y):{name:u},loading:P,className:b,done:D,rejected:!(!x||!S)||void 0,error:x,errorMessage:x&&S?"\u0424\u0430\u0439\u043b \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440":void 0,deletable:v,onDelete:C,onIndicatorClick:x&&!S?r:void 0})},ba=function(e){var t=c.a.useContext(ua)||{},a=t.submitting,n=t.hasChanged,r=e.disabled,s=e.onSubmit,o=e.files,l=e.content,i=!ma(o)||r,u=c.a.useCallback(function(){s(o)},[s,o]),m=ta(a,!1===a);return console.log(m),c.a.createElement(la,{in:null!=s&&(n||m!==ea.DONE),appear:!0,mountOnEnter:!0,unmountOnExit:!0,classNames:"animation-fade",timeout:300},c.a.createElement(c.a.Fragment,null,c.a.createElement(gt,{active:!i,icon:n?c.a.createElement("i",{className:"icon-upload"}):c.a.createElement(aa,{state:m}),onClick:u},n?l:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e")))},ha=function(e){var t=e.input,a=e.previews,n=void 0===a?[]:a,r=e.submitButton,s=e.dropzoneProps,o=(e.files,e.extra.maxFiles,c.a.useContext(ua)||{}),l=o.preloadedFiles,i=void 0===l?[]:l,u=o.deletePreloadedFile,m=o.disabled,d=s.ref;return c.a.createElement("div",{ref:d,className:"file-input"},c.a.createElement("h4",{className:"file-input__files-title"},"\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b"),c.a.createElement(yt.a,{className:"file-container"},i&&i.map(function(e){var t=e.file_id;return c.a.createElement(la,{classNames:"animation-fade",timeout:300,key:t},c.a.createElement(na,{file:fa(e),done:!0,deletable:!m,onDelete:function(){u(e)}}))}),n.map(function(e,t){return c.a.createElement(la,{classNames:"animation-fade",timeout:300,key:e.props.meta.id},e)})),c.a.createElement("div",{className:"file-input__controls"},t,r))},Ea=function(e,t){return ma(e)?w.a.concat(t,e.map(function(e){var t=e.xhr;return JSON.parse(t.responseText)})):null},ga=function(e){var t=e.initialFiles,a=void 0===t?[]:t,n=e.inputContent,r=void 0===n?"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b":n,s=e.onChange,o=e.onSubmit,i=e.maxFiles,u=void 0===i?5:i,m=e.maxSizeBytes,d=void 0===m?4194304:m,f=e.accept,p=e.isDisabled,h=void 0!==p&&p,E=Object(g.a)(e,["initialFiles","inputContent","onChange","onSubmit","maxFiles","maxSizeBytes","accept","isDisabled"]),_=c.a.useState(a),k=Object(l.a)(_,2),O=k[0],j=k[1],N=c.a.useState(!1),y=Object(l.a)(N,2),C=y[0],x=y[1],S=c.a.useState(null),P=Object(l.a)(S,2),D=P[0],I=P[1],L=ne([]),F=Object(l.a)(L,2),T=F[0],R=F[1],z=c.a.useCallback(function(e){var t=O.filter(function(t){return t!==e});x(!0),j(t),s&&s(Ea(T(),t))},[O,s,T]),A=c.a.useCallback(function(e,t,a){var n=e.meta;Object(g.a)(e,["meta"]),console.log(t,n,w.a.cloneDeep(a)),x(!0),R(a),s&&s(!0,Ea(a,O))},[s,O,R]),B=c.a.useCallback(function(){var e=Object(b.a)(v.a.mark(function e(t){var a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.map(function(e){return e.meta})),!o){e.next=14;break}if(a=Ea(t,O),!((n=o(a))instanceof Promise)){e.next=14;break}return I(!0),e.prev=6,e.next=9,n;case 9:x(!1),s&&s(!1,a);case 11:return e.prev=11,I(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[6,,11,14]])}));return function(t){return e.apply(this,arguments)}}(),[o,O]);u=O?u-O.length:u;var M="function"===typeof h?h():h;return c.a.createElement(ua.Provider,{value:{preloadedFiles:O,deletePreloadedFile:z,hasChanged:C,disabled:M,submitting:D}},c.a.createElement(sa.a,Object.assign({inputContent:r,submitButtonContent:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"},E,{getUploadParams:da,onChangeStatus:A,onSubmit:o&&B,canCancel:!1,SubmitButtonComponent:ba,LayoutComponent:ha,InputComponent:pa,PreviewComponent:va,maxFiles:u,maxSizeBytes:d,accept:f,classNames:{preview:""},disabled:h})))},_a=function(){var e=c.a.useCallback(function(e){e.preventDefault(),e.returnValue=""},[]);return c.a.useEffect(function(){return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}},[e]),c.a.createElement(u.a,{message:"\u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u043d\u0435\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f, \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?"})},ka=function(e){var t=e.homework,a=e.deadline,n=e.lessonId,r=c.a.useCallback(function(){return a&&new Date>=a},[a]),s=c.a.useState(!1),o=Object(l.a)(s,2),i=o[0],u=o[1],m=c.a.useCallback(function(e,t){console.log("files changed",e,t),u(e)},[]),d=c.a.useCallback(function(){var e=Object(b.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("files submitted",t),a=t[0]?t[0].file_id:null,e.abrupt("return",B({url:"/lessons/".concat(n,"/homeworks/pupil"),method:a?"PUT":"DELETE",data:{file:a}}).then(function(){console.log("loaded"),u(!1)}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[t,n,u]);return c.a.createElement("div",{className:"submission"},i&&c.a.createElement(_a,null),c.a.createElement(ga,{maxFiles:1,initialFiles:t.files,onChange:m,onSubmit:d,isDisabled:r}))},wa=function(e){var t=e.lesson,a=t.id,n=t.name,r=(t.image_link,t.video_link),s=t.description,o=t.assignment,l=e.homework;return c.a.createElement("div",{className:"col-12 col-lg layout__content-block lesson-page__current-lesson"},c.a.createElement("div",{className:"block-container video-container"},c.a.createElement(ra,{video_link:r})),c.a.createElement("div",{className:"block-container description-container"},c.a.createElement("h2",null,n),c.a.createElement("div",{className:"description-text"},s)),o&&c.a.createElement("div",{className:"block-container hw-container"},c.a.createElement("h3",null,"\u0414\u043e\u043c\u0430\u0448\u043d\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435"),c.a.createElement("div",{className:"assignment"},o.files&&c.a.createElement("div",{className:"assignment__files file-container"},o.files.map(function(e,t){return c.a.createElement(na,{file:e,key:t})})),o.description&&c.a.createElement("div",{className:"description-text"},o.description),o.deadline&&c.a.createElement("div",{className:"assignment__deadline"},"\u0414\u0435\u0434\u043b\u0430\u0439\u043d: ",D(o.deadline,D.date))),c.a.createElement(ka,{homework:l,deadline:o.deadline,lessonId:a})))},Oa=function(e){var t=e.match.params,a=t.courseId,n=t.lessonId,r=e.location,s=parseInt(a),o=parseInt(n),i=ge(),u=i.courses,m=(i.error,i.retry,_e(s)),d=m.lessons,f=(m.error,m.retry,function(e){var t=c.a.useState(null),a=Object(l.a)(t,2),n=a[0],r=a[1],s=c.a.useState(null),o=Object(l.a)(s,2),i=o[0],u=o[1],m=c.a.useCallback(function(){var e=Object(b.a)(v.a.mark(function e(t){var a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!pe.homework||!pe.homework[t]){e.next=2;break}return e.abrupt("return",pe.homework[t]);case 2:return a=B.get("/lessons/".concat(t,"/homeworks/pupil")),(pe.homework||(pe.homework={}))[t]=a,e.prev=4,i&&u(null),e.next=8,a;case 8:n=e.sent,console.log("set homework",n),r(n),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0),u(e.t0);case 17:return e.prev=17,delete pe.homework[t],e.finish(17);case 20:return e.abrupt("return",a);case 21:case"end":return e.stop()}},e,null,[[4,13,17,20]])}));return function(t){return e.apply(this,arguments)}}(),[i]);return c.a.useEffect(function(){n||pe.homework&&pe.homework[e]||i||m(e)},[n,e,i]),i?{homework:n,error:i,retry:function(){i&&m(e)}}:{homework:n}}(o)),p=f.homework,h=(f.error,f.retry,function(e){var t=e.id,a=e.locked;return c.a.createElement(Ut,{lesson:e,locked:a,selectable:!a,key:t,link:"../".concat(e.id,"/")})});if(u&&d&&p){var E=w.a.find(u,{id:s}),g=E&&w.a.find(d,{id:o})||null;if(g&&!g.locked){var _=d[g.num];_&&!_.locked||(_=null);var k=w.a.sortBy(d.filter(function(e){return e.id!==g.id&&(!_||e.id!==_.id)}),"num");return c.a.createElement(Ce,{title:"".concat(g.title),className:"lesson-page",location:r},c.a.createElement(Ne,{parentSection:{name:E.name}},c.a.createElement("div",{className:"layout__content-block"},c.a.createElement("div",{className:"container p-lg-0"},c.a.createElement("div",{className:"row"},c.a.createElement(wa,{lesson:g,homework:p}),c.a.createElement("div",{className:"col-12 col-lg-auto layout__content-block lesson-page__other-lessons"},_&&c.a.createElement("h3",null,"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u0435"),_&&c.a.createElement(qe,{renderItem:h},[_]),k&&k.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"\u0414\u0440\u0443\u0433\u0438\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u044f"),c.a.createElement(qe,{renderItem:h},k))))))))}return c.a.createElement(_t,{errorCode:404,message:"\u0423\u0440\u043e\u043a \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"})}return c.a.createElement(Ce,{location:r},c.a.createElement(Oe,null))},ja=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(K.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).state={courses:w.a.sortBy(We,function(e){return e.status===S.finished?1:0})},a}return Object(G.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.match,t=this.state.courses;return c.a.createElement(u.e,null,c.a.createElement(u.c,{path:"".concat(e.path,"/:courseId/:lessonId"),render:function(e){return c.a.createElement(Oa,Object.assign({catalog:t},e))}}),c.a.createElement(u.c,{path:"".concat(e.path,"/:id"),render:function(a){return c.a.createElement(Qt,Object.assign({catalog:t,path:e.path},a))}}),c.a.createElement(u.c,{exact:!0,path:"".concat(e.path),render:function(e){return c.a.createElement(Yt,Object.assign({catalog:t},e))}}))}}]),t}(c.a.Component);a(500);function Na(e){var t=Object(u.h)();c.a.useEffect(function(){return t.listen(e)},[t,e])}var ya=function(e,t){console.log("- - - location: '".concat(e.pathname,"'"),t)},Ca=function(){return c.a.createElement(u.b,{to:"/courses"})};function xa(){!function(){var e=Object(u.i)(),t=Object(u.h)(),a=e.pathname;"/"!==a.slice(-1)&&t.replace(a+"/")}(),function(){var e=ne(Object(u.i)().pathname),t=Object(l.a)(e,2),a=t[0],n=t[1];Na(c.a.useCallback(function(e,t){console.log("update"),a()!==e.pathname&&"POP"!==t&&window.scrollTo(0,0),n(e.pathname)},[a,n]))}(),Na(ya);var e=function(){var e=c.a.useState(!1),t=Object(l.a)(e,2),a=t[0],n=t[1];return[a,c.a.useCallback(function(){n(function(e){return!e})},[])]}(),t=Object(l.a)(e,2),a=t[0],n=t[1],r=we(),s=r.user,o=r.userInfo,m=null!==s;return c.a.createElement("div",{className:"app"},c.a.createElement(J,{onMenuButtonClick:n,user:s,sidebar:m}),c.a.createElement(i.a,{in:a,timeout:200,classNames:xa.layoutAnimationClassNames},c.a.createElement("div",{className:"layout"},c.a.createElement(c.a.Fragment,null,m&&c.a.createElement(Q,{accountRoles:s?o?o.roles:void 0:null,onMenuClose:n}),c.a.createElement(u.e,null,c.a.createElement(u.c,{path:"/index.html",component:Ca}),c.a.createElement(u.c,{exact:!0,path:"/",component:Ca}),c.a.createElement(u.c,{path:"/login",component:xe}),c.a.createElement(u.c,{path:"/courses",component:ja}),c.a.createElement(u.c,{path:"/shop",component:Vt}),c.a.createElement(u.c,{path:"/teachers",component:Nt}),c.a.createElement(u.c,{path:"/account",component:Pe}),c.a.createElement(u.c,{component:_t}))))))}xa.layoutAnimationClassNames={enter:"sidebar-opened",enterActive:"sidebar-opened",enterDone:"sidebar-opened",exit:"sidebar-hiding",exitActive:"sidebar-hiding"};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(function(){return c.a.createElement(m.a,{basename:"/web/"},c.a.createElement(ke,null,c.a.createElement(xa,null)))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},68:function(e,t,a){e.exports=a.p+"static/media/dummy_poster.f51c6af6.jpg"}},[[233,1,2]]]);
//# sourceMappingURL=main.a4b68747.chunk.js.map